<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<META HTTP-EQUIV="MSThemeCompatible" content="Yes"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />

<style type="text/css">
html { -webkit-tap-highlight-color: rgba(0,0,0,0); -webkit-user-select: none; -ms-touch-action: none;}
.A5container {float:left;padding:0px;}
.A5CWLayout {padding: 0px; float: left; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;}
.A5GridHideErrorCol .A5GridErrorCol {display:none; }
.A5GridRowErrorIcon {display:none;}
.A5GridHasRowError .A5GridRowErrorIcon {display:inline;}
.A5GridRowViewMode {display:block;}
.A5GridRowEditMode {display:none;}
.A5GridRowInEditMode .A5GridRowViewMode {display:none;}
.A5GridRowInEditMode .A5GridRowEditMode {display:block;}
.A5GridRowDirty {display:none;}
.A5GridRowClean {display:inline;}
.A5GridRowIsDirty .A5GridRowDirty {display:inline;}
.A5GridRowIsDirty .A5GridRowClean {display:none;}
.errorText {color:red;font-size:8pt;}
.errorTextHighlight {font-weight:bold;font-size:8pt;}
.errorTip {color:red;background:#fffafa url('a5images/boxsize8x8fillUp5FDiagonalWhite3A232552C2392C239.png');border:1px solid #f88;margin-top:2px;padding:2px;font-size:8pt;}
.errorInput {color:red;border:1px solid red;margin:1px;}
.errorInputHighlight {color:red;border:2px solid red;margin:0px;}
.A5SelectedButton {opacity:.5;filter:alpha(opacity=50);}
.A5InvisibleLock {background: rgba(0,0,0,0); }

.A5AccordionTitleOn, .A5AccordionTitleOff, .A5AccordionTitleDisabled {display: block;border: 1px solid #999;padding: 2px;text-decoration: none;cursor: pointer;margin-bottom: 2px; padding: 2px}
.A5AccordionPane {border: 1px solid #999;border-top: none;margin-bottom: 2px;margin-top: -2px;}
.A5TabTopOn, .A5TabTopOff, .A5TabTopDisabled {display: block;float: left;border: 1px solid #999;border-bottom: none;margin-right: 2px;padding: 2px;text-decoration: none;cursor: pointer;}
.A5TabTopOn {margin-bottom: -1px;padding-bottom: 3px;}
.A5TabBottomOn, .A5TabBottomOff, .A5TabBottomDisabled {display: block;float: left;border: 1px solid #999;margin-right: 2px;padding: 2px;text-decoration: none;cursor: pointer;}
.A5TabBottomOn {border-top: none;padding-top: 3px;}
.A5TabLeftOn, .A5TabLeftOff, .A5TabLeftDisabled {display: block;border: 1px solid #999;margin-bottom: 2px;padding: 2px;text-decoration: none;cursor: pointer;}
.A5TabLeftOn {margin-right: -1px;padding-right: 3px;border-right: none;}
.A5TabRightOn, .A5TabRightOff, .A5TabRightDisabled {display: block;border: 1px solid #999;border-left: none;margin-bottom: 2px;padding: 2px;text-decoration: none;cursor: pointer;}
.A5TabRightOn {margin-left: -1px;padding-left: 3px;}
.A5TabTopPane, .A5TabBottomPane, .A5TabLeftPane, .A5TabRightPane {border: 1px solid #999; padding: 2px;}


.A5TabBand {border: 1px solid #999; padding: 0px;}
.A5TabBandTabOn, .A5TabBandTabOff, .A5TabBandTabDisabled {position: relative;display: block;border: 1px solid #999;border-bottom: none;margin-right: 2px;margin-top: 2px;padding: 2px;text-decoration: none;cursor: pointer;white-space: nowrap;}
.A5TabBandTabOn {margin-bottom: -1px;padding-bottom: 3px;}
.A5TabBandSeparator {border: none;border-top: 1px solid #999;height: 3px;padding: 0px;font: 0pt arial;}
.A5TabBandLeftScroll {position: relative;display: block;padding: 2px;margin-bottom: -1px;padding-bottom: 3px;text-decoration: none;border: 1px solid #999;border-left: none;border-bottom: none;}
.A5TabBandRightScroll {position: relative;display: block;padding: 2px;margin-bottom: -1px;padding-bottom: 3px;text-decoration: none;border: 1px solid #999;border-right: none;border-bottom: none;}
.A5TabBandTabDisabled, .A5TabTopDisabled, .A5TabLeftDisabled, .A5TabRightDisabled, .A5TabBottomDisabled, .A5AccordionTitleDisabled {opacity: .5; filter: alpha(opacity: 50)}
.A5Window {-moz-border-radius: 3px; -webkit-border-radius: 3px;}
.A5WindowLock{border: 1px solid #000;background: #222;opacity: .25;filter: alpha(opacity: 25);}

.A5AccordionTitleOn:hover, .A5AccordionTitleOff:hover, .A5TabBandTabOff:hover, .A5TabTopOff:hover, .A5TabLeftOff:hover, .A5TabRightOff:hover, .A5TabBottomOff:hover{text-decoration: underline;}

.A5MenuItem {text-decoration:none;}
.A5DialogRSSeparator {border-top: 1px dotted #ccc; line-height:5px; margin-top: 5px;}
.A5DialogRSFooter {margin-top: 10px;}






</style>

<link rel="stylesheet" type="text/css" href="css/iOS7/style.css">

<link rel="stylesheet" type="text/css" href="css/CSSIcons/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="css/CSSIcons/font-awesome/fonts/fontawesome-webfont.eot">
<link rel="stylesheet" type="text/css" href="css/CSSIcons/font-awesome/fonts/fontawesome-webfont.svg">
<link rel="stylesheet" type="text/css" href="css/CSSIcons/font-awesome/fonts/fontawesome-webfont.ttf">
<link rel="stylesheet" type="text/css" href="css/CSSIcons/font-awesome/fonts/fontawesome-webfont.woff">
<link rel="stylesheet" type="text/css" href="css/CSSIcons/font-awesome/css/font-awesome.css">

<style type="text/css">
.menuPanel {
background-color: rgba(0,0,0,0.3);
border: none;
}
.menuItem {
color: #ffffff;
background-color: rgba(150,50,50,0.8);
font-size: 14pt;
font-family: 'Open Sans Condensed';
border-bottom: 1px solid rgba(255,0,0,1);
padding: 4px;
height: 35px;
}
.foto {
background-color: #808080;
display: table-cell;
position: relative;
top: 0px;
left: 0px;
width: 319px;
height: 319px	;
}
.itemSpace {
background-color: red;
display: block;
position: relative;
top: 0px;
left: 0px;
width: 20px;
height: 100%;
}
.item {
color: #ffffff;
background-color: rgba(255,0,0,0.5);
padding: 4px;
display: table-cell;
float: right;
position: absolute;
top: -webkit-calc(100% - 100px);
left: 10px;
width: calc(100% - 86px);
height: 80px;
}
.preco {
}
.comprar {
color: #ffffff;
background-color: rgba(0,255,0,0.5);
padding: 4px;
display: table-cell;
float: right;
vertical-align: center;
position: absolute;
top: -webkit-calc(100% - 100px);
left: -webkit-calc(100% - 68px);
width: 60px;
height: 80px;
}
.itemQtd {
color: #ffffff;
background-color: #ffcc00;
font-size: 16px;
font-style: bold;
display: block;
position: relative;
top: 10px;
left: 0px;
width: 100%;
height: 40px;
}
.btnCarrinho {
text-decoration: none;
color: #ffffff;
background: #3498db;
border: none;
padding: 7px 10px 7px 10px;
width: 30px;
height: 30px;
}
.btnCarrinho:hover {
text-decoration: none;
background:#3cb0fd;
}
.btnTrash {
text-decoration: none;
color: #ffffff;
background: #ff0000;
border: none;
padding: 7px 10px 7px 10px;
width: 30px;
height: 30px;
}
.btnEntrar {
text-decoration: none;
color: #ffffff;
background:#25a645;
border: none;
padding: 7px 15px 7px 15px;
font-weight: bold;
font-size:14px;
}
.btnSenhaCadastro {
text-decoration: none;
color: #ffffff;
background:#3cb0fd;
border: none;
padding: 7px 10px 7px 10px;
font-weight: bold;
font-size:14px;
}
.btnTrash:hover {
text-decoration: none;
background: #3cb0fd;
}
.btnFinalizarPedido {
text-align: center;
text-decoration: none;
color: #ffffff;
background: #2eab64;
font: bold 18px Arial;
border: none;
border-bottom: 4px solid #327a3d;
padding-top: 6px;
padding-bottom: 6px;
border-radius: 0px;
-webkit-border-radius: 0;
-moz-border-radius: 0;
}
.btnFinalizarPedido:hover {
text-decoration: none;
background: #08c75b;
}
.btnPrincipal {
text-decoration: none;
color: #ffffff;
background: #FFffFF;
border: 1px solid #e3e3e3;
padding: 0px 10px 0px 10px;
}
.btnEndereco {
text-decoration: none;
color: #ffffff;
background: #FFffFF;
border: none;
padding: 0px 0px 0px 0px;
}
.GuestMessage {
  -webkit-border-radius: 17px 17px 0px 17px;
  -moz-border-radius: 17px 17px 0px 17px;
  border-radius: 17px 17px 0px 17px;
  text-shadow: 1px 1px 3px #666666;
  -webkit-box-shadow: 0px 1px 3px #666666;
  -moz-box-shadow: 0px 1px 3px #666666;
  box-shadow: 0px 1px 3px #666666;
  font-family: Arial;
  color: #ffffff;
  font-size: 14px;
  background: #2eab64;
  padding: 6px 6px 6px 6px;
  border: noen;
  text-decoration: none;
	float: right;
	text-align:right;
	margin-left: 30px;
	margin-top: 5px;
}
.CompanyMessage {
  -webkit-border-radius:  0px 17px 17px 17px;
  -moz-border-radius:  0px 17px 17px 17px;
  border-radius:  0px 17px 17px 17px;
  text-shadow: 1px 1px 3px #666666;
  -webkit-box-shadow: 0px 1px 3px #666666;
  -moz-box-shadow: 0px 1px 3px #666666;
  box-shadow: 0px 1px 3px #666666;
  font-family: Arial;
  color: #ffffff;
  font-size: 14px;
  background:#2fb5ca;
  padding: 6px 6px 6px 6px;
  border: none;
  text-decoration: none;
	float: left;
	text-align:left;
	margin-right:30px;
	margin-top: 5px;
}
.AppTitle {
	font-family: 'Lato';
	font-size: 15pt;
	font-weight: lighter;
	color: #ffffff;
}
.FlatPanel {
	border-style: none;
	padding: 0px;
	margin: 0px;
}
.btnPessoasReserva {
text-decoration: none;
color: #ffffff;
background: #3498db;
border: none;
padding: 7px 10px 7px 10px;
width: 40px;
height: 40px;
margin-top:33px;
}
.btnPessoasReserva:hover {
text-decoration: none;
background:#3cb0fd;
}
.btnSalvarReserva {
text-decoration: none;
color: #ffffff;
background:#25a645;
border: none;
padding: 7px 15px 7px 15px;
font-weight: bold;
font-size:14px;
width: 188px;
height: 40px;
}
.btnDescartarReserva {
text-decoration: none;
color: #ffffff;
background:#FF0000;
border: none;
padding: 7px 15px 7px 15px;
font-weight: bold;
font-size:14px;
width: 188px;
height: 40px;
}
.btnReservaConfirmada {
margin-right:4px;
text-decoration: none;
color: #ffffff;
background:#008000;
border: none;
padding: 2px 2px 2px 2px;
font-weight: lighter;
font-size:14px;
width: 60px;
height: 40px;
font-family:'Open Sans Condensed';
}
.btnReservaSolicitada {
margin-right:4px;
text-decoration: none;
color: #ffffff;
background:#ff9900;
border: none;
padding: 2px 2px 2px 2px;
font-weight: lighter;
font-size:14px;
width: 60px;
height: 40px;
font-family:'Open Sans Condensed';
}
.btnReservaCancRestaurante {
margin-right:4px;
text-decoration: none;
color: #ffffff;
background:#800000;
border: none;
padding: 2px 2px 2px 2px;
font-weight: lighter;
font-size:14px;
width: 60px;
height: 40px;
font-family:'Open Sans Condensed';
}
.btnReservaCancUsuario {
margin-right:4px;
text-decoration: none;
color: #ffffff;
background:#ba8e83;
border: none;
padding: 2px 2px 2px 2px;
font-weight: lighter;
font-size:14px;
width: 60px;
height: 40px;
font-family:'Open Sans Condensed';
}
</style>














































































































































<style type="text/css">
._DLG1_LISTACARRINHOITEM_dirtyRow { position:relative; }
._DLG1_LISTACARRINHOITEM_dirtyRow:before { 
		content: "";
	position: absolute;
	top: 0px;
	right: 0px;
	opacity: 1;
	border: 10px solid orange;
	border-top-width: 0px;
	border-left-width: 0px;
	border-bottom-color: transparent;

}
._DLG1_LISTACARRINHOITEM_newRow {  position:relative; }
._DLG1_LISTACARRINHOITEM_newRow:before { 
		content: "";
	position: absolute;
	top: 0px;
	right: 0px;
	opacity: 1;
	border: 10px solid blue;
	border-top-width: 0px;
	border-left-width: 0px;
	border-bottom-color: transparent;

}


._DLG1_LISTACARRINHOITEM_hasError {  position:relative; }
._DLG1_LISTACARRINHOITEM_hasError:after { 
		content: "";
	position: absolute;
	bottom: 0px;
	right: 0px;
	opacity: 1;
	border: 10px solid red;
	border-bottom-width: 0px;
	border-left-width: 0px;
	border-top-color: transparent;

}


._DLG1_LISTACARRINHOITEM_deletedRow {  position:relative; }
._DLG1_LISTACARRINHOITEM_deletedRow:before { 
		content: "";
	position: absolute;
	top: 0px;
	right: 0px;
	opacity: 1;
	border: 10px solid purple;
	border-top-width: 0px;
	border-left-width: 0px;
	border-bottom-color: transparent;

}



._DLG1_LISTACARRINHOITEM_dirtyRowInherited { position:relative; }
._DLG1_LISTACARRINHOITEM_dirtyRowInherited:before { 
	content: "";
	position: absolute;
	top: 0px;
	right: 0px;
	border: 10px solid orange;
	border-top-width: 0px;
	border-left-width: 0px;
	border-bottom-color: transparent;
opacity: .3;
}


._DLG1_LISTACARRINHOITEM_deletedRowInherited { position:relative; }
._DLG1_LISTACARRINHOITEM_deletedRowInherited:before { 
	content: "";
	position: absolute;
	top: 0px;
	right: 0px;
	border: 10px solid purple;
	border-top-width: 0px;
	border-left-width: 0px;
	border-bottom-color: transparent;
opacity: .3;
}

._DLG1_LISTACARRINHOITEM_newRowInherited {  position:relative; }
._DLG1_LISTACARRINHOITEM_newRowInherited:before { 
	content: "";
	position: absolute;
	top: 0px;
	right: 0px;
	border: 10px solid blue;
	border-top-width: 0px;
	border-left-width: 0px;
	border-bottom-color: transparent;
opacity: .3;
}


._DLG1_LISTACARRINHOITEM_hasErrorInherited {  position:relative; }
._DLG1_LISTACARRINHOITEM_hasErrorInherited:after { 
	content: "";
	position: absolute;
	bottom: 0px;
	right: 0px;
	border: 10px solid red;
	border-bottom-width: 0px;
	border-left-width: 0px;
	border-top-color: transparent;
opacity: .3;
}

.parentDeleted { 
	position:relative;
}

.parentIsDeleted .parentDeleted:before { 
	content: "";
	position: absolute;
	top: 0px;
	right: 0px;
	border: 10px solid purple;
	border-top-width: 0px;
	border-left-width: 0px;
	border-bottom-color: transparent;
opacity: .3;
}




</style>
<style>
</style>

<script src="phonegap.js"></script>


<script type="text/javascript" src="javascript/a5.js"></script>
<script type="text/javascript" src="javascript/a5_url.js"></script>

<script type="text/javascript" src="css/iOS7/style.js"></script>
<script type="text/javascript" src="javascript/A5jQueryWithUI.js"></script>

<script>
	if(typeof jQuery != 'undefined') jQuery.noConflict();
</script>



<script type="text/javascript" language="javascript">
A5._windowDefaults={title:{tools:{defaults:{'close':{action:'close',name:'close',image:'a5images/windowbuttonclose.png'}}}}}
A5.serverSideDateFormat = 'dd/MM/yyyy';
</script>


<script type="text/javascript" src="pubnub.min.js"></script>


</head>
<body class="iOS7Page">
<iframe style="display:none;" id="DLG1.__IFRAME1"></iframe>
<input type="hidden" value="" id="DLG1.PARAMETERBUCKET"/>
<input type="file" style="position:absolute; top:-1000px;visibility:hidden;" accept="image/*" id="DLG1._GETPHOTO"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" multiple = "" id="DLG1._GETFILEMULTI"/><input type="file" style="position:absolute; top:-1000px;visibility:hidden;" name="files[]" id="DLG1._GETFILE"/><input type="hidden" id="DLG1.V.R1.LISTACATEGORIAS" name="V.R1.LISTACATEGORIAS" />
<input type="hidden" id="DLG1.V.R1.LISTAITENS" name="V.R1.LISTAITENS" />
<input type="hidden" id="DLG1.V.R1.LISTACARRINHOITEM" name="V.R1.LISTACARRINHOITEM" />
<input type="hidden" id="DLG1.V.R1.LISTARESERVAS" name="V.R1.LISTARESERVAS" />
<input type="hidden" id="DLG1.V.R1.MENUPRINCIPAL" name="V.R1.MENUPRINCIPAL" />
<input id="DLG1.V.R1.HORA" name="V.R1.HORA" type="hidden"/>
<input id="DLG1.V.R1.MINUTOS" name="V.R1.MINUTOS" type="hidden"/>
	<div 	id="DLG1.V.R1.ITENS_FOOTER"   
			class=""  style="color: #ffcc00; background-color: #000000; border-style: none; width: 100%; height: 0px; "  >
<div style="display: table; margin: auto;">

<div class="A5CWLayout" style="width: " >
	<div id="DLG1.V.R1.STATICTEXT_4" title=""  class="" style="text-align: center; color: #ffcc00; background-color: rgba(0,0,0,0.3); font: 14px Arial; position: relative; top: -15px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><span id="itemFooter"></span></div>
</div>
	
		<div style="font: 0pt arial;clear:both;"></div>
	</div>
	</div>



	<div 	id="DLG1.V.R1.CARRINHO_FOOTER"   
			class=""  style="height: 0px; "  >

<div class="A5CWLayout" style="width: 100%" >
	<div id="DLG1.V.R1.STATICTEXT_5" title=""  class="" style="text-align: center; color: #ffffff; background-color: rgba(255,0,0,0.8); font: 18px Arial; padding-top: 4px; position: relative; top: -65px; width: 100%; height: 28px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><span id="footerCarrinho"></span></div>
</div><br style="clear:both; " />
	
	<div class="A5CWLayout" style="width: 100%" >
	<button type="button" id="DLG1.V.R1.BUTTON_14"    ></button>
</div>
	
		<div style="font: 0pt arial;clear:both;"></div>
	</div>



	<div 	id="DLG1.V.R1.WDW_LOGIN"   
			class=""  style="margin-top: 20px; margin-left: 20px; margin-right: 20px; ; display: none;"  >

<div class="A5CWLayout" style="width: 100%" >
	<label id="DLG1.LBL.R1.USUARIOID" for="DLG1.V.R1.USUARIOID" title="" class="iOS7DialogLabel" style="text-align: Center; display: block; ">Telefone</label>

	<input	type="tel" id="DLG1.V.R1.USUARIOID" title=""     class="iOS7Edit" style="text-align: center; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.USUARIOID"    value=""    />

</div><br style="clear:both; " />
	
<div class="A5CWLayout" style="width: 100%" >
	<label id="DLG1.LBL.R1.SENHA" for="DLG1.V.R1.SENHA" title="" class="iOS7DialogLabel" style="text-align: Center; display: block; ">Senha</label>

	<input	type="password" id="DLG1.V.R1.SENHA" title=""     class="iOS7Edit" style="text-align: center; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.SENHA"    value=""    />

</div><br style="clear:both; " /><div style="height:10px; font: 0pt;"></div>
	
	<div class="A5CWLayout" style="width: 100%" >
	<button type="button" id="DLG1.V.R1.BUTTON_27"    ></button>
</div><br style="clear:both; " /><div style="height:10px; font: 0pt;"></div>
	
	<div class="A5CWLayout" style="width: 48%" >
	<button type="button" id="DLG1.V.R1.BUTTON_28"    ></button>
</div>
	
<div class="A5CWLayout" style="width: 4%" >
	<div id="SPACER_2" style="width: 100%; height: 1px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; font: 0pt Arial;">&nbsp;</div>
</div>
	
	<div class="A5CWLayout" style="width: 48%" >
	<button type="button" id="DLG1.V.R1.BUTTON_29"    ></button>
</div><br style="clear:both; " />
	
<div class="A5CWLayout" style="width: 2in" >
	<label id="DLG1.LBL.R1.LOGGEDIN" for="DLG1.V.R1.LOGGEDIN" title="" class="iOS7DialogLabel" style="text-align: Center; display: block; ">Logged In</label>

	<input	type="text" id="DLG1.V.R1.LOGGEDIN" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.LOGGEDIN"    value=""    />

</div><br style="clear:both; " />
	
		<div style="font: 0pt arial;clear:both;"></div>
	</div>



	<div 	id="DLG1.V.R1.WDW_NOVARESERVA"   
			class=""  style="margin-top: 5%; margin-left: 5%; margin-right: 5%; ; display: none;"  >

	<div 	id="DLG1.V.R1.CONTAINER_12"   
			class="A5CWLayout "  style="width: 90%; "  >
<div style="display: table; margin: auto;">

<div class="A5CWLayout" style="width: 100%" >
	<label id="DLG1.LBL.R1.DATARESERVA" for="DLG1.V.R1.DATARESERVA" title="" class="iOS7DialogLabel" style="text-align: Center; display: block; ">Reserva para:</label>

	<input	type="datetime-local" id="DLG1.V.R1.DATARESERVA" title=""  autocapitalize="off"  autocorrect="off"     class="iOS7Edit" style="text-align: center; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.DATARESERVA"    value=""  'type="datetime"'  />

</div><br style="clear:both; " />
	
<div class="A5CWLayout" style="width: 83px" >
	<label id="DLG1.LBL.R1.HORA" for="DLG1.V.R1.HORA" title="" class="iOS7DialogLabel" style="text-align: Center; display: block; ">Hora</label>

	<input id="DLG1.V.R1.HORA" name="V.R1.HORA" type="hidden"/>
<div id="DLG1.V.R1.HORA.CONTROL"  style="width: 83px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>

</div>
	
<div class="A5CWLayout" style="width: " >
	<div id="DLG1.V.R1.STATICTEXT_1" title=""  class="" style="margin-top: 60px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><strong><font  size=5>&#0160;:</font></strong></div>
</div>
	
<div class="A5CWLayout" style="width: 83px" >
	<label id="DLG1.LBL.R1.MINUTOS" for="DLG1.V.R1.MINUTOS" title="" class="iOS7DialogLabel" style="text-align: Center; display: block; ">Minutos</label>

	<input id="DLG1.V.R1.MINUTOS" name="V.R1.MINUTOS" type="hidden"/>
<div id="DLG1.V.R1.MINUTOS.CONTROL"  style="width: 83px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>

</div><br style="clear:both; " />
	
	<div class="A5CWLayout" style="width: " >
	<button type="button" id="DLG1.V.R1.BUTTON_2"    ></button>
</div>
	
<div class="A5CWLayout" style="width: 100px" >
	<label id="DLG1.LBL.R1.PESSOAS" for="DLG1.V.R1.PESSOAS" title="" class="iOS7DialogLabel" style="text-align: Center; display: block; ">Pessoas</label>

	<span	id="DLG1.V.R1.PESSOAS" class="iOS7GridData" style="text-align: center; width: 100%; height: 40px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display:inline-block" title=""    ></span>

</div>
	
	<div class="A5CWLayout" style="width: " >
	<button type="button" id="DLG1.V.R1.BUTTON_1"    ></button>
</div><br style="clear:both; " /><div style="height:8px; font: 0pt;"></div>
	
	<div class="A5CWLayout" style="width: " >
	<button type="button" id="DLG1.V.R1.BUTTON_3"    ></button>
</div><br style="clear:both; " /><div style="height:8px; font: 0pt;"></div>
	
	<div class="A5CWLayout" style="width: " >
	<button type="button" id="DLG1.V.R1.BUTTON_4"    ></button>
</div><br style="clear:both; " />
	
		<div style="font: 0pt arial;clear:both;"></div>
	</div>
	</div>
<br style="clear:both; " />

<div class="A5CWLayout" style="width: 2in" >
	<label id="DLG1.LBL.R1.RESERVADATAHORA" for="DLG1.V.R1.RESERVADATAHORA" title="" class="iOS7DialogLabel" style="text-align: Center; display: block; ">Reserva Data Hora</label>

	<input	type="text" id="DLG1.V.R1.RESERVADATAHORA" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.RESERVADATAHORA"    value=""    />

</div><br style="clear:both; " />
	
		<div style="font: 0pt arial;clear:both;"></div>
	</div>




<script type="text/javascript" language="javascript">

A5.u.drag.useDragScrolling = 'auto';
if(typeof DLG1_DlgObj == 'object') {
	DLG1_DlgObj._destroy();
	try {
		delete DLG1_DlgObj;
	} catch(e) {
		DLG1_DlgObj = undefined;
	}
};
;if(typeof DLG1_PanelObj != 'undefined') {
	var ele = $(DLG1_PanelObj.getPanelId());
	if(ele) {
		if(ele.parentNode) ele.parentNode.removeChild(ele);
	}
	delete DLG1_PanelObj;
}
;window['DLG1_PanelObj'] = new A5.PanelNavigator([
{
	name: 'PANELLAYOUT_2',
	src: new A5.PanelLayout([
{
	name: 'PL_INICIO',
	size: '100%',
	src: new A5.PanelLayout([
{
	name: 'PC_INICIO_BTN1',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '\t<div class="A5CWLayout" style="width: 50%" >\n\t<button type="button" id="DLG1.V.R1.BTN_CARDAPIO"    ></button>\n</div>\n\t\n\t<div class="A5CWLayout" style="width: 50%" >\n\t<button type="button" id="DLG1.V.R1.BTN_ENDER"    ></button>\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: false
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	className: 'FlatPanel'
})
},
{
	name: 'PC_INICIO_BTN2',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '\t<div class="A5CWLayout" style="width: 50%" >\n\t<button type="button" id="DLG1.V.R1.BTN_RESERVA"    ></button>\n</div>\n\t\n\t<div class="A5CWLayout" style="width: 50%" >\n\t<button type="button" id="DLG1.V.R1.BTN_MESSAGE"    ></button>\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: false,
		style: 'border-style: none;'
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	className: 'FlatPanel'
})
},
{
	name: 'PC_INICIO_BTN3',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '\t<div class="A5CWLayout" style="width: 100%" >\n\t<button type="button" id="DLG1.V.R1.BTN_PROMOCAO"    ></button>\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: false
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	}
})
}
],{
	theme: 'iOS7',
	onSize: function() {;},
	onLayoutRefresh: function() {var visiblePanels = [];
for(var i = 0; i < this.panels.length; i++) { 
	if(this.panels[i]._hidden  == false) { 
		visiblePanels.push(this.panels[i].name);
	}
}},
	onPanelActivate: function() {DLG1_DlgObj.refreshClientSideComputations();},
	flow: 'ttb',
	header: {
		show: false
	},
	footer: {
		show: false
	},
	overlay: {
		show: false
	},
	dock: {
		method: 'overlay',
		flowLock: {
			has: true
		}
	},
	controls: {
		prev: {
			has: false
		},
		next: {
			has: false
		}
	},
	body: {
	},
	animation: {
		duration: 400
	}
})
},
{
	name: 'PC_CATEGORIAS',
	size: '100%',
	dock: 'none',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: 4in" >\n\t<label id="DLG1.LBL.R1.LISTACATEGORIAS" for="DLG1.V.R1.LISTACATEGORIAS" title="" class="iOS7DialogLabel" style="text-align: Center; display: block; ">Lista Categorias</label>\n\n\t\n<div  class="iOS7List"   style="padding:0px; "  >\n\t<div id="DLG1.V.R1.LISTACATEGORIAS.CONTROL"  style="overflow: auto; width: 100%; height: 3in; "></div>\n</div>\n\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	onSize: function() {;
if(typeof DLG1_DlgObj != 'undefined') {var mObj = DLG1_DlgObj.getControl('LISTACATEGORIAS'); if(mObj) mObj.refresh();}}
})
},
{
	name: 'PC_CARDAPIO',
	size: '100%',
	dock: 'none',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '<div class="" style="width: 4in" >\n\t<label id="DLG1.LBL.R1.LISTAITENS" for="DLG1.V.R1.LISTAITENS" title="" class="iOS7DialogLabel" style="text-align: Right; float: left; width: 1in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">Lista Itens</label>\n<div style="margin-left: 1in ;">\n<div  class="iOS7List"   style="padding:0px; "  >\n\t<div id="DLG1.V.R1.LISTAITENS.CONTROL"  style="overflow: auto; width: 100%; height: 3in; "></div>\n</div>\n</div>\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: false
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	className: 'FlatPanel',
	onSize: function() {;
if(typeof DLG1_DlgObj != 'undefined') {var mObj = DLG1_DlgObj.getControl('LISTAITENS'); if(mObj) mObj.refresh();}}
})
},
{
	name: 'PC_CARRINHO',
	size: '100%',
	dock: 'none',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.CARRINHOID" for="DLG1.V.R1.CARRINHOID" title="" class="iOS7DialogLabel" style="text-align: Right; display: block; ">Carrinho Id</label>\n\n\t<input\ttype="text" id="DLG1.V.R1.CARRINHOID" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CARRINHOID"    value=""    />\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.CLIENTETELEFONE" for="DLG1.V.R1.CLIENTETELEFONE" title="" class="iOS7DialogLabel" style="text-align: Right; display: block; ">Cliente Telefone</label>\n\n\t<input\ttype="text" id="DLG1.V.R1.CLIENTETELEFONE" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CLIENTETELEFONE"    value=""    />\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.CLIENTENOME" for="DLG1.V.R1.CLIENTENOME" title="" class="iOS7DialogLabel" style="text-align: Right; display: block; ">Cliente Nome</label>\n\n\t<input\ttype="text" id="DLG1.V.R1.CLIENTENOME" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CLIENTENOME"    value=""    />\n\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'y',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	className: 'FlatPanel'
})
},
{
	name: 'PC_CARRINHO_ITEM',
	size: '100%',
	dock: 'none',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: 4in" >\n\t\n<div  class="iOS7List"   style="padding:0px; "  >\n\t<div id="DLG1.V.R1.LISTACARRINHOITEM.CONTROL"  style="overflow: auto; width: 100%; height: 3in; "></div>\n</div>\n\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: false
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	className: 'FlatPanel',
	onSize: function() {;
if(typeof DLG1_DlgObj != 'undefined') {var mObj = DLG1_DlgObj.getControl('LISTACARRINHOITEM'); if(mObj) mObj.refresh();}}
})
},
{
	name: 'PC_DV_CARRINHO_ITEM',
	size: '100%',
	dock: 'none',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '\t<div \tid="DLG1.V.R1.CONTAINER_1_1"   \n\t\t\tclass="A5CWLayout "  style=""  >\n\n<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.CARRINHOID_1" for="DLG1.V.R1.CARRINHOID_1" title="" class="iOS7DialogLabel" style="display:block;">carrinhoID 1</label>\n\n\t<input\ttype="text" id="DLG1.V.R1.CARRINHOID_1" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CARRINHOID_1"    value=""    />\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.CARRITEMID" for="DLG1.V.R1.CARRITEMID" title="" class="iOS7DialogLabel" style="display:block;">carrItemID</label>\n\n\t<input\ttype="text" id="DLG1.V.R1.CARRITEMID" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CARRITEMID"    value=""    />\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.ITEMID" for="DLG1.V.R1.ITEMID" title="" class="iOS7DialogLabel" style="display:block;">itemID</label>\n\n\t<input\ttype="text" id="DLG1.V.R1.ITEMID" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.ITEMID"    value=""    />\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.CARRITEMQTD" for="DLG1.V.R1.CARRITEMQTD" title="" class="iOS7DialogLabel" style="display:block;">carrItemQtd</label>\n\n\t<input\ttype="text" id="DLG1.V.R1.CARRITEMQTD" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CARRITEMQTD"    value=""    />\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.CARRITEMPRECOUNIT" for="DLG1.V.R1.CARRITEMPRECOUNIT" title="" class="iOS7DialogLabel" style="display:block;">carrItemPrecoUnit</label>\n\n\t<input\ttype="text" id="DLG1.V.R1.CARRITEMPRECOUNIT" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CARRITEMPRECOUNIT"    value=""    />\n\n</div><br style="clear:both; " />\n\t\n\t<div class="A5CWLayout" style="width: " >\n\t<button type="button" id="DLG1.V.R1.BUTTON_DVSAVE_LISTACARRINHOITEM"    ></button>\n</div>\n\t\n\t<div class="A5CWLayout" style="width: " >\n\t<button type="button" id="DLG1.V.R1.BUTTON_DVNEWRECORD_LISTACARRINHOITEM"    ></button>\n</div>\n\t\n\t<div class="A5CWLayout" style="width: " >\n\t<button type="button" id="DLG1.V.R1.BUTTON_DVDELETERECORD_LISTACARRINHOITEM"    ></button>\n</div>\n\t\n\t<div class="A5CWLayout" style="width: " >\n\t<button type="button" id="DLG1.V.R1.BUTTON_DVRESET_LISTACARRINHOITEM"    ></button>\n</div>\n\t\n\t<div class="A5CWLayout" style="width: " >\n\t<button type="button" id="DLG1.V.R1.BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM"    ></button>\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: "  id="DLG1.V.R1.LISTACARRINHOITEM_DEBUGINFO" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: "  id="DLG1.V.R1.LISTACARRINHOITEM_GLOBALERRORS" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">\n</div><br style="clear:both; " />\n\t\n\t\t<div style="font: 0pt arial;clear:both;"></div>\n\t</div>\n<br style="clear:both; " />\n\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: false
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	className: 'FlatPanel'
})
},
{
	name: 'PC_ENDERECO',
	size: '100%',
	dock: 'none',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '\t<div \tid="DLG1.V.R1.CONTAINER_5"   \n\t\t\tclass="A5CWLayout "  style=""  >\n\n<div class="A5CWLayout" style="width: 2in" >\n\t<input\ttype="text" id="DLG1.V.R1.EMPRESAID" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.EMPRESAID"    value=""    />\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 100%" >\n\t<span\tid="DLG1.V.R1.EMPRESAFANTASIA" class="iOS7GridData" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display:inline-block" title=""    ></span>\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 80%" >\n\t<span\tid="DLG1.V.R1.EMPRESAENDENDERECO" class="iOS7GridData" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display:inline-block" title=""    ></span>\n\n</div>\n\t\n<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.EMPRESAENDERECONUMERO" for="DLG1.V.R1.EMPRESAENDERECONUMERO" title="" class="iOS7DialogLabel" style="float: left; width: 1in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">Empresa Endereco Numero</label>\n<div style="margin-left: 1in ;"><input\ttype="text" id="DLG1.V.R1.EMPRESAENDERECONUMERO" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.EMPRESAENDERECONUMERO"    value=""    />\n</div>\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 20%" >\n\t<span\tid="DLG1.V.R1.EMPRESAENDNUMERO" class="iOS7GridData" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display:inline-block" title=""    ></span>\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 30%" >\n\t<span\tid="DLG1.V.R1.EMPRESAENDCOMPLEMENTO" class="iOS7GridData" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display:inline-block" title=""    ></span>\n\n</div>\n\t\n<div class="A5CWLayout" style="width: 70%" >\n\t<span\tid="DLG1.V.R1.EMPRESAENDBAIRRO" class="iOS7GridData" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display:inline-block" title=""    ></span>\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 80%" >\n\t<span\tid="DLG1.V.R1.EMPRESAENDCIDADE" class="iOS7GridData" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display:inline-block" title=""    ></span>\n\n</div>\n\t\n<div class="A5CWLayout" style="width: 20%" >\n\t<span\tid="DLG1.V.R1.EMPRESAENDUF" class="iOS7GridData" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display:inline-block" title=""    ></span>\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 100%" >\n\t<span\tid="DLG1.V.R1.EMPRESAENDCEP" class="iOS7GridData" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display:inline-block" title=""    ></span>\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 100%" >\n\t<span\tid="DLG1.V.R1.EMPRESATELEFONE" class="iOS7GridData" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; display:inline-block" title=""    ></span>\n\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.EMPRESAPAIS" for="DLG1.V.R1.EMPRESAPAIS" title="" class="iOS7DialogLabel" style="float: left; width: 1in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">Empresa Pais</label>\n<div style="margin-left: 1in ;"><input\ttype="text" id="DLG1.V.R1.EMPRESAPAIS" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.EMPRESAPAIS"    value=""    />\n</div>\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.DEVICELATITUDE" for="DLG1.V.R1.DEVICELATITUDE" title="" class="iOS7DialogLabel" style="float: left; width: 1in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">Device Latitude</label>\n<div style="margin-left: 1in ;"><input\ttype="text" id="DLG1.V.R1.DEVICELATITUDE" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.DEVICELATITUDE"    value=""    />\n</div>\n</div><br style="clear:both; " />\n\t\n<div class="A5CWLayout" style="width: 2in" >\n\t<label id="DLG1.LBL.R1.DEVICELONGITUDE" for="DLG1.V.R1.DEVICELONGITUDE" title="" class="iOS7DialogLabel" style="float: left; width: 1in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;">Device Longitude</label>\n<div style="margin-left: 1in ;"><input\ttype="text" id="DLG1.V.R1.DEVICELONGITUDE" title=""     class="iOS7Edit" style="width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.DEVICELONGITUDE"    value=""    />\n</div>\n</div><br style="clear:both; " />\n\t\n\t\t<div style="font: 0pt arial;clear:both;"></div>\n\t</div>\n<br style="clear:both; " />\n\n\t<div \tid="DLG1.V.R1.CT_ADDRESS"   \n\t\t\tclass="A5CWLayout "  style=""  >\n\n<div class="A5CWLayout" style="width: 5px" >\n\t<div id="SPACER_1" style="width: 100%; height: 1px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; font: 0pt Arial;">&nbsp;</div>\n</div>\n\t\n<div class="A5CWLayout" style="width: " >\n\t<div id="DLG1.V.R1.STATICTEXT_7" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id="Endereco"></div></div>\n</div><br style="clear:both; " /><div style="height:20px; font: 0pt;"></div>\n\t\n\t<div \tid="DLG1.V.R1.CONTAINER_11"   \n\t\t\tclass="A5CWLayout "  style="width: 100%; "  >\n<div style="display: table; margin: auto;">\n\n\t<div class="A5CWLayout" style="width: 80px" >\n\t<button type="button" id="DLG1.V.R1.BTN_MAPA"    ></button>\n</div>\n\t\n\t<div class="A5CWLayout" style="width: 80px" >\n\t<button type="button" id="DLG1.V.R1.BTN_LIGAR"    ></button>\n</div>\n\t\n\t\t<div style="font: 0pt arial;clear:both;"></div>\n\t</div>\n\t</div>\n<br style="clear:both; " />\n\n\t\t<div style="font: 0pt arial;clear:both;"></div>\n\t</div>\n<br style="clear:both; " />\n\n\t<div \tid="DLG1.V.R1.CT_MAPA"   \n\t\t\tclass="A5CWLayout "  style=""  >\n\n<div class="A5CWLayout" style="width: 4in" >\n\t<div id="DLG1.V.R1.MINIMAPA.CONTROL"  style="width: 100%; height: 4in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>\n\n</div><br style="clear:both; " />\n\t\n\t\t<div style="font: 0pt arial;clear:both;"></div>\n\t</div>\n<br style="clear:both; " />\n\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	className: 'FlatPanel'
})
},
{
	name: 'PN_MAP_ROUTE',
	size: '100%',
	dock: 'none',
	src: new A5.PanelNavigator([
{
	name: 'PC_MAP_ROUTE',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: 4in" >\n\t<div id="DLG1.V.R1.MAPROUTE.CONTROL"  style="width: 100%; height: 4in; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; "></div>\n\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: false
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	}
})
},
{
	name: 'PC_ROUTE_DESC',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: " >\n\t<div id="DLG1.V.R1.STATICTEXT_9" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><span id="Route"></span></div>\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'y',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	}
})
}
],{
	type: 'programmatic',
	flow: 'ltr',
	loopNavigate: false,
	onPanelActivate: function() {DLG1_DlgObj.refreshClientSideComputations();},
	onSize: function() {;},
	theme: 'iOS7',
	header: {
		show: false
	},
	footer: {
	},
	overlay: {
	},
	controls: {
		prev: {
			has: false
		},
		next: {
			has: false
		},
		back: {
			has: false
		},
		forward: {
			has: false
		}
	},
	body: {
	},
	animation: {
		duration: 400
	}
})
},
{
	name: 'PC_MENSAGENS',
	size: '100%',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: " >\n\t<div id="DLG1.V.R1.STATICTEXT_10" title=""  class="" style="box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><div id=chatBox style="width:200px; vertical-align:text-bottom;"></div></div>\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'always',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
		html: '<div style="float:right;"><div class="A5CWLayout" style="width: 30px" > \t<div  id="DLG1.V.R1.BUTTON_30"    ></div> </div> <div class="A5CWLayout" style="width: 80%" > \t<input\ttype="text" id="DLG1.V.R1.CHATINPUT" title=""     class="iOS7Edit" style="border-style: none; margin-top: 1px; position: absolute; top: 7px; left: 5px; width: 100%; height: 20px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"    name="V.R1.CHATINPUT"    value=""    />  </div> </div><br style="clear:both;" />',
		show: true,
		style: 'background-color: #339966;'
	},
	overlay: {
	},
	className: 'FlatPanel'
})
},
{
	name: 'PC_RESERVAS',
	size: '100%',
	dock: 'none',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: 4in" >\n\t<label id="DLG1.LBL.R1.LISTARESERVAS" for="DLG1.V.R1.LISTARESERVAS" title="" class="iOS7DialogLabel" style="text-align: Center; display: block; ">Lista Reservas</label>\n\n\t\n<div  class="iOS7List"   style="padding:0px; "  >\n\t<div id="DLG1.V.R1.LISTARESERVAS.CONTROL"  style="overflow: auto; width: 100%; height: 3in; "></div>\n</div>\n\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	onSize: function() {;
if(typeof DLG1_DlgObj != 'undefined') {var mObj = DLG1_DlgObj.getControl('LISTARESERVAS'); if(mObj) mObj.refresh();}}
})
},
{
	name: 'PC_MENUPRINCIPAL',
	size: '180px',
	dock: 'collapse-before',
	src: new A5.PanelCard({
	theme: 'iOS7',
	body: {
		content: {
			type: 'html',
			src: '<div class="A5CWLayout" style="width: 4in" >\n\t\n<div  class="iOS7List"   style="padding:0px; background-color: rgba(0,0,0,0.1); border-style: none;"  >\n\t<div id="DLG1.V.R1.MENUPRINCIPAL.CONTROL"  style="overflow: auto; width: 100%; height: 3in; "></div>\n</div>\n\n</div><br style="clear:both; " />\n\t\n<div style="clear: both; font: 0px arial; height: 0px; width: 0px;"></div>'
		},
		scroll: false
	},
	header: {
		html: '<div style="display:none;"></div>'
	},
	footer: {
	},
	overlay: {
	},
	className: 'menuPanel',
	onSize: function() {;
if(typeof DLG1_DlgObj != 'undefined') {var mObj = DLG1_DlgObj.getControl('MENUPRINCIPAL'); if(mObj) mObj.refresh();}}
})
}
],{
	theme: 'iOS7',
	onSize: function() {;},
	onLayoutRefresh: function() {var visiblePanels = [];
for(var i = 0; i < this.panels.length; i++) { 
	if(this.panels[i]._hidden  == false) { 
		visiblePanels.push(this.panels[i].name);
	}
}
var ix = visiblePanels.indexOf('PC_CATEGORIAS'); if(ix > -1) {  setTimeout(function() { DLG1_DlgObj._initialListRender('LISTACATEGORIAS');},5);    }
var ix = visiblePanels.indexOf('PC_CARDAPIO'); if(ix > -1) {  setTimeout(function() { DLG1_DlgObj._initialListRender('LISTAITENS');},5);    }},
	onDockPanelShow: function() {if(this.state.currentDockPanel == 'PC_CATEGORIAS') {  setTimeout(function() { DLG1_DlgObj._initialListRender('LISTACATEGORIAS');},5);    }
if(this.state.currentDockPanel == 'PC_CARDAPIO') {  setTimeout(function() { DLG1_DlgObj._initialListRender('LISTAITENS');},5);    }},
	onPanelActivate: function() {DLG1_DlgObj.refreshClientSideComputations();},
	flow: 'ltr',
	header: {
		show: false
	},
	footer: {
		show: false
	},
	overlay: {
		show: false
	},
	dock: {
		method: 'overlay',
		flowLock: {
			has: true
		}
	},
	controls: {
		prev: {
			has: false
		},
		next: {
			has: false
		}
	},
	body: {
	},
	animation: {
		duration: 400
	}
})
}
],{
	type: 'carousel',
	flow: 'ltr',
	loopNavigate: false,
	onPanelActivate: function() {DLG1_DlgObj.refreshClientSideComputations();},
	onSize: function() {;if(typeof DLG1_DlgObj != 'undefined') {
	if(typeof DLG1_DlgObj._findActiveLayoutRule != 'undefined') { 
		DLG1_DlgObj._findActiveLayoutRule();
	}
}},
	theme: 'iOS7',
	header: {
		show: true,
		html: '<div class="A5CWLayout" style="width: " > \t<div  id="DLG1.V.R1.BUTTON_25"    ></div> </div> <div class="A5CWLayout" style="width: 4px" > \t<div id="SPACER_3" style="width: 100%; height: 1px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;; font: 0pt Arial;">&nbsp;</div> </div> <div class="A5CWLayout" style="width: " > \t<div id="DLG1.V.R1.STATICTEXT_6" title=""  class="AppTitle" style="margin-top: 4px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;"   ><span id="Titulo"></span></div> </div> <div \tid="DLG1.V.R1.CT_BUTTONS"    \t\t\tclass="A5CWLayout "  style="padding-top: 10px; position: absolute; top: 0px; left: 40px; "  > <div style="float: right;"> <div class="A5CWLayout" style="width: " > \t<div  id="DLG1.V.R1.BTN_CATEGORIAS"    ></div> </div> <div class="A5CWLayout" style="width: " > \t<div  id="DLG1.V.R1.BTN_VAI_AO_CARRINHO"    ></div> </div> <div class="A5CWLayout" style="width: " > \t<div  id="DLG1.V.R1.BTN_VOLTA_AO_CARDAPIO"    ></div> </div> <div class="A5CWLayout" style="width: " > \t<div  id="DLG1.V.R1.BTN_VER_ITEMDATA"    ></div> </div> <div class="A5CWLayout" style="width: " > \t<div  id="DLG1.V.R1.BUTTON_22"    ></div> </div> <div class="A5CWLayout" style="width: " > \t<div  id="DLG1.V.R1.BTN_VAI_ROTA_MAPA"    ></div> </div> <div style="font: 0pt arial;clear:both;"></div> \t</div> \t</div> ',
		style: 'color: #ffffff; background-color: #ff0000; border-style: none; padding-top: 14px; height: 35px; '
	},
	footer: {
	},
	overlay: {
	},
	controls: {
		prev: {
			has: false
		},
		next: {
			has: false
		},
		back: {
			has: false
		},
		forward: {
			has: false
		}
	},
	body: {
	},
	animation: {
		duration: 400
	}
})
var ele = window['DLG1_PanelObj'].create('DLG1.R1');
		var panelRootId = '';
		var flagSizeToParent = true;
		var wf_alias = 'DLG1';
		if(panelRootId != '') { 
			if (!$(panelRootId)) panelRootId = '';
		}
		if(panelRootId != '') { 
			$(panelRootId).appendChild(ele);
			if(flagSizeToParent) { 
				window[wf_alias + '_PanelObj'].bindSize('parent');
			}
		} else { 
			document.body.insertBefore(ele,document.body.firstChild);
			window[wf_alias + '_PanelObj'].bindSize('window');
		}
DLG1_PanelObj._panelPath = {
	PANELLAYOUT_2: 'PANELLAYOUT_2',
	PL_INICIO: 'PANELLAYOUT_2:PL_INICIO',
	PC_INICIO_BTN1: 'PANELLAYOUT_2:PL_INICIO:PC_INICIO_BTN1',
	PC_INICIO_BTN2: 'PANELLAYOUT_2:PL_INICIO:PC_INICIO_BTN2',
	PC_INICIO_BTN3: 'PANELLAYOUT_2:PL_INICIO:PC_INICIO_BTN3',
	PC_CATEGORIAS: 'PANELLAYOUT_2:PC_CATEGORIAS',
	PC_CARDAPIO: 'PANELLAYOUT_2:PC_CARDAPIO',
	PC_CARRINHO: 'PANELLAYOUT_2:PC_CARRINHO',
	PC_CARRINHO_ITEM: 'PANELLAYOUT_2:PC_CARRINHO_ITEM',
	PC_DV_CARRINHO_ITEM: 'PANELLAYOUT_2:PC_DV_CARRINHO_ITEM',
	PC_ENDERECO: 'PANELLAYOUT_2:PC_ENDERECO',
	PN_MAP_ROUTE: 'PANELLAYOUT_2:PN_MAP_ROUTE',
	PC_MAP_ROUTE: 'PANELLAYOUT_2:PN_MAP_ROUTE:PC_MAP_ROUTE',
	PC_ROUTE_DESC: 'PANELLAYOUT_2:PN_MAP_ROUTE:PC_ROUTE_DESC',
	PC_MENSAGENS: 'PANELLAYOUT_2:PC_MENSAGENS',
	PC_RESERVAS: 'PANELLAYOUT_2:PC_RESERVAS',
	PC_MENUPRINCIPAL: 'PANELLAYOUT_2:PC_MENUPRINCIPAL'
}
DLG1_PanelObj._displayNames = {
PC_INICIO_BTN1 : 'PC_INICIO_BTN1',PC_INICIO_BTN2 : 'PC_INICIO_BTN2',PC_INICIO_BTN3 : 'PC_INICIO_BTN3',PC_CATEGORIAS : 'PC_CATEGORIAS',PC_CARDAPIO : 'PC_CARDAPIO',PC_CARRINHO : 'PC_CARRINHO',PC_CARRINHO_ITEM : 'PC_CARRINHO_ITEM',PC_DV_CARRINHO_ITEM : 'PC_DV_CARRINHO_ITEM',PC_ENDERECO : 'PC_ENDERECO',PC_MAP_ROUTE : 'PC_MAP_ROUTE',PC_ROUTE_DESC : 'PC_ROUTE_DESC',PC_MENSAGENS : 'PC_MENSAGENS',PC_RESERVAS : 'PC_RESERVAS',PC_MENUPRINCIPAL : 'PC_MENUPRINCIPAL',PN_CARDAPIO : 'PN_CARDAPIO',PN_MAP_ROUTE : 'PN_MAP_ROUTE',PANELLAYOUT_2 : 'PANELLAYOUT_2',PL_INICIO : 'PL_INICIO'
};
if(typeof DLG1_DlgObj == 'object') DLG1_DlgObj._destroy();
var DLG1_DlgObj = new A5.DialogComponentHelper('DLG1',{
	ajaxURL: 'http://23.246.244.61/Cardapio/APP.a5wcmp?__virtualPage=__a5RunDialog.a5w&__dialogFilename=APP&__alias=DLG1&__unsaved=no',
	_embeddedMode: false,
	_livePreviewInBuilder: false,
	componentGUID: '545f3d53-aeae-4c22-a287-5f85b80ae3c3',
	columnInfo: {'LISTACATEGORIAS': {info: {controlType: 'List'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'LISTAITENS': {info: {controlType: 'List'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CARRINHOID': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CLIENTETELEFONE': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CLIENTENOME': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'LISTACARRINHOITEM': {info: {controlType: 'List'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CARRINHOID_1': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'N'  },'CARRITEMID': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'N'  },'ITEMID': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'N'  },'CARRITEMQTD': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'N'  },'CARRITEMPRECOUNIT': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'N'  },'EMPRESAID': {info: {controlType: 'TextBox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EMPRESAFANTASIA': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EMPRESAENDENDERECO': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EMPRESAENDERECONUMERO': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EMPRESAENDNUMERO': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EMPRESAENDCOMPLEMENTO': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EMPRESAENDBAIRRO': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EMPRESAENDCIDADE': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EMPRESAENDUF': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EMPRESAENDCEP': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EMPRESATELEFONE': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'EMPRESAPAIS': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'DEVICELATITUDE': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'DEVICELONGITUDE': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'MINIMAPA': {info: {controlType: 'Map'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'MAPROUTE': {info: {controlType: 'Map'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'CHATINPUT': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'LISTARESERVAS': {info: {controlType: 'List'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'MENUPRINCIPAL': {info: {controlType: 'List'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'USUARIOID': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'SENHA': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'LOGGEDIN': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'DATARESERVA': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'D'  },'HORA': {info: {controlType: 'SpinList'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'MINUTOS': {info: {controlType: 'SpinList'}, hiddenVal: false, type: 'control', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'PESSOAS': {info: {controlType: 'Label'}, hiddenVal: false, type: 'label,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  },'RESERVADATAHORA': {info: {controlType: 'Textbox'}, hiddenVal: false, type: 'input,label', isCalc: false, hlp: '', isArray: false, dataType: 'C'  }},
	originalValues: [{
	'EMPRESAID': '1',
	'DATARESERVA': '02/04/2015',
	'HORA': '17',
	'MINUTOS': '00',
	'LISTACATEGORIAS': '',
	'LISTAITENS': '',
	'CARRINHOID': '',
	'CLIENTETELEFONE': '',
	'CLIENTENOME': '',
	'LISTACARRINHOITEM': '',
	'CARRINHOID_1': '',
	'CARRITEMID': '',
	'ITEMID': '',
	'CARRITEMQTD': '',
	'CARRITEMPRECOUNIT': '',
	'EMPRESAFANTASIA': 'Khumo Sushi',
	'EMPRESAENDENDERECO': 'Rua João Maciel',
	'EMPRESAENDERECONUMERO': '',
	'EMPRESAENDNUMERO': '84',
	'EMPRESAENDCOMPLEMENTO': 'Casa',
	'EMPRESAENDBAIRRO': 'Pitangueiras',
	'EMPRESAENDCIDADE': 'Santo Antonio da Patrulha',
	'EMPRESAENDUF': 'RS',
	'EMPRESAENDCEP': '95500-000',
	'EMPRESATELEFONE': '(51)9988-9090',
	'EMPRESAPAIS': 'Brasil',
	'DEVICELATITUDE': '',
	'DEVICELONGITUDE': '',
	'MINIMAPA': '',
	'MAPROUTE': '',
	'CHATINPUT': '',
	'LISTARESERVAS': '',
	'MENUPRINCIPAL': '',
	'USUARIOID': '(51)9155-2004',
	'SENHA': '',
	'LOGGEDIN': 'N',
	'PESSOAS': '4',
	'RESERVADATAHORA': ''
}],
	defaultValues: {
	EMPRESAID: '1',
	DATARESERVA: '02/04/2015',
	HORA: '17',
	MINUTOS: '00',
	LISTACATEGORIAS: '',
	LISTAITENS: '',
	CARRINHOID: '',
	CLIENTETELEFONE: '',
	CLIENTENOME: '',
	LISTACARRINHOITEM: '',
	CARRINHOID_1: '',
	CARRITEMID: '',
	ITEMID: '',
	CARRITEMQTD: '',
	CARRITEMPRECOUNIT: '',
	EMPRESAFANTASIA: '',
	EMPRESAENDENDERECO: '',
	EMPRESAENDERECONUMERO: '',
	EMPRESAENDNUMERO: '',
	EMPRESAENDCOMPLEMENTO: '',
	EMPRESAENDBAIRRO: '',
	EMPRESAENDCIDADE: '',
	EMPRESAENDUF: '',
	EMPRESAENDCEP: '',
	EMPRESATELEFONE: '',
	EMPRESAPAIS: 'Brasil',
	DEVICELATITUDE: '',
	DEVICELONGITUDE: '',
	MINIMAPA: '',
	MAPROUTE: '',
	CHATINPUT: '',
	LISTARESERVAS: '',
	MENUPRINCIPAL: '',
	USUARIOID: '(51)9155-2004',
	SENHA: '',
	LOGGEDIN: 'N',
	PESSOAS: '4',
	RESERVADATAHORA: ''
},
	datePickerMonthNames: ['Janeiro','Fevereiro','Mar&ccedilo','Abril','Maio','Junho','Julho','Agosto','Setembro','Outubro','Novembro','Dezembro'],
	datePickerDayNames: ['Dom','Seg','Ter','Qua','Qui','Sex','S&aacuteb'],
	datePickerTodayButton: 'Hoje',
	datePickerCloseButton: '',
	datePickerFirstDayOfWeek: 1,
	resetFormMessage: 'Are you sure you want to reset the form?',
	resetFormTitle: 'Warning',
	resetFormIcon: 'cssIcon=iOS7Icon iOS7IconHelp',
	dirtyFormMessage: 'You must first save your changes or cancel changes by clicking the Reset button.',
	dirtyFormTitle: 'Notice',
	dirtyFormIcon: 'cssIcon=iOS7Icon iOS7IconInfo',
	deleteRecordDialogTitle: 'Apagar',
	deleteRecordDialogMessage: 'Deseja realmente apagar este registro?',	
	ssDateFormat: 'dd/MM/yyyy',
	styleName: 'iOS7',
	_fieldHelpers_DIALOG2: [],
	parentComponentAlias: '',
	submitIfHasClientSideErrors: true, 
	rowErrors: {
				showMessageBox: false,
				messageBoxTitle: 'Error',
				style: 'color: red; width: 6in; height: 2in;'
		},
	fieldErrors: {
		type: 'block', 
		className: 'errorText',
		inputClassName: 'iOS7EditError',
		edit: { 
			container: { className: 'iOS7EditBGError'}
		},
		icon: 'cssIcon=iOS7Icon iOS7IconError',
		global: {
			contId: 'DLG1.DIALOG_PART.GLOBAL_ERRORS',
			hoverClassName: 'errorTextHighlight',
			hoverInputClassName: 'errorInputHighlight'
		}
	},
		onInitializeBegin: function(e) {
WebFontConfig = {
    google: { families: [ 'Lato::latin', 'Open+Sans+Condensed:300:latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
		},
		_canAjaxCallback: function(e) {
DLG1_DlgObj.showWaitMessage('page',{useCSSAnimation: true,cssAnimationSettings: {size: '32'}});
		},
		__afterAjaxCallbackComplete: function(e) {
DLG1_DlgObj.hideWaitMessage('page');
		},
		onRenderComplete: function(e) {
debugger;
var ele = $("Titulo");
ele.innerHTML = DLG1_DlgObj.getValue('EmpresaFantasia');
var height = DLG1_DlgObj.panelHeight('PC_INICIO_BTN1');
var width = DLG1_DlgObj.panelWidth('PC_INICIO_BTN1');
var ele=$("DLG1.V.R1.BTN_CARDAPIO");
ele.style.height = height+'px';
ele.style.width = (width/2)+'px';
var ele=$("DLG1.V.R1.BTN_ENDER");
ele.style.height = height+'px';
ele.style.width = (width/2)+'px';
var ele=$("DLG1.V.R1.BTN_RESERVA");
ele.style.height = height+'px';
ele.style.width = (width/2)+'px';
var ele=$("DLG1.V.R1.BTN_MESSAGE");
ele.style.height = height+'px';
ele.style.width = (width/2)+'px';
var ele=$("DLG1.V.R1.BTN_PROMOCAO");
ele.style.height = height+'px';
ele.style.width = width+'px';
height = DLG1_DlgObj.panelHeight('PL_INICIO');
var ele=$("DLG1.V.R1.CT_ADDRESS");
ele.style.height = (height/2)+'px';
ele.style.width = width+'px';
var ele=$("DLG1.V.R1.CT_MAPA");
ele.style.height = (height/2)+'px';
ele.style.width = width+'px';
var ele=$("DLG1.V.R1.MINIMAPA.CONTROL");
ele.style.height = (height/2)+'px';
ele.style.width = width+'px';
var ele=$("DLG1.V.R1.MAPROUTE.CONTROL");
ele.style.height = height+'px';
ele.style.width = width+'px';
var ele=$("Route");
ele.style.height = height+'px';
ele.style.width = width+'px';
var ele=$("DLG1.V.R1.CHATINPUT");
ele.style.width = (width-50)+'px';
var ele=$("DLG1.V.R1.CT_BUTTONS");
ele.style.width = (width-40)+'px';
var ele=$("DLG1.V.R1.CT_RESERVAS");
ele.style.width = width+'px';
showEndereco();
		}
	});
DLG1_DlgObj._onOrientationChange =  function(e) { ;
DLG1_DlgObj._findActiveLayoutRule();
;  }
A5.__componentObj = DLG1_DlgObj;
A5.map._fn='http://maps.google.com/maps/api/js?sensor=true&libraries=geometry&callback=A5.map.init';
DLG1_DlgObj.loadCSSFile('css/CSSIcons/font-awesome/css/font-awesome.min.css');
DLG1_DlgObj._tabObjects = [];
DLG1_DlgObj.loadJavascript('function selecionaCategoria( CategoriaID )\n{\n\tvar searchFor = $u.n.toStr( CategoriaID );\n\tvar listObj = DLG1_DlgObj.getControl(\'LISTAITENS\');\n\tlistObj.setFilter(\n\t\t{\n\t\tCategoriaID: RegExp(searchFor,\'i\')\n\t\t});\n}\n\n\n\nfunction registraCompra()\n\t{\n\n\tdebugger;\n\tvar carrinhoID = DLG1_DlgObj.getValue(\'carrinhoID\');\n\t\n\tif( $u.s.toNum(carrinhoID) == 0 )\n\t\tDLG1_DlgObj.submit();\n\telse addItemCarrinho();\n\t}\n\t\n\n\nfunction addItemCarrinho(data, listObj, rowNumber)\n\t{\t\n\n\tdebugger;\n\t\n\tvar itens = DLG1_DlgObj.getControl(\'listaCarrinhoItem\');\n\tvar itemID = DLG1_DlgObj.getValue(\'listaItens\');\n\t\n\t\n\tvar index = findItem(itens._data, itemID);\n\t\n\t\n\tif( index != -1 )\n\t\t{\n\t\t\n\t\titens.scrollToItem(index);\n\n\t\t\n\t\tvar itemQtd = $u.s.toNum(DLG1_DlgObj.getValue(\'carrItemQtd\'));\n\t\titemQtd++;\t\n\t\tvar sQtd = $u.n.toStr(itemQtd);\n\n\t\t\n\t\tDLG1_DlgObj.setValue(\'carrItemQtd\', sQtd);\n\t\t\n\t\t\n\t\titens.updateListFromUXControls();\n\t\t}\n\telse\n\t\t{\n\t\t\n\t\tvar listaItens = DLG1_DlgObj.getControl(\'listaItens\');\n\t\tvar data = listaItens.getData(itemID);\n\t\t\n\t\t\n\t\tif( data.ItemEstaEmPromocao == \'N\')\n\t\t\tvar preco = data.ItemPreco;\n\t\telse\n\t\t\tvar preco = data.ItemPrecoPromocao;\n\t\t\t\n\t\t\n\t\tpreco = preco.replace(/\\D/g,",");\n\t\t\n\t\t\n\t\titens.newDetailViewRecord();\n\t\tDLG1_DlgObj.setValueFrom(\'carrinhoID_1\',\'carrinhoID\');\n\t\tDLG1_DlgObj.setValue(\'itemID\',itemID);\n\t\tDLG1_DlgObj.setValue(\'carrItemQtd\',\'1\');\n\t\tDLG1_DlgObj.setValue(\'carrItemPrecoUnit\',preco);\n\t\titens.updateListFromUXControls();\n\t\t}\n\t\t\n\tupdateCarrinhoCardapio();\n\n\t}\n\t\n\nfunction findItem(data, itemID)\n\t{\n\t\n\tfor( i=0;i<data.length;i++ )\n\t\t{\n\t\tif( data[i].itemID == itemID ) return i;\n\t\t}\n\t\n\treturn -1\t\n\t}\n\t\n\n\nfunction updateCarrinhoCardapio()\n\t{\t\n\tvar carrinho = calcTotalCarrinho();\n\t\t\n\tvar ele = $("itemFooter");\n\tif( carrinho.itens > 0 )\n\t\tele.innerHTML = \' <b>Carrinho:</b> \'+$u.n.toStr(carrinho.itens,0)+\' itens, R$ \'+$u.n.toStr(carrinho.total,2).replace(/\\D/g,",")+\' \';\n\telse\n\t\tele.innerHTML = \' <b>Carrinho vazio.</b> \';\n\t}\n\t\n\nfunction calcTotalCarrinho()\n\t{\n\t\n\tvar carrinho = DLG1_DlgObj.getControl(\'listaCarrinhoItem\');\n\tvar qtdItens = 0;\n\tvar totalCarrinho = 0;\n\tvar preco = 0;\n\tvar itemQtd = 0;\n\tdebugger;\n\tfor( i=0; i<carrinho._data.length; i++)\n\t\t{\n\t\tpreco = carrinho._data[i].carrItemPrecoUnit;\n\t\tpreco = $u.s.toNum(preco.replace(/\\D/g,"."));\n\t\titemQtd = $u.s.toNum(carrinho._data[i].carrItemQtd);\n\t\t\n\t\t\n\t\ttotalCarrinho += ( preco * itemQtd );\n\t\tqtdItens += itemQtd;\n\t\t\n\t\t}\n\t\n\t\n\tvar retData = { itens : qtdItens, total : totalCarrinho };\n\t\n\treturn retData;\n\t}\n\t\nfunction footerCarrinho()\n\t{\n\tvar ele = $("footerCarrinho");\n\t\n\tdebugger;\n\t\n\tvar carrinho = calcTotalCarrinho();\n\t\n\tdebugger;\n\tif( carrinho.itens > 0 )\n\t\tele.innerHTML = \' <b>Carrinho:</b> \'+$u.n.toStr(carrinho.itens,0)+\' itens, R$ \'+$u.n.toStr(carrinho.total,2).replace(/\\D/g,",")+\' \';\n\telse\n\t\tele.innerHTML = \' <b>Carrinho vazio.</b> \';\n\t\n\t}\n\t\n\n\nfunction showEndereco()\n\t{\n\t\n\tvar html = \'<div style="font-size:18pt; font-weight: bold;">\'+DLG1_DlgObj.getValue(\'EmpresaFantasia\')+\'</div>\';\n\thtml += \'<div style="font-size:12pt;">\'+DLG1_DlgObj.getValue(\'EmpresaEndEndereco\')+\', \'+DLG1_DlgObj.getValue(\'EmpresaEndNumero\')+\'<br>\';\n\thtml += DLG1_DlgObj.getValue(\'EmpresaEndComplemento\')+\', \'+DLG1_DlgObj.getValue(\'EmpresaEndBairro\')+\'<br>\';\n\thtml += DLG1_DlgObj.getValue(\'EmpresaEndCidade\')+\'-\'+DLG1_DlgObj.getValue(\'EmpresaEndUF\')+\' - \'+DLG1_DlgObj.getValue(\'EmpresaEndCEP\')+\'<br><br>\';\n\thtml += \'<b>Telefones:\'+DLG1_DlgObj.getValue(\'EmpresaTelefone\')+\'</b></div>\';\n\t\n\tvar ele = $("Endereco");\n\tele.innerHTML = html;\n\t\n\t\n\tDLG1_DlgObj.runAction(\'showMiniMapa\');\n\t}\n\t\nfunction showEndMiniMapa()\n\t{\n\tvar html = \'<b>\'+DLG1_DlgObj.getValue(\'EmpresaFantasia\')+\'</b><br>\';\n\thtml += DLG1_DlgObj.getValue(\'EmpresaEndEndereco\')+\', \'+DLG1_DlgObj.getValue(\'EmpresaEndNumero\')+\'<br>\';\n\thtml += DLG1_DlgObj.getValue(\'EmpresaEndComplemento\')+\', \'+DLG1_DlgObj.getValue(\'EmpresaEndBairro\')+\'<br>\';\n\thtml += DLG1_DlgObj.getValue(\'EmpresaEndCidade\')+\'-\'+DLG1_DlgObj.getValue(\'EmpresaEndUF\')+\' - \'+DLG1_DlgObj.getValue(\'EmpresaEndCEP\')+\'<br><br>\';\n\n\treturn html;\n\t}\t\n\t\nfunction showMapRoute()\n\t{\n\t\n\tdebugger;\n\t\n\tvar devLat = $u.s.toNum(DLG1_DlgObj.getValue(\'deviceLatitude\'),4);\n\tvar devLong = $u.s.toNum(DLG1_DlgObj.getValue(\'deviceLongitude\'),4);\n\tvar empEndCompleto = DLG1_DlgObj.getValue(\'EmpresaEndEndereco\')+ \', \'\n\t\t\t\t\t   + DLG1_DlgObj.getValue(\'EmpresaEnderecoNumero\')+\', \'\n\t                   + DLG1_DlgObj.getValue(\'EmpresaEndCidade\')+\', \'\n\t                   + DLG1_DlgObj.getValue(\'EmpresaEndUF\')+\', \'\n\t                   + DLG1_DlgObj.getValue(\'EmpresaEndCEP\')+\', \'\n\t                   + DLG1_DlgObj.getValue(\'EmpresaPais\');\n\t\n\t\n\tvar mapa = DLG1_DlgObj.getControl(\'mapRoute\');\n\t\n\t\n\tmapa.plotRoute(  [devLat, devLong], empEndCompleto);\n\t\t\t\t\t\n\t\n\tDLG1_DlgObj.panelSetActive(\'PC_MAP_ROUTE\');\n\t}\n\t\nfunction showTitle()\n\t{\n\t\n\tdebugger;\n\tvar ele = $("Titulo");\n\t\n\tvar titulos = [["Home","PL_INICIO"]\n\t\t\t\t,  ["Card&aacutepio","PC_CARDAPIO"]\n\t\t\t\t,  ["Carrinho","PC_CARRINHO_ITEM"]\n\t\t\t\t,  ["Endere&ccedilo","PC_ENDERECO"]\n\t\t\t\t,  ["Reservas","PC_RESERVAS"]\n\t\t\t\t,  ["Mensagens","PC_MENSAGENS"]\n\t\t\t\t,  ["Promo&ccedil&otildees","PC_PROMOCAO"]\n\t\t\t\t,  ["Meus Dados","PC_DADOS"]];\n\t\n\tvar painel = DLG1_DlgObj.panelGetActive();\n\t\n\tif( painel == "PC_INICIO_BTN1" )\n\t\tele.innerHTML = DLG1_DlgObj.getValue(\'EmpresaFantasia\');\n\telse\n\t\t{\n\t\tfor( i=0; i<titulos.length; i++)\n\t\t\t{\n\t\t\tif(titulos[i][1] == painel)\n\t\t\t\t{\n\t\t\t\tele.innerHTML = titulos[i][0];\n\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t}\n\t\nfunction updateChat()\n\t{\n\t\n\tvar ele = $("ChatHist");\n\t\n\t\n\tvar html = ele.innerHTML;\n\t\t\n\t\n\thtml += \'<div style="display: table-cell; width: 100%; float: right;">\';\n\thtml += \'<div class="ChatFromGuest" >\'+DLG1_DlgObj.getValue(\'chat\')+\'</div><br>\';\n\thtml += \'</div>\';\n\t\n\t\n\tele.innerHTML = html;\n\t}\n\n\n\nfunction dataAtual(time)\n{\n\nif( typeof( time ) != \'boolean\' ) time = false;\n\nvar dataHoje = new Date();\n\nvar dia = dataHoje.getDate();\nvar mes = dataHoje.getMonth()+1;\nvar ano = dataHoje.getFullYear();\n\nvar dataAtual = (dia<10) ?\'0\'+dia : \'\'+dia;\ndataAtual += (mes<10) ? \'/0\'+mes : \'/\'+mes;\ndataAtual += \'/\'+ano;\n\nif( time == true )\n\tdataAtual += \' \'+dataHoje.getHours()+\':\'+dataHoje.getMinutes()+\':\'+dataHoje.getSeconds();\n\nreturn dataAtual;\n}\n\n\n\n\n\nfunction ativaChat()\n\t{\n\t\n\t\n\tvar height = DLG1_DlgObj.panelHeight(\'PC_MENSAGENS\');\n\tvar width = DLG1_DlgObj.panelWidth(\'PC_MENSAGENS\');\n\tvar ele=$("chatBox");\n\tele.style.width = width+\'px\';\n\tele.style.height = (height-35)+\'px\';\n\t\n\t\n\tvar box = PUBNUB.$(\'chatBox\');\n\tvar input = PUBNUB.$(\'DLG1.V.R1.CHATINPUT\');\n\tvar channel = \'chatCardappio\';\n\t\n\tPUBNUB.subscribe(\n\t\t{\n\t\tchannel : channel,\n\t\tcallback : function(text){showChat(text)} \n\t\t});\n\t\n\t}\n\t\n\nfunction showChat(text)\n\t{ \n\tif( text.from == DLG1_DlgObj.getValue(\'UsuarioID\') ||\n\t\ttext.from == DLG1_DlgObj.getValue(\'EmpresaID\') && text.to == DLG1_DlgObj.getValue(\'UsuarioID\') )\n\t\t{\n\t\t\n\t\tvar txt = text.text;\n\t\t\n\t\t\n\t\tvar html = chatBox.innerHTML;\n\t\t\t\t\n\t\t\n\t\thtml += \'<div style="display: table-cell; width: 100%; float: right;">\';\n\t\tif( text.from == DLG1_DlgObj.getValue(\'UsuarioID\') )\n\t\t\thtml += \'<div class="GuestMessage" >\'+(\'\'+txt).replace( /[<>]/g, \'\' ) + \'</div><br>\';\n\t\telse\n\t\t\thtml += \'<div class="CompanyMessage" >\'+(\'\'+txt).replace( /[<>]/g, \'\' ) + \'</div><br>\';\n\n\t\thtml += \'</div>\';\n\t\n\t\t\n\t\tchatBox.innerHTML = html;\n\t\tdebugger;\n\t\t\n\t\t\n\t\tvar panel = DLG1_DlgObj.panelGet(\'PC_MENSAGENS\');\n\t\tvar ele = $(panel.contId+\'.BODY\'); \n\t\tele.scrollTop = 100000;\n\t\t\n\t\t\n\t\tDLG1_DlgObj._chatHistory = html;\n\t\t}\n\t}');
DLG1_DlgObj.framesInfo = {
};
DLG1_DlgObj.fieldHelpers['USUARIOID'] = new A5.Edit({
	format: {
		type: 'mask',
		mask: '(00)0000-00000',
		showMask: false
	}
});
DLG1_DlgObj.fieldHelpers['SENHA'] = new A5.Edit({
	format: {
		type: 'mask',
		mask: '0000',
		showMask: false
	}
});
DLG1_DlgObj.lookups = {
}
DLG1_DlgObj.dialogWatches['SHOWHIDE_BTN_CATEGORIAS'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var showHide = '';
	if( (dialog.activePanelName == 'PC_CARDAPIO') == true ) showHide = '';
	else showHide = 'none';	
	if(showHide == 'none') {	
		DLG1_DlgObj.setControlDisplay(''+'BTN_CATEGORIAS'+'',false,'display');
	} else {
		DLG1_DlgObj.setControlDisplay(''+'BTN_CATEGORIAS'+'',true,'display');
	}
	}
}
DLG1_DlgObj.dialogWatches['SHOWHIDE_BTN_VAI_AO_CARRINHO'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var showHide = '';
	if( (((dialog.activePanelName == 'PC_CARDAPIO') || (dialog.activePanelName == 'PC_CARRINHO')) || (dialog.activePanelName == 'PC_DV_CARRINHO_ITEM')) == true ) showHide = '';
	else showHide = 'none';	
	if(showHide == 'none') {	
		DLG1_DlgObj.setControlDisplay(''+'BTN_VAI_AO_CARRINHO'+'',false,'display');
	} else {
		DLG1_DlgObj.setControlDisplay(''+'BTN_VAI_AO_CARRINHO'+'',true,'display');
	}
	}
}
DLG1_DlgObj.dialogWatches['SHOWHIDE_BTN_VOLTA_AO_CARDAPIO'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var showHide = '';
	if( ((dialog.activePanelName == 'PC_CARRINHO') || (dialog.activePanelName == 'PC_CARRINHO_ITEM')) == true ) showHide = '';
	else showHide = 'none';	
	if(showHide == 'none') {	
		DLG1_DlgObj.setControlDisplay(''+'BTN_VOLTA_AO_CARDAPIO'+'',false,'display');
	} else {
		DLG1_DlgObj.setControlDisplay(''+'BTN_VOLTA_AO_CARDAPIO'+'',true,'display');
	}
	}
}
DLG1_DlgObj.dialogWatches['SHOWHIDE_BTN_VER_ITEMDATA'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var showHide = '';
	if( ((dialog.activePanelName == 'PC_CARDAPIO') || (dialog.activePanelName == 'PC_CARRINHO_ITEM')) == true ) showHide = '';
	else showHide = 'none';	
	if(showHide == 'none') {	
		DLG1_DlgObj.setControlDisplay(''+'BTN_VER_ITEMDATA'+'',false,'display');
	} else {
		DLG1_DlgObj.setControlDisplay(''+'BTN_VER_ITEMDATA'+'',true,'display');
	}
	}
}
DLG1_DlgObj.dialogWatches['SHOWHIDE_BUTTON_22'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var showHide = '';
	if( (dialog.activePanelName == 'PC_MAP_ROUTE') == true ) showHide = '';
	else showHide = 'none';	
	if(showHide == 'none') {	
		DLG1_DlgObj.setControlDisplay(''+'BUTTON_22'+'',false,'display');
	} else {
		DLG1_DlgObj.setControlDisplay(''+'BUTTON_22'+'',true,'display');
	}
	}
}
DLG1_DlgObj.dialogWatches['SHOWHIDE_BTN_VAI_ROTA_MAPA'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var showHide = '';
	if( (dialog.activePanelName == 'PC_ROUTE_DESC') == true ) showHide = '';
	else showHide = 'none';	
	if(showHide == 'none') {	
		DLG1_DlgObj.setControlDisplay(''+'BTN_VAI_ROTA_MAPA'+'',false,'display');
	} else {
		DLG1_DlgObj.setControlDisplay(''+'BTN_VAI_ROTA_MAPA'+'',true,'display');
	}
	}
}
DLG1_DlgObj.dialogWatches['ENABLE_BUTTON_DVSAVE_LISTACARRINHOITEM'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var enable = ((dialog.listDetailView.LISTACARRINHOITEM.isDirty == true) && (dialog.listDetailView.LISTACARRINHOITEM.mode != 'search'));
	var eles = $cetp($n('V.R' + data.rowNumber + '.BUTTON_DVSAVE_LISTACARRINHOITEM'),$('DLG1.R'+data.rowNumber));
	if(typeof eles.length == 'undefined' || eles.length == 0) eles = [$('DLG1.'+'V.R' + data.rowNumber + '.BUTTON_DVSAVE_LISTACARRINHOITEM')];
	var pObj = DLG1_DlgObj.getControl('BUTTON_DVSAVE_LISTACARRINHOITEM'); if(pObj) { if(typeof pObj.setDisabled != 'undefined') {  pObj.setDisabled(!enable,eles); return true;  } }
	if(typeof DLG1_DlgObj._buttons['BUTTON_DVSAVE_LISTACARRINHOITEM'] != 'undefined') {
	DLG1_DlgObj._buttons['BUTTON_DVSAVE_LISTACARRINHOITEM'].setDisabled(!enable,eles)
	} else {
	for(var i=0; i<eles.length;i++) eles[i].disabled = !enable;
	}
	;}
}
DLG1_DlgObj.dialogWatches['ENABLE_BUTTON_DVNEWRECORD_LISTACARRINHOITEM'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var enable = ((dialog.listDetailView.LISTACARRINHOITEM.isDirty == false) && (dialog.listDetailView.LISTACARRINHOITEM.mode != 'search'));
	var eles = $cetp($n('V.R' + data.rowNumber + '.BUTTON_DVNEWRECORD_LISTACARRINHOITEM'),$('DLG1.R'+data.rowNumber));
	if(typeof eles.length == 'undefined' || eles.length == 0) eles = [$('DLG1.'+'V.R' + data.rowNumber + '.BUTTON_DVNEWRECORD_LISTACARRINHOITEM')];
	var pObj = DLG1_DlgObj.getControl('BUTTON_DVNEWRECORD_LISTACARRINHOITEM'); if(pObj) { if(typeof pObj.setDisabled != 'undefined') {  pObj.setDisabled(!enable,eles); return true;  } }
	if(typeof DLG1_DlgObj._buttons['BUTTON_DVNEWRECORD_LISTACARRINHOITEM'] != 'undefined') {
	DLG1_DlgObj._buttons['BUTTON_DVNEWRECORD_LISTACARRINHOITEM'].setDisabled(!enable,eles)
	} else {
	for(var i=0; i<eles.length;i++) eles[i].disabled = !enable;
	}
	;}
}
DLG1_DlgObj.dialogWatches['ENABLE_BUTTON_DVDELETERECORD_LISTACARRINHOITEM'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var enable = (dialog.listDetailView.LISTACARRINHOITEM.mode != 'search');
	var eles = $cetp($n('V.R' + data.rowNumber + '.BUTTON_DVDELETERECORD_LISTACARRINHOITEM'),$('DLG1.R'+data.rowNumber));
	if(typeof eles.length == 'undefined' || eles.length == 0) eles = [$('DLG1.'+'V.R' + data.rowNumber + '.BUTTON_DVDELETERECORD_LISTACARRINHOITEM')];
	var pObj = DLG1_DlgObj.getControl('BUTTON_DVDELETERECORD_LISTACARRINHOITEM'); if(pObj) { if(typeof pObj.setDisabled != 'undefined') {  pObj.setDisabled(!enable,eles); return true;  } }
	if(typeof DLG1_DlgObj._buttons['BUTTON_DVDELETERECORD_LISTACARRINHOITEM'] != 'undefined') {
	DLG1_DlgObj._buttons['BUTTON_DVDELETERECORD_LISTACARRINHOITEM'].setDisabled(!enable,eles)
	} else {
	for(var i=0; i<eles.length;i++) eles[i].disabled = !enable;
	}
	;}
}
DLG1_DlgObj.dialogWatches['ENABLE_BUTTON_DVRESET_LISTACARRINHOITEM'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var enable = ((dialog.listDetailView.LISTACARRINHOITEM.isDirty == true) && (dialog.listDetailView.LISTACARRINHOITEM.mode != 'search'));
	var eles = $cetp($n('V.R' + data.rowNumber + '.BUTTON_DVRESET_LISTACARRINHOITEM'),$('DLG1.R'+data.rowNumber));
	if(typeof eles.length == 'undefined' || eles.length == 0) eles = [$('DLG1.'+'V.R' + data.rowNumber + '.BUTTON_DVRESET_LISTACARRINHOITEM')];
	var pObj = DLG1_DlgObj.getControl('BUTTON_DVRESET_LISTACARRINHOITEM'); if(pObj) { if(typeof pObj.setDisabled != 'undefined') {  pObj.setDisabled(!enable,eles); return true;  } }
	if(typeof DLG1_DlgObj._buttons['BUTTON_DVRESET_LISTACARRINHOITEM'] != 'undefined') {
	DLG1_DlgObj._buttons['BUTTON_DVRESET_LISTACARRINHOITEM'].setDisabled(!enable,eles)
	} else {
	for(var i=0; i<eles.length;i++) eles[i].disabled = !enable;
	}
	;}
}
DLG1_DlgObj.dialogWatches['ENABLE_BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var enable = ((dialog.list.LISTACARRINHOITEM.isDirty == true) && (dialog.listDetailView.LISTACARRINHOITEM.mode != 'search'));
	var eles = $cetp($n('V.R' + data.rowNumber + '.BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM'),$('DLG1.R'+data.rowNumber));
	if(typeof eles.length == 'undefined' || eles.length == 0) eles = [$('DLG1.'+'V.R' + data.rowNumber + '.BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM')];
	var pObj = DLG1_DlgObj.getControl('BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM'); if(pObj) { if(typeof pObj.setDisabled != 'undefined') {  pObj.setDisabled(!enable,eles); return true;  } }
	if(typeof DLG1_DlgObj._buttons['BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM'] != 'undefined') {
	DLG1_DlgObj._buttons['BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM'].setDisabled(!enable,eles)
	} else {
	for(var i=0; i<eles.length;i++) eles[i].disabled = !enable;
	}
	;}
}
DLG1_DlgObj.dialogWatches['SHOWHIDE_CONTAINER_5'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var showHide = '';
	if( (1 == 2) == true ) showHide = '';
	else showHide = 'none';	
	if(showHide == 'none') {	
		DLG1_DlgObj.setControlDisplay(''+'CONTAINER_5'+'',false,'display');
	} else {
		DLG1_DlgObj.setControlDisplay(''+'CONTAINER_5'+'',true,'display');
	}
	}
}
DLG1_DlgObj.dialogWatches['SHOWHIDE_EMPRESAID'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var showHide = '';
	if( (1 == 2) == true ) showHide = '';
	else showHide = 'none';	
	if(showHide == 'none') {	
		DLG1_DlgObj.setControlDisplay(''+'EMPRESAID'+'',false,'display');
	} else {
		DLG1_DlgObj.setControlDisplay(''+'EMPRESAID'+'',true,'display');
	}
	}
}
DLG1_DlgObj.dialogWatches['SHOWHIDE_LOGGEDIN'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var showHide = '';
	if( (1 == 2) == true ) showHide = '';
	else showHide = 'none';	
	if(showHide == 'none') {	
		DLG1_DlgObj.setControlDisplay(''+'LOGGEDIN'+'',false,'display');
	} else {
		DLG1_DlgObj.setControlDisplay(''+'LOGGEDIN'+'',true,'display');
	}
	}
}
DLG1_DlgObj.dialogWatches['SHOWHIDE_RESERVADATAHORA'] = {
		watch: [],
		variables: [],
		onChange: function(data) {
	var dialog = {};
	var summary = {};
	DLG1_DlgObj._getDialogVariables(dialog,summary,data);
	var showHide = '';
	if( (1 == 2) == true ) showHide = '';
	else showHide = 'none';	
	if(showHide == 'none') {	
		DLG1_DlgObj.setControlDisplay(''+'RESERVADATAHORA'+'',false,'display');
	} else {
		DLG1_DlgObj.setControlDisplay(''+'RESERVADATAHORA'+'',true,'display');
	}
	}
}
window['DLG1_O_3582CDA5E14F4AEC9C6B345C04B42F04'] = function(objEle) {
var rowNum = 1;
var data='__xbfunction=MenuDef_9702e11b89674696945f639eaebb1e98&__relativeObject=' + objEle.id;
DLG1_DlgObj.ajaxCallback('','','system:javascriptMenus','',data);
}
DLG1_DlgObj.geolocation={};
DLG1_DlgObj._ajs = {};
function geoLocateSuccess(pos){
	DLG1_DlgObj.geolocation.accuracy = pos.coords.accuracy;
	DLG1_DlgObj.geolocation.altitude = pos.coords.altitude;
	DLG1_DlgObj.geolocation.altitudeAccuracy = pos.coords.altitudeAccuracy;
	DLG1_DlgObj.geolocation.heading = pos.coords.heading;
	DLG1_DlgObj.geolocation.latitude = pos.coords.latitude;
	DLG1_DlgObj.geolocation.longitude = pos.coords.longitude;
	DLG1_DlgObj.geolocation.speed = pos.coords.speed;
	DLG1_DlgObj.geolocation.timestamp = pos.timestamp;
	try{
		populateControls_fireCallback();
	}
	catch(e){
		alert('Callback function error : ' + e.message);
	}	
}
function geoLocateFailed(error){
	switch(error.code){
		case 0: 
			alert('Geolocation error : An unknown error occured.');
			break;
		case 1: 
			alert('Geolocation error : Permision to use GeoLocation Service denied by user');
			break;
		case 2: 
			alert('Geolocation error : Position not available');
			break;
		case 3: 
			alert('Geolocation error : Timeout');
			break;		
	}
}
DLG1_DlgObj.geolocation.clearWatch = function(){
	if (typeof DLG1_DlgObj._watchID != 'undefined'){
		navigator.geolocation.clearWatch(DLG1_DlgObj._watchID);
		delete DLG1_DlgObj._watchID;	
	}
}
function populateControls_fireCallback(){
DLG1_DlgObj.setValue('DEVICELATITUDE',DLG1_DlgObj.geolocation.latitude );
DLG1_DlgObj.setValue('DEVICELONGITUDE',DLG1_DlgObj.geolocation.longitude );
showMapRoute();}
DLG1_DlgObj.setStateInfo({
	__dialogGuid: '461a0aa4-0952-4bf7-bec8-31f6814c06f4',
	argumentsBoundToCotrols: 'carrinhoAtual|Numeric={carrinhoID}\nusuarioAtual|Character={UsuarioID}\ncategoriaAtual|Numeric={listaCategorias}\n',
	__dtfmt: 'dd/MM/yyyy',
	__tfmt: '',
	__sgr: ''
});
DLG1_DlgObj._cascadingControls = [];
DLG1_DlgObj._cascadingControlsChildren = [];
DLG1_DlgObj.setStateInfo({ });
DLG1_DlgObj.setStateInfo({ 	__args_N_carrinhoatual: '0', 	__args_C_usuarioatual: '(51)9155-2004', 	__args_N_categoriaatual: '0' });
A5.msgBox.buttons.yes = {html: 'Sim'};
A5.msgBox.buttons.no = {html: 'N&atildeo'};
A5.msgBox.theme = 'iOS7';
A5.msgBox.buttonWidth = '1in';
DLG1_DlgObj._defaultWindowTitleDirection = 'ltr';
DLG1_DlgObj._controlContainers = {}
DLG1_DlgObj._panelCardControls = {
LISTACATEGORIAS:'PC_CATEGORIAS',
LISTAITENS:'PC_CARDAPIO',
CARRINHOID:'PC_CARRINHO',
CLIENTETELEFONE:'PC_CARRINHO',
CLIENTENOME:'PC_CARRINHO',
LISTACARRINHOITEM:'PC_CARRINHO_ITEM',
CARRINHOID_1:'PC_DV_CARRINHO_ITEM',
CARRITEMID:'PC_DV_CARRINHO_ITEM',
ITEMID:'PC_DV_CARRINHO_ITEM',
CARRITEMQTD:'PC_DV_CARRINHO_ITEM',
CARRITEMPRECOUNIT:'PC_DV_CARRINHO_ITEM',
EMPRESAID:'PC_ENDERECO',
EMPRESAFANTASIA:'PC_ENDERECO',
EMPRESAENDENDERECO:'PC_ENDERECO',
EMPRESAENDERECONUMERO:'PC_ENDERECO',
EMPRESAENDNUMERO:'PC_ENDERECO',
EMPRESAENDCOMPLEMENTO:'PC_ENDERECO',
EMPRESAENDBAIRRO:'PC_ENDERECO',
EMPRESAENDCIDADE:'PC_ENDERECO',
EMPRESAENDUF:'PC_ENDERECO',
EMPRESAENDCEP:'PC_ENDERECO',
EMPRESATELEFONE:'PC_ENDERECO',
EMPRESAPAIS:'PC_ENDERECO',
DEVICELATITUDE:'PC_ENDERECO',
DEVICELONGITUDE:'PC_ENDERECO',
MINIMAPA:'PC_ENDERECO',
MAPROUTE:'PC_MAP_ROUTE',
CHATINPUT:'PC_MENSAGENS',
LISTARESERVAS:'PC_RESERVAS',
MENUPRINCIPAL:'PC_MENUPRINCIPAL'
}
DLG1_DlgObj._buttons = {};
DLG1_DlgObj._buttons['BUTTON_25'] = new A5.Button({
	layout: 'icon',
	icon: 'cssIcon=fa fa-bars {font-size: 16pt; color: #ffffff;}',
	disabledIcon: 'cssIcon=fa fa-bars {font-size: 16pt; color: #ffffff;}',
	onClick: function() { 
},
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;'
});
DLG1_DlgObj._buttons['BTN_CATEGORIAS'] = new A5.Button({
	layout: 'icon',
	icon: 'cssIcon=fa fa-bars {font-size: 16pt; color: #ffffff;}',
	disabledIcon: 'cssIcon=fa fa-bars {font-size: 16pt; color: #ffffff;}',
	onClick: function() { 
},
	style: 'margin: 4px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;'
});
DLG1_DlgObj._buttons['BTN_VAI_AO_CARRINHO'] = new A5.Button({
	layout: 'icon',
	icon: 'cssIcon=fa fa-shopping-cart {font-size: 16pt; color: #ffffff;}',
	disabledIcon: 'cssIcon=fa fa-shopping-cart {font-size: 16pt; color: #ffffff;}',
	onClick: function() { 
},
	style: 'margin: 4px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;'
});
DLG1_DlgObj._buttons['BTN_VOLTA_AO_CARDAPIO'] = new A5.Button({
	layout: 'icon',
	icon: 'cssIcon=fa fa-file-text {font-size: 16pt; color: #ffffff;}',
	disabledIcon: 'cssIcon=fa fa-file-text {font-size: 16pt; color: #ffffff;}',
	onClick: function() { 
},
	style: 'margin: 4px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;'
});
DLG1_DlgObj._buttons['BTN_VER_ITEMDATA'] = new A5.Button({
	layout: 'icon',
	icon: 'cssIcon=fa fa-shopping-cart {font-size: 16pt; color: #ffffff;}',
	disabledIcon: 'cssIcon=fa fa-shopping-cart {font-size: 16pt; color: #ffffff;}',
	onClick: function() { 
},
	style: 'margin: 4px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;'
});
DLG1_DlgObj._buttons['BUTTON_22'] = new A5.Button({
	layout: 'icon',
	icon: 'cssIcon=fa fa-list-ul {font-size: 16pt; color: #ffffff;}',
	disabledIcon: 'cssIcon=fa fa-list-ul {font-size: 16pt; color: #ffffff;}',
	onClick: function() { 
},
	style: 'margin: 4px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;'
});
DLG1_DlgObj._buttons['BTN_VAI_ROTA_MAPA'] = new A5.Button({
	layout: 'icon',
	icon: 'cssIcon=fa fa-map-marker {font-size: 16pt; color: #ffffff;}',
	disabledIcon: 'cssIcon=fa fa-map-marker {font-size: 16pt; color: #ffffff;}',
	onClick: function() { 
},
	style: 'margin: 4px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;'
});
DLG1_DlgObj._buttons['BTN_CARDAPIO'] = new A5.Button({
	layout: 'icon/text',
	style: 'width: 100%; height: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ',
	className: 'btnPrincipal',
	html: '<div style="color: #ffffff; background-color: rgba(0,0,0,0.5); position: relative; top: 0px;">Card&aacutepio</div>',
	icon: 'images/menu.gif',
	disabledIcon: 'images/disabled/menu.gif',
	onClick: function() { 
},
	iconStyle: 'width: 70%; height: 70%;',
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BTN_ENDER'] = new A5.Button({
	layout: 'icon/text',
	style: 'width: 100%; height: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ',
	className: 'btnPrincipal',
	html: '<div style="color: #ffffff; background-color: rgba(0,0,0,0.5); position: relative; top: 0px;">Endere&ccedilo</div>',
	icon: 'images/Endereco.png',
	disabledIcon: 'images/disabled/Endereco.png',
	onClick: function() { 
},
	iconStyle: 'width: 70%; height: 70%;',
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BTN_RESERVA'] = new A5.Button({
	layout: 'icon/text',
	style: 'width: 100%; height: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ',
	className: 'btnPrincipal',
	html: '<div style="color: #ffffff; background-color: rgba(0,0,0,0.5); position: relative; top: 0px;">Reservas</div>',
	icon: 'images/calendar.png',
	disabledIcon: 'images/disabled/calendar.png',
	onClick: function() { 
},
	iconStyle: 'width: 70%; height: 70%;',
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BTN_MESSAGE'] = new A5.Button({
	layout: 'icon/text',
	style: 'width: 100%; height: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ',
	className: 'btnPrincipal',
	html: '<div style="color: #ffffff; background-color: rgba(0,0,0,0.5); position: relative; top: 0px;">Mensagens</div>',
	icon: 'images/message.png',
	disabledIcon: 'images/disabled/message.png',
	onClick: function() { 
},
	iconStyle: 'width: 70%; height: 70%;',
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BTN_PROMOCAO'] = new A5.Button({
	layout: 'icon/text',
	style: 'width: 100%; height: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ',
	className: 'btnPrincipal',
	html: '<div style="color: #ffffff; background-color: rgba(0,0,0,0.5); position: relative; top: 0px;">Promo&ccedil&otildees</div>',
	icon: 'images/PromoCupom.png',
	disabledIcon: 'images/disabled/PromoCupom.png',
	onClick: function() { 
},
	iconStyle: 'width: 70%; height: 70%;',
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_DVSAVE_LISTACARRINHOITEM'] = new A5.Button({
	layout: 'icon',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	tip: 'Save edits',
	html: 'Save',
	icon: 'cssIcon=iOS7Icon iOS7IconSave',
	disabledIcon: 'cssIcon=iOS7Icon iOS7IconDisabled iOS7IconSave',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_DVNEWRECORD_LISTACARRINHOITEM'] = new A5.Button({
	layout: 'icon',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	tip: 'Enter a new record',
	html: 'New Record',
	icon: 'cssIcon=iOS7Icon iOS7IconNew',
	disabledIcon: 'cssIcon=iOS7Icon iOS7IconNew',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_DVDELETERECORD_LISTACARRINHOITEM'] = new A5.Button({
	layout: 'icon',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	tip: 'Delete record',
	html: 'Delete Record',
	icon: 'cssIcon=iOS7Icon iOS7IconDelete',
	disabledIcon: 'cssIcon=iOS7Icon iOS7IconDisabled iOS7IconDelete',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_DVRESET_LISTACARRINHOITEM'] = new A5.Button({
	layout: 'icon',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	tip: 'Undo edits to the List Detail View',
	html: 'Reset',
	icon: 'cssIcon=iOS7Icon iOS7IconUndo',
	disabledIcon: 'cssIcon=iOS7Icon iOS7IconDisabled iOS7IconUndo',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM'] = new A5.Button({
	layout: 'icon',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	tip: 'Synchronize data - push local edits back to the server',
	html: 'Synchronize',
	icon: 'cssIcon=fa fa-refresh',
	disabledIcon: 'cssIcon=fa fa-refresh {color: #444444;}',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BTN_MAPA'] = new A5.Button({
	layout: 'icon/text',
	style: 'width: 80px; height: 80px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	className: 'btnEndereco',
	html: 'Rota',
	icon: 'images/routeIcon2.jpg',
	disabledIcon: 'images/disabled/routeIcon2.jpg',
	onClick: function() { 
},
	iconStyle: 'width:90%; height: 90%;',
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BTN_LIGAR'] = new A5.Button({
	layout: 'icon/text',
	style: 'width: 80px; height: 80px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	className: 'btnEndereco',
	html: 'Ligar',
	icon: 'images/phoneIcon.gif',
	disabledIcon: 'images/disabled/phoneIcon.gif',
	onClick: function() { 
},
	iconStyle: 'width: 90%; height: 90%;',
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_30'] = new A5.Button({
	layout: 'icon',
	icon: 'images/SendIcon.png',
	disabledIcon: 'images/disabled/SendIcon.png',
	onClick: function() { 
},
	style: 'width: 100%; height: 30px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ',
	iconStyle: 'width: 30px; height: 30px;'
});
DLG1_DlgObj._buttons['BUTTON_14'] = new A5.Button({
	layout: 'text',
	style: 'position: relative; top: -67px; width: 100%; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ',
	className: 'btnFinalizarPedido',
	html: 'Finalizar Pedido',
	icon: 'cssIcon=fa fa-dollar {font-size: 20pt; color: #ffffff;}',
	disabledIcon: 'cssIcon=fa fa-dollar {font-size: 20pt; color: #ffffff;}',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_27'] = new A5.Button({
	layout: 'text',
	style: 'width: 100%; height: 48px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ',
	className: 'btnEntrar',
	html: '<div style="width: 100%;">Entrar</div>',
	icon: 'cssIcon=fa fa-sign-in {font-size: 16pt;}',
	disabledIcon: 'cssIcon=fa fa-sign-in {font-size: 16pt;}',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_28'] = new A5.Button({
	layout: 'text',
	style: 'width: 100%; height: 48px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ',
	className: 'btnSenhaCadastro',
	html: 'Esqueci a senha',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_29'] = new A5.Button({
	layout: 'text',
	style: 'width: 100%; height: 48px; box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box; ',
	className: 'btnSenhaCadastro',
	html: 'Quero me cadastrar',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_2'] = new A5.Button({
	layout: 'icon',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	className: 'btnPessoasReserva',
	html: 'Button',
	icon: 'cssIcon=fa fa-minus {font-size: 16pt;}',
	disabledIcon: 'cssIcon=fa fa-minus {font-size: 16pt;}',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_1'] = new A5.Button({
	layout: 'icon',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	className: 'btnPessoasReserva',
	icon: 'cssIcon=fa fa-plus {font-size: 16pt;}',
	disabledIcon: 'cssIcon=fa fa-plus {font-size: 16pt;}',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_3'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	className: 'btnSalvarReserva',
	html: 'Salvar Reserva',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_4'] = new A5.Button({
	layout: 'text',
	style: 'box-sizing: border-box; -moz-box-sizing: border-box; -ms-box-sizing: border-box; -webkit-box-sizing: border-box;',
	className: 'btnDescartarReserva',
	html: 'Descartar',
	onClick: function() { 
},
	theme: 'iOS7'
});
DLG1_DlgObj._buttons['BUTTON_25'].bind('DLG1.V.R1.BUTTON_25');
DLG1_DlgObj._buttons['BTN_CATEGORIAS'].bind('DLG1.V.R1.BTN_CATEGORIAS');
DLG1_DlgObj._buttons['BTN_VAI_AO_CARRINHO'].bind('DLG1.V.R1.BTN_VAI_AO_CARRINHO');
DLG1_DlgObj._buttons['BTN_VOLTA_AO_CARDAPIO'].bind('DLG1.V.R1.BTN_VOLTA_AO_CARDAPIO');
DLG1_DlgObj._buttons['BTN_VER_ITEMDATA'].bind('DLG1.V.R1.BTN_VER_ITEMDATA');
DLG1_DlgObj._buttons['BUTTON_22'].bind('DLG1.V.R1.BUTTON_22');
DLG1_DlgObj._buttons['BTN_VAI_ROTA_MAPA'].bind('DLG1.V.R1.BTN_VAI_ROTA_MAPA');
DLG1_DlgObj._buttons['BTN_CARDAPIO'].bind('DLG1.V.R1.BTN_CARDAPIO');
DLG1_DlgObj._buttons['BTN_ENDER'].bind('DLG1.V.R1.BTN_ENDER');
DLG1_DlgObj._buttons['BTN_RESERVA'].bind('DLG1.V.R1.BTN_RESERVA');
DLG1_DlgObj._buttons['BTN_MESSAGE'].bind('DLG1.V.R1.BTN_MESSAGE');
DLG1_DlgObj._buttons['BTN_PROMOCAO'].bind('DLG1.V.R1.BTN_PROMOCAO');
DLG1_DlgObj._buttons['BUTTON_DVSAVE_LISTACARRINHOITEM'].bind('DLG1.V.R1.BUTTON_DVSAVE_LISTACARRINHOITEM');
DLG1_DlgObj._buttons['BUTTON_DVNEWRECORD_LISTACARRINHOITEM'].bind('DLG1.V.R1.BUTTON_DVNEWRECORD_LISTACARRINHOITEM');
DLG1_DlgObj._buttons['BUTTON_DVDELETERECORD_LISTACARRINHOITEM'].bind('DLG1.V.R1.BUTTON_DVDELETERECORD_LISTACARRINHOITEM');
DLG1_DlgObj._buttons['BUTTON_DVRESET_LISTACARRINHOITEM'].bind('DLG1.V.R1.BUTTON_DVRESET_LISTACARRINHOITEM');
DLG1_DlgObj._buttons['BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM'].bind('DLG1.V.R1.BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM');
DLG1_DlgObj._buttons['BTN_MAPA'].bind('DLG1.V.R1.BTN_MAPA');
DLG1_DlgObj._buttons['BTN_LIGAR'].bind('DLG1.V.R1.BTN_LIGAR');
DLG1_DlgObj._buttons['BUTTON_30'].bind('DLG1.V.R1.BUTTON_30');
DLG1_DlgObj._buttons['BUTTON_14'].bind('DLG1.V.R1.BUTTON_14');
DLG1_DlgObj._buttons['BUTTON_27'].bind('DLG1.V.R1.BUTTON_27');
DLG1_DlgObj._buttons['BUTTON_28'].bind('DLG1.V.R1.BUTTON_28');
DLG1_DlgObj._buttons['BUTTON_29'].bind('DLG1.V.R1.BUTTON_29');
DLG1_DlgObj._buttons['BUTTON_2'].bind('DLG1.V.R1.BUTTON_2');
DLG1_DlgObj._buttons['BUTTON_1'].bind('DLG1.V.R1.BUTTON_1');
DLG1_DlgObj._buttons['BUTTON_3'].bind('DLG1.V.R1.BUTTON_3');
DLG1_DlgObj._buttons['BUTTON_4'].bind('DLG1.V.R1.BUTTON_4');
DLG1_DlgObj._listViewSettings['LISTACATEGORIAS'] = {
	_dataSourceType: 'SQL',
	_listFields: [
	{
		name: 'CategoriaID',
		defaultValue: 'return this._controlDefaultValueForListField(\'CategoriaID\');'
	},
	{
		name: 'CategoriaFoto',
		defaultValue: 'return this._controlDefaultValueForListField(\'CategoriaFoto\');',
		image: {
			embedded: false,
			type: 'JPG'
		}
	},
	{
		name: 'CategoriaNome',
		defaultValue: 'return this._controlDefaultValueForListField(\'CategoriaNome\');'
	},
	{
		name: 'EmpresaID',
		defaultValue: 'return this._controlDefaultValueForListField(\'EmpresaID\');'
	}
],
	_searchPartHas: false,
	_dvmode: 'enter',
	_hasDetailView: false,
	theme: 'iOS7',
	scroll: {
		axis: 'y',
		indicator: {
			show: true,
			h: {
				show: true,
				location: 'right',
				offset: '0px',
				left: '0px',
				right: '0px'
			},
			v: {
				show: true,
				location: 'right',
				offset: '0px',
				top: '0px',
				bottom: '0px'
			}
		},
		momentum: {
			allow: true
		},
		pull: {
			y: 'auto',
			x: 'auto'
		}
	},
	layout: 'Default',
	calculateValue: function(data) {  return '' +data.__primaryKey;},
	listVariableName: 'LISTACATEGORIAS',
	listVariableNameTrueCase: 'listaCategorias',
	_hostComponentId: 'DLG1',
	_includeCRC: false,
	allParentLists: [],
	onBeforeItemDraw: function(data,index) {data.size = DLG1_DlgObj.panelWidth('PC_CATEGORIAS')+'px';
;
;},
	__flagPersist: false,
	onBeforeUpdateRow: function(index,data){;},
	onUpdateRow: function(index,data){;},
	onBeforeAddRows: function(data,info){;},
	onAddRows: function(data,info){;},
	onBeforeRemoveRows: function(rows){;},
	onRemoveRows: function(rows){;},
	onListDraw: function(data,startIndex) {
if(A5.flags.isMobile) $e.add(this.contId+'.CONTENT','abstractdown',function(e) {$e.preventDefault(e);});},
	_onTap: function(index) { var data = this.selectionData[0];
DLG1_DlgObj.getControl('LISTAITENS').searchList({searchMode : 'auto'});
DLG1_DlgObj.panelSetActive('PC_CARDAPIO');},
	childLists: [],
	_populateAllChildLists: function() { },
	onClick: function() {
DLG1_DlgObj._listSystemOnClick('LISTACATEGORIAS',this.selection[0]);},
	layouts: {
		Default: {
			type: 'template',
			item: {
				height: '150px',
				style: 'border-style: none; padding: 0px; margin: 0px;'
			},
			template: [
				'<div style="display: table; width: 100%;">',
				'\t<div style="display: table-cell; width: {size}; height: 150px; text-align: left; vertical-align: middle;">',
				'\t\t<span id="DLG1.LISTACATEGORIAS.CATEGORIAFOTO.I.{*dataRow}"><img id="DLG1.LISTACATEGORIAS.CATEGORIAFOTO.IMG.{*dataRow}"  style="width: {size}; height: 150px;" src="{CategoriaFoto}" /></span>',
				'\t</div>',
				'\t<div style="display: block; position:relative; top: 100px; left: -{size}; padding: 8px; background-color: rgba(255,0,0,0.5); color:#ffffff; width: 130px; height: 20px;">',
				'\t\t<div style="font-family:\'Lato\'; font-size: 16px; color:#ffffff;"><span id="DLG1.LISTACATEGORIAS.CATEGORIANOME.I.{*dataRow}">{CategoriaNome}</span></div>',
				'\t</div>',
				'',
				'</div>'			
]
		}
	},
	content: {
		header: {
			show: false
		},
		footer: {
			show: false
		}
	},
	systemEvents: {
		onTap: function(e) {DLG1_DlgObj.getControl('LISTAITENS').searchList({searchMode : 'auto'});
DLG1_DlgObj.panelSetActive('PC_CARDAPIO');},
		afterAjaxCallback: function(e) {},
		afterClientSideFilter: function(e) {},
		beforeServerSideSort: function(e) {},
		afterServerSideSort: function(e) {},
		onSwipe: function(e) {},
		onScroll: function(e) {},
		onPullRelease: function(e) {},
		onPull: function(e) {},
		onPullEnd: function(e) {},
		afterSearchComplete: function(e) {},
		beforeSearch: function(e) {},
		onSearchResultTooLarge: function(e) {},
		onSearchResultTooLargeForLocalStorage: function(e) {},
		onBeforePersistToLocalStorage: function(e) {},
		onPersistToLocalStorage: function(e) {},
		onRestoreFromLocalStorage: function(e) {},
		afterRenderComplete: function(e) {},
		beforeFetchMore: function(e) {},
		afterFetchMore: function(e) {},
		beforePageNavigate: function(e) {},
		afterPageNavigate: function(e) {},
		beforeRefreshRow: function(e) {},
		afterRefreshRow: function(e) {},
		afterServerSideSummaryCompute: function(e) {},
		_afterAjaxCallback: function() {this._refreshStateMessages();}
	},
	_clientsideSummary: [],
	computeClientSideSummaryValues: function(e) {},
	_executeEvent: function(event,obj) { 
	return DLG1_DlgObj._list_executeEvent('LISTACATEGORIAS',event,obj);
}
,
	searchList: function() { 
	if(this._searchPartStyle == 'querybyform') { 
		if(this._dvmode != 'search') return false;
	}
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else {
			if(this._dataSourceType.toLowerCase() == 'sql') {
				mode = 'serverside';
			} else { 
				mode = 'clientside';
			}
		}
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'search', searchWhere: mode, listIsDirty: flagDirty});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._searchListServerSide(obj);
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilter();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'search', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_searchListServerSide: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var _d={};
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	if(flagDirty) { 
		alert('Can\'t execute server-side search because List has edits that have not yet been synchronized.');
		return false;
	}
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	_data = _data + '&' + A5.ajax.buildURLParam('__searchOptions',JSON.stringify(obj));
	this.filter = false;
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPart','',_data);
}
,
	clearSearchList: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else mode = 'serverside';
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'clear', searchWhere: mode});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._clearSearchListServerSide();
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilterClear();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'clear', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_clearSearchListServerSide: function() { 
	var _d={};
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPartClear','',_data);
}
,
	_str: function(txt) {
	txt = txt.replace("'","\\'");
	txt = '\'' + txt + '\'';
	return txt;
}
,
	_QBF: function(txt) { 
	var o = {};
	o.v2 = '';
	o.v1 = txt;
	o.flag = false;
	if(txt.indexOf('>=') >= 0) {
		o.op = '>=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('<=') >= 0 ) { 
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('>') >= 0 ) {
		o.op = '>';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('<') >= 0)  { 
		o.op = '<';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('..') == 0)  {
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if ( txt.indexOf('..', txt.length - '..'.length) !== -1 ) { 
		//ends with ..
		o.op = '>=';
		txt = txt.split('..')
		o.v1 = txt[0];
		o.flag = true;
	} else if (txt.indexOf('..') > 0 ) {
		o.op = 'between'
		txt = txt.split('..');
		o.v1 = txt[0];
		o.v2 = txt[1];
		o.flag = true;
	}
	return o;
}
,
	_match: function(data,field,val,obj) { 
	var flagKeyword = false;
	if(typeof obj.flagKeyword != 'undefined') flagKeyword = obj.flagKeyword;
	if(flagKeyword) { 
		var obj_i = this._searchFieldOptions[field.toUpperCase()];
		this._setSearchOps(obj,obj_i);
	}
	var _d = '';
	var _v = val;
	var flagC = false;
	if(obj.type == 'c') {
		flagC = true;
		if(!obj.caseSensitive) _v = _v.toLowerCase();
	} else { 
		//non mumeric searches are only mode 1 or -1
		if(obj.mode > 1) obj.mode = 1;
		if(obj.mode < -1) obj.mode = -1;
	}
	var flag = false;
	obj.usesQBFOperator = false;
	if(obj.qbf) { 
		_v = _v.split(',');
	} else {
		_v = [_v];
	}
	var o = {}
	var r = '';
	for(var i = 0; i < _v.length; i++) { 
		if(obj.qbf) {
			o = this._QBF(_v[i]);
		} else {
			o.flag = false;
			o.v1 = _v[i];
			o.v2 = '';
		}
		if(typeof data[field] != 'undefined') {
			if(data[field] != null) { 
				_d = data[field];
				if(obj.type == 'n') { 
					o.v1 = Number(o.v1);
					o.v2 = Number(o.v2);
					_d = Number(_d);
				} else if (obj.type == 'l') { 
					o.v1 = $u.s.toBool(o.v1);
					o.v2 = $u.s.toBool(o.v2);
					_d = $u.s.toBool(_d);
				} else if (obj.type == 'd') { 
					o.v1 = A5.stringToDate(o.v1,obj.dateFormat);
					o.v2 = A5.stringToDate(o.v2,obj.dateFormat);
					if(typeof _d == 'string') _d = A5.stringToDate(_d,obj.dateFormat);
					if(o.v1 != '' && o.v1 != null ) o.v1 = o.v1.getTime();
					if(o.v2 != '' && o.v2 != null ) o.v2 = o.v2.getTime();
					if(_d != '' && _d != null ) _d = _d.getTime();
				}
				if(flagC) {if(!obj.caseSensitive && typeof _d == 'string') _d = _d.toLowerCase();}
				if(o.flag) { 
					//has qbf operators
					if(o.op == 'between') {
						if(flagC) {
							if(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;
						} else { 
							if(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;
						}
					} else { 
						if(flagC) _d = _d.substr(0,o.v1.length)
						if(o.op == '>=') if( _d >= o.v1) flag = true;
						if(o.op == '<=') if( _d <= o.v1) flag = true;
						if(o.op == '>') if(_d > o.v1) flag = true;
						if(o.op == '<') if(_d < o.v1) flag = true;
					}
				} else { 
					if(obj.mode == 1 || obj.mode == -1 ) {
						if(obj.mode == 1) if(_d == o.v1) flag = true;; //match
						if(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match
					} else if (obj.mode == 2 || obj.mode == -2) { 
						if(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains
						if(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;
					} else if (obj.mode == 3 || obj.mode == -3) { 
						if(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with
						if(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with
					}
				}
			}
		}
	}
	return flag;
}
,
	_setSearchOps: function(obj,obj_i) { 
	obj.mode = obj_i.option;
	obj.qbf = obj_i.qbf;
	obj.type = obj_i.type;
	//obj.treatAs = obj_i.treatAs;
}
,
	_searchPartSubmit_clientSideFilter: function() { 
	if(!this._searchPartHas) return true;
	//_searchPartStyle: 'individualcontrols'
	if(this._searchPartStyle == 'singlekeywordcontrol') { 
		var searchFor = DLG1_DlgObj.getValue(this._keywordSearchControl);
		var arr = this._keywordSearchFields;
		var expn = [];
		var expn_i = '';
		var obj = {};
		//obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 1;
		obj.flagKeyword = true;
		var objStr = JSON.stringify(obj)
		for(var i = 0; i < arr.length; i++) { 
			expn_i = 'this._match(data,' +this._str(arr[i]) + ',' + this._str(searchFor) + ','+objStr+')';
			expn.push(expn_i);
		}
		expn = expn.join('||');
		//alert(expn);
	} else if ( this._searchPartStyle == 'individualcontrols' || this._searchPartStyle == 'querybyform'  ) { 
		var map = this._searchPart.fieldMap;
		var val = '';
		var expn = [];
		var expn_i = '';
		var obj = {};
		obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 2;
		//var objStr = JSON.stringify(obj)
		var ac = [];
		var aco = {};
		if(this._searchPartStyle == 'individualcontrols') {
			for(var i = 0; i < map.length; i++) { 
				val = DLG1_DlgObj.getValue(map[i].control);
				if(val != '') {
					obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
					this._setSearchOps(obj,obj_i);
					expn_i = 'this._match(data,' +this._str(map[i].field) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
					expn.push(expn_i);
				}
			}
		} else if (this._searchPartStyle == 'querybyform' ) { 
			var controlName = '';
			for(var i = 0; i < this._listFields.length; i++) { 
				controlName = this._getUXDetailViewControlName(this._listFields[i].name);
				if(controlName != '') {
					val = DLG1_DlgObj.getValue(controlName);
					if(val != '') {
						obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
						this._setSearchOps(obj,obj_i);
						expn_i = 'this._match(data,' +this._str(this._listFields[i].name) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
						expn.push(expn_i);
						aco.control = controlName;
						aco.value = val;
						ac.push(aco);
					}
				}
			}
			this.__queryByFormValues = ac;
			DLG1_DlgObj._setDVClean(this);
		}	
		expn = expn.join(' && ');
	} 
	//alert(expn);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = expn;
	}
	//user did not fill in any search fields
	if(expn == '') return true;
	var fnTxt = 'if(' + expn + ') {return true;} else { return false;}'
	var searchFunction = new Function('data',fnTxt);
	this.setFilter(searchFunction);
	if(this._rData.length > 0) this.setValue(0);
}
,
	_searchPartSubmit_clientSideFilterClear: function() { 
if(!this._searchPartHas) return true;
	this.setFilter(false);
	var map = this._searchPart.fieldMap;
	var val = '';
	var od = DLG1_DlgObj.originalValues[0];
	for(var i = 0; i < map.length; i++) {
		var val = od[map[i].control.toUpperCase()];
		if(typeof val != 'undefined') DLG1_DlgObj.setValue(map[i].control,val,false);
	}
	this.setFilter(false);
	delete this.__queryByFormValues;
	DLG1_DlgObj._setDVClean(this);
	if(this._data.length > 0) this.setValue(0);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = '';
	}
}
,
	detailViewIsDirty: function() { return false; },
	populateUXControls: function() { return true; },
	listIsDirty: function() { return false; },
	lookupValue: function(key,name,keyValue) {	var _d = this._data;
	var indx = A5FindPropInArray(_d,key,keyValue);
	var rv = '';
	if(indx >=0) {
		if(name == '__rowData__') return _d[indx];
		rv =  _d[indx][name];
	} else {
		//null out all properties in row
		var _d2 = {};
		if(typeof _d[0] == 'undefined') { return {}} ;
		for(var n in _d[0]) {
			_d2[n] = '&nbsp;';
		}
		rv = _d2;
	}
	return rv;
}
,
	allowNullSelection: false,
	refreshChildLists: function() {DLG1_DlgObj._listRefreshCascadingLists('LISTACATEGORIAS'); },
	rowExpander: function(rowNumber) { 
	var mode = typeof arguments[2] != 'undefined' ? arguments[2] : 'toggle';
	if(typeof rowNumber == 'undefined' || rowNumber == '' ) {
		rowNumber = this.selection[0];
		if(typeof rowNumber == 'undefined') return false;
	}
	var animObj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
	var ele = $(this._hostComponentId + '.' + this.listVariableName + '.ROWEXPANDER.' + rowNumber);
	if(ele) {
		if(mode == 'toggle') A5.u.element.toggle(ele,animObj);
		if(mode == 'show') A5.u.element.show(ele,animObj);
		if(mode == 'hide') A5.u.element.hide(ele,animObj);
	}
}
,
	afterClientSideSummaryCompute: function(csSummary) { },
	selectCurrentLayout: function(name) { 
var pl = this.layouts[name];
if(typeof pl == 'undefined') return false;
this.setLayout(name);
if(pl.type == 'column') {
	this.columnLayout.header.show = this.layouts[name].showColumnTitles; 
	this.refresh();
}
},
	onFilter: function() { 	var e = {}; 
	e.rowCount = this._values.length;  
	var ele = $('DLG1.__listId__.RECORDCOUNT'); 
	if(ele) {ele.innerHTML = e.rowCount;}; 
	if(this.persistToStorage) { this.persistToStorage({});} 
	(function(e) {   })(e);
}
,
	serverSideSort: function(column) {
var e = {};
e.column = column;
var result = this.systemEvents.beforeServerSideSort(e);
if(result == false) return false;
var obj = {};
obj.cmd = 'sort';
obj.column = column;
obj.layoutName = this.layout;
obj.listState = this._state;
var data = '_listId=LISTACATEGORIAS&' + A5.ajax.buildURLParam('_cmdObj',$u.o.toJSON(obj));
DLG1_DlgObj.ajaxCallback('','','system:listServerSideSort','',data);
},
	filterListClientSide: function(searchFor) {
//var result = this.systemEvents.beforeClientSideFilter();
//if(result == false) return false;
if(searchFor != '') {
	//fixes bug in Chrome when searching on dates strings that use forward slashes
	searchFor = searchFor.replace(/\//g,'\\/');
	this.setFilter({CategoriaID: RegExp('' + searchFor,'i'), CategoriaNome: RegExp('' + searchFor,'i'), EmpresaID: RegExp('' + searchFor,'i')});
} else this.setFilter(false);
var rowCount = this._values.length;
//var e = {};
//e.rowCount = rowCount;
//this.systemEvents.afterClientSideFilter(e);
var ele = $('DLG1.listaCategorias.RECORDCOUNT');
if(ele) ele.innerHTML = rowCount;
}
,
	scrollToClosestValue: function(val) { 	
	if(typeof val != 'string') val = val.join('');
	var flagCI = typeof arguments[1] != 'undefined' ? arguments[1] : false;
	var pos = typeof arguments[2] != 'undefined' ? arguments[2] : 'top';
	var anim = typeof arguments[3] != 'undefined' ? arguments[3] : {}
	var _d = this._rData;
	var len = val.length;
	var _d2;
	var i2 = -1;
	if(flagCI) val = val.toLowerCase();
	for(var i = 0 ; i < _d.length; i++) {
		i2 = i;
		_d2 = String(_d[i]['*value']);
		_d2 = _d2.substr(0,len);
		if(flagCI) _d2 = _d2.toLowerCase();
		if(val <= _d2){
			 break;
		}
	}
	if(i2 > -1) { 
		this.scrollToItem(i2,{mode: pos, animation: anim});
	}
}
,
	_refreshStateMessages: function() {
	var ele = '';
	ele = $('DLG1.LISTACATEGORIAS.PAGENUMBER');
	if(ele) ele.innerHTML = this._state.page;
	ele = $('DLG1.LISTACATEGORIAS.PAGECOUNT');
	if(ele) ele.innerHTML = this._state.pageCount;
	ele = $('DLG1.LISTACATEGORIAS.PAGECOUNT.PAGESELECTOR');
	if(ele) ele.innerHTML = this._state.pageCount;	
	ele = $('DLG1.LISTACATEGORIAS.LISTSTATE');
	if(ele) {
		var listState = $u.o.toJSON(this._state);
		ele.innerHTML = listState;
	}
	//navigation buttons			
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_NEXT.LISTACATEGORIAS'];
	if(ele) {
		if(this._state.page == this._state.pageCount) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_LAST.LISTACATEGORIAS'];
	if(ele) {
		if(this._state.page == this._state.pageCount) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_FIRST.LISTACATEGORIAS'];
	if(ele) {
		if(this._state.page == 1 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_PREV.LISTACATEGORIAS'];
	if(ele) {
		if(this._state.page == 1 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = $('DLG1.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LISTACATEGORIAS');
	if(ele) {
		var data = this._recordNavigatorLinks;
		if(data) A5.form.populateSelect(ele,this._state.page,data,true);
	}
}
,
	_getRoute: function() { 
	var obj  = typeof arguments[1] != 'undefined' ? arguments[1] : [];
	var mode = typeof arguments[0] != 'undefined' ? arguments[0] : 'rowNumber'; //
	if(typeof this.selection[0] == 'undefined') return false;
	if(typeof this.getData(this.selection[0]) == 'undefined') return false;
	if(mode == 'rowNumber') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])['*key']});
	else obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		lObj._getRoute(mode,obj);
	}
	return obj;
}
,
	_setRoute: function(route) { 
	if(typeof route == 'undefined') { 
		route = this.__currentRoute;
		if(typeof route == 'undefined') return false;
	}
	var lObj = '';
	var row = '';
	for(var i = 0; i < route.length; i++) {
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(route[i].list);
		row = route[i].row;
		var flag = typeof this._restoringList != 'undefined' ? !this._restoringList : true;
		if(typeof row != 'undefined') {
			var rowFixed = '';
			rowFixed = lObj._dataMap.indexOf(route[i].row);
			lObj.setValue(rowFixed,flag);
			if(this._clearServerSideErrors) this._clearServerSideErrors();
			if(this._showServerSideErrors) this._showServerSideErrors();
			if(this._showWriteConflictErrors) this._showWriteConflictErrors();
		}
	}
}
,
	_useServerSideSyncLog: false
};
DLG1_DlgObj._listViewSettings['LISTAITENS'] = {
	_dataSourceType: 'SQL',
	_listFields: [
	{
		name: 'ItemID',
		defaultValue: 'return this._controlDefaultValueForListField(\'ItemID\');'
	},
	{
		name: 'ItemNome',
		defaultValue: 'return this._controlDefaultValueForListField(\'ItemNome\');'
	},
	{
		name: 'ItemDescricao',
		defaultValue: 'return this._controlDefaultValueForListField(\'ItemDescricao\');'
	},
	{
		name: 'ItemPreco',
		defaultValue: 'return this._controlDefaultValueForListField(\'ItemPreco\');'
	},
	{
		name: 'ItemPrecoPromocao',
		defaultValue: 'return this._controlDefaultValueForListField(\'ItemPrecoPromocao\');'
	},
	{
		name: 'ItemEstaEmPromocao',
		defaultValue: 'return this._controlDefaultValueForListField(\'ItemEstaEmPromocao\');'
	},
	{
		name: 'ItemEstaAtivo',
		defaultValue: 'return this._controlDefaultValueForListField(\'ItemEstaAtivo\');'
	},
	{
		name: 'FotoDescricao',
		defaultValue: 'return this._controlDefaultValueForListField(\'FotoDescricao\');'
	},
	{
		name: 'FotoPrincipal',
		defaultValue: 'return this._controlDefaultValueForListField(\'FotoPrincipal\');'
	},
	{
		name: 'Foto',
		defaultValue: 'return this._controlDefaultValueForListField(\'Foto\');',
		image: {
			embedded: false,
			type: 'JPG'
		}
	},
	{
		name: 'CategoriaNome',
		defaultValue: 'return this._controlDefaultValueForListField(\'CategoriaNome\');'
	},
	{
		name: 'CategoriaID',
		defaultValue: 'return this._controlDefaultValueForListField(\'CategoriaID\');'
	},
	{
		name: 'ItemCategoriaID',
		defaultValue: 'return this._controlDefaultValueForListField(\'ItemCategoriaID\');'
	}
],
	_searchPartHas: true,
	_searchPart: {
		fieldMap: [
	{
		field: 'ItemCategoriaID',
		control: 'listaCategorias'
	}
]
	},
	_searchPartStyle: 'individualcontrols',
	_searchFieldOptions: {
"ITEMID" : {option: 2,qbf: false,type: 'n'},
"ITEMNOME" : {option: 2,qbf: false,type: 'c'},
"ITEMDESCRICAO" : {option: 2,qbf: false,type: 'c'},
"ITEMPRECO" : {option: 2,qbf: false,type: 'n'},
"ITEMPRECOPROMOCAO" : {option: 2,qbf: false,type: 'n'},
"ITEMESTAEMPROMOCAO" : {option: 2,qbf: false,type: 'c'},
"ITEMESTAATIVO" : {option: 2,qbf: false,type: 'c'},
"FOTODESCRICAO" : {option: 2,qbf: false,type: 'c'},
"FOTOPRINCIPAL" : {option: 2,qbf: false,type: 'c'},
"FOTO" : {option: 2,qbf: false,type: 'c'},
"CATEGORIANOME" : {option: 2,qbf: false,type: 'c'},
"CATEGORIAID" : {option: 2,qbf: false,type: 'n'},
"ITEMCATEGORIAID" : {option: 2,qbf: false,type: 'n'}
},
	_showSearchDebugInfo: false,
	_dvmode: 'enter',
	_hasDetailView: false,
	theme: 'iOS7',
	scroll: {
		axis: 'y',
		indicator: {
			show: true,
			h: {
				show: true,
				location: 'right',
				offset: '0px',
				left: '0px',
				right: '0px'
			},
			v: {
				show: true,
				location: 'right',
				offset: '0px',
				top: '0px',
				bottom: '0px'
			}
		},
		momentum: {
			allow: true
		},
		pull: {
			y: 'auto',
			x: 'auto'
		}
	},
	layout: 'Default',
	calculateValue: function(data) {  return '' +data.__primaryKey;},
	listVariableName: 'LISTAITENS',
	listVariableNameTrueCase: 'listaItens',
	_hostComponentId: 'DLG1',
	_includeCRC: false,
	allParentLists: [],
	onBeforeItemDraw: function(data,index) {data.preco = function(data,index) {
	if( data.ItemEstaEmPromocao == 'S' )
		return data.ItemPrecoPromocao;
	return data.ItemPreco;
	}(data,index);
data.size = DLG1_DlgObj.panelWidth('PC_CARDAPIO')+'px';
var lobj = DLG1_DlgObj.getControl('listaCarrinhoItem');
if(lobj) {
	var lookupData = lobj.lookupValue(['itemID'],'__rowData__',[data.ItemID]);
	data.itensCarrinho = lookupData;
	this._data[this._dataMap[index]].itensCarrinho = lookupData;
}
;
;},
	onBeforeListDraw: function(data,startIndex) {var height = DLG1_DlgObj.panelWidth('PC_CARDAPIO');	
this.layouts.Default.item.style = this.layouts.Default.item.style+' height: '+height+'px;';},
	__flagPersist: false,
	onBeforeUpdateRow: function(index,data){;},
	onUpdateRow: function(index,data){;},
	onBeforeAddRows: function(data,info){;},
	onAddRows: function(data,info){;},
	onBeforeRemoveRows: function(rows){;},
	onRemoveRows: function(rows){;},
	onListDraw: function(data,startIndex) {
if(A5.flags.isMobile) $e.add(this.contId+'.CONTENT','abstractdown',function(e) {$e.preventDefault(e);});},
	onItemDraw: function(ele,data,index) {$e.add('DLG1.LISTAITENS.BTNCOMPRAR.BTN.'+arguments[2]+'',A5.d.evnts.click,Function('setTimeout(function() { DLG1_DlgObj.getControl(\'LISTAITENS\')._functions.button_btncomprar('+arguments[2]+');},1);'));},
	childLists: [],
	_populateAllChildLists: function() { },
	onClick: function() {
DLG1_DlgObj._listSystemOnClick('LISTAITENS',this.selection[0]);},
	layouts: {
		Default: {
			type: 'template',
			item: {
				style: 'padding: 0px; margin: 0px; '
			},
			template: [
				'<div style="display:table; width: {size}; height:{size};">',
				'\t<div style="position:relative; top:0px; display:table-cell; width: 100%; height: 100%; background-color:#808080;">',
				'\t\t<span id="DLG1.LISTAITENS.FOTO.I.{*dataRow}"><img id="DLG1.LISTAITENS.FOTO.IMG.{*dataRow}"  style="width: {size}; height: {size};" src="{Foto}" /></span>',
				'\t\t<div style="display:table; width:{size}; height:{size};position:relative;top:-{size};">',
				'\t\t\t<div class="comprar">',
				'\t\t\t\t<span id="DLG1.LISTAITENS.BTNCOMPRAR.I.{*dataRow}"><button id="DLG1.LISTAITENS.BTNCOMPRAR.BTN.{*dataRow}"  class="iOS7Button" style="color: #ffffff; font: bold 20px Open Sans Condensed; border-style: none; cursor: pointer; width: 60px; height: 80px; " title=""><i class="fa fa-shopping-cart"  style="font-size: 30pt"></i></button></span>',
				'\t\t\t</div>',
				'\t\t\t<div class="item">',
				'\t\t\t\t<div style="text-align:right; position:relative; top:62px;">',
				'\t\t\t\t\t<b>R$ {preco:number(\'# ##0,00\')}</b>',
				'\t\t\t\t</div>',
				'\t\t\t\t<div style="position:relative; top:-16px;">',
				'\t\t\t\t\t<b><span id="DLG1.LISTAITENS.ITEMNOME.I.{*dataRow}">{ItemNome}</span></b><br>',
				'\t\t\t\t\t<div style="font-size:12px;">',
				'\t\t\t\t\t\t<span id="DLG1.LISTAITENS.ITEMDESCRICAO.I.{*dataRow}">{ItemDescricao}</span><br>',
				'\t\t\t\t\t</div>',
				'\t\t\t\t</div>',
				'\t\t\t</div>',
				'\t\t</div>',
				'\t</div>',
				'</div>',
				'',
				''			
]
		}
	},
	content: {
		header: {
			show: false
		},
		footer: {
			show: false
		}
	},
	systemEvents: {
		onTap: function(e) {},
		afterAjaxCallback: function(e) {},
		afterClientSideFilter: function(e) {},
		beforeServerSideSort: function(e) {},
		afterServerSideSort: function(e) {},
		onSwipe: function(e) {},
		onScroll: function(e) {},
		onPullRelease: function(e) {},
		onPull: function(e) {},
		onPullEnd: function(e) {},
		afterSearchComplete: function(e) {},
		beforeSearch: function(e) {},
		onSearchResultTooLarge: function(e) {},
		onSearchResultTooLargeForLocalStorage: function(e) {},
		onBeforePersistToLocalStorage: function(e) {},
		onPersistToLocalStorage: function(e) {},
		onRestoreFromLocalStorage: function(e) {},
		afterRenderComplete: function(e) {},
		beforeFetchMore: function(e) {},
		afterFetchMore: function(e) {},
		beforePageNavigate: function(e) {},
		afterPageNavigate: function(e) {},
		beforeRefreshRow: function(e) {},
		afterRefreshRow: function(e) {},
		afterServerSideSummaryCompute: function(e) {},
		_afterAjaxCallback: function() {this._refreshStateMessages();}
	},
	_clientsideSummary: [],
	computeClientSideSummaryValues: function(e) {},
	_executeEvent: function(event,obj) { 
	return DLG1_DlgObj._list_executeEvent('LISTAITENS',event,obj);
}
,
	searchList: function() { 
	if(this._searchPartStyle == 'querybyform') { 
		if(this._dvmode != 'search') return false;
	}
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else {
			if(this._dataSourceType.toLowerCase() == 'sql') {
				mode = 'serverside';
			} else { 
				mode = 'clientside';
			}
		}
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'search', searchWhere: mode, listIsDirty: flagDirty});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._searchListServerSide(obj);
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilter();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'search', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_searchListServerSide: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var _d={};
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	if(flagDirty) { 
		alert('Can\'t execute server-side search because List has edits that have not yet been synchronized.');
		return false;
	}
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	_data = _data + '&' + A5.ajax.buildURLParam('__searchOptions',JSON.stringify(obj));
	this.filter = false;
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPart','',_data);
}
,
	clearSearchList: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else mode = 'serverside';
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'clear', searchWhere: mode});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._clearSearchListServerSide();
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilterClear();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'clear', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_clearSearchListServerSide: function() { 
	var _d={};
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPartClear','',_data);
}
,
	_str: function(txt) {
	txt = txt.replace("'","\\'");
	txt = '\'' + txt + '\'';
	return txt;
}
,
	_QBF: function(txt) { 
	var o = {};
	o.v2 = '';
	o.v1 = txt;
	o.flag = false;
	if(txt.indexOf('>=') >= 0) {
		o.op = '>=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('<=') >= 0 ) { 
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('>') >= 0 ) {
		o.op = '>';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('<') >= 0)  { 
		o.op = '<';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('..') == 0)  {
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if ( txt.indexOf('..', txt.length - '..'.length) !== -1 ) { 
		//ends with ..
		o.op = '>=';
		txt = txt.split('..')
		o.v1 = txt[0];
		o.flag = true;
	} else if (txt.indexOf('..') > 0 ) {
		o.op = 'between'
		txt = txt.split('..');
		o.v1 = txt[0];
		o.v2 = txt[1];
		o.flag = true;
	}
	return o;
}
,
	_match: function(data,field,val,obj) { 
	var flagKeyword = false;
	if(typeof obj.flagKeyword != 'undefined') flagKeyword = obj.flagKeyword;
	if(flagKeyword) { 
		var obj_i = this._searchFieldOptions[field.toUpperCase()];
		this._setSearchOps(obj,obj_i);
	}
	var _d = '';
	var _v = val;
	var flagC = false;
	if(obj.type == 'c') {
		flagC = true;
		if(!obj.caseSensitive) _v = _v.toLowerCase();
	} else { 
		//non mumeric searches are only mode 1 or -1
		if(obj.mode > 1) obj.mode = 1;
		if(obj.mode < -1) obj.mode = -1;
	}
	var flag = false;
	obj.usesQBFOperator = false;
	if(obj.qbf) { 
		_v = _v.split(',');
	} else {
		_v = [_v];
	}
	var o = {}
	var r = '';
	for(var i = 0; i < _v.length; i++) { 
		if(obj.qbf) {
			o = this._QBF(_v[i]);
		} else {
			o.flag = false;
			o.v1 = _v[i];
			o.v2 = '';
		}
		if(typeof data[field] != 'undefined') {
			if(data[field] != null) { 
				_d = data[field];
				if(obj.type == 'n') { 
					o.v1 = Number(o.v1);
					o.v2 = Number(o.v2);
					_d = Number(_d);
				} else if (obj.type == 'l') { 
					o.v1 = $u.s.toBool(o.v1);
					o.v2 = $u.s.toBool(o.v2);
					_d = $u.s.toBool(_d);
				} else if (obj.type == 'd') { 
					o.v1 = A5.stringToDate(o.v1,obj.dateFormat);
					o.v2 = A5.stringToDate(o.v2,obj.dateFormat);
					if(typeof _d == 'string') _d = A5.stringToDate(_d,obj.dateFormat);
					if(o.v1 != '' && o.v1 != null ) o.v1 = o.v1.getTime();
					if(o.v2 != '' && o.v2 != null ) o.v2 = o.v2.getTime();
					if(_d != '' && _d != null ) _d = _d.getTime();
				}
				if(flagC) {if(!obj.caseSensitive && typeof _d == 'string') _d = _d.toLowerCase();}
				if(o.flag) { 
					//has qbf operators
					if(o.op == 'between') {
						if(flagC) {
							if(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;
						} else { 
							if(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;
						}
					} else { 
						if(flagC) _d = _d.substr(0,o.v1.length)
						if(o.op == '>=') if( _d >= o.v1) flag = true;
						if(o.op == '<=') if( _d <= o.v1) flag = true;
						if(o.op == '>') if(_d > o.v1) flag = true;
						if(o.op == '<') if(_d < o.v1) flag = true;
					}
				} else { 
					if(obj.mode == 1 || obj.mode == -1 ) {
						if(obj.mode == 1) if(_d == o.v1) flag = true;; //match
						if(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match
					} else if (obj.mode == 2 || obj.mode == -2) { 
						if(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains
						if(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;
					} else if (obj.mode == 3 || obj.mode == -3) { 
						if(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with
						if(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with
					}
				}
			}
		}
	}
	return flag;
}
,
	_setSearchOps: function(obj,obj_i) { 
	obj.mode = obj_i.option;
	obj.qbf = obj_i.qbf;
	obj.type = obj_i.type;
	//obj.treatAs = obj_i.treatAs;
}
,
	_searchPartSubmit_clientSideFilter: function() { 
	if(!this._searchPartHas) return true;
	//_searchPartStyle: 'individualcontrols'
	if(this._searchPartStyle == 'singlekeywordcontrol') { 
		var searchFor = DLG1_DlgObj.getValue(this._keywordSearchControl);
		var arr = this._keywordSearchFields;
		var expn = [];
		var expn_i = '';
		var obj = {};
		//obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 1;
		obj.flagKeyword = true;
		var objStr = JSON.stringify(obj)
		for(var i = 0; i < arr.length; i++) { 
			expn_i = 'this._match(data,' +this._str(arr[i]) + ',' + this._str(searchFor) + ','+objStr+')';
			expn.push(expn_i);
		}
		expn = expn.join('||');
		//alert(expn);
	} else if ( this._searchPartStyle == 'individualcontrols' || this._searchPartStyle == 'querybyform'  ) { 
		var map = this._searchPart.fieldMap;
		var val = '';
		var expn = [];
		var expn_i = '';
		var obj = {};
		obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 2;
		//var objStr = JSON.stringify(obj)
		var ac = [];
		var aco = {};
		if(this._searchPartStyle == 'individualcontrols') {
			for(var i = 0; i < map.length; i++) { 
				val = DLG1_DlgObj.getValue(map[i].control);
				if(val != '') {
					obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
					this._setSearchOps(obj,obj_i);
					expn_i = 'this._match(data,' +this._str(map[i].field) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
					expn.push(expn_i);
				}
			}
		} else if (this._searchPartStyle == 'querybyform' ) { 
			var controlName = '';
			for(var i = 0; i < this._listFields.length; i++) { 
				controlName = this._getUXDetailViewControlName(this._listFields[i].name);
				if(controlName != '') {
					val = DLG1_DlgObj.getValue(controlName);
					if(val != '') {
						obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
						this._setSearchOps(obj,obj_i);
						expn_i = 'this._match(data,' +this._str(this._listFields[i].name) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
						expn.push(expn_i);
						aco.control = controlName;
						aco.value = val;
						ac.push(aco);
					}
				}
			}
			this.__queryByFormValues = ac;
			DLG1_DlgObj._setDVClean(this);
		}	
		expn = expn.join(' && ');
	} 
	//alert(expn);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = expn;
	}
	//user did not fill in any search fields
	if(expn == '') return true;
	var fnTxt = 'if(' + expn + ') {return true;} else { return false;}'
	var searchFunction = new Function('data',fnTxt);
	this.setFilter(searchFunction);
	if(this._rData.length > 0) this.setValue(0);
}
,
	_searchPartSubmit_clientSideFilterClear: function() { 
if(!this._searchPartHas) return true;
	this.setFilter(false);
	var map = this._searchPart.fieldMap;
	var val = '';
	var od = DLG1_DlgObj.originalValues[0];
	for(var i = 0; i < map.length; i++) {
		var val = od[map[i].control.toUpperCase()];
		if(typeof val != 'undefined') DLG1_DlgObj.setValue(map[i].control,val,false);
	}
	this.setFilter(false);
	delete this.__queryByFormValues;
	DLG1_DlgObj._setDVClean(this);
	if(this._data.length > 0) this.setValue(0);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = '';
	}
}
,
	detailViewIsDirty: function() { return false; },
	populateUXControls: function() { return true; },
	listIsDirty: function() { return false; },
	lookupValue: function(key,name,keyValue) {	var _d = this._data;
	var indx = A5FindPropInArray(_d,key,keyValue);
	var rv = '';
	if(indx >=0) {
		if(name == '__rowData__') return _d[indx];
		rv =  _d[indx][name];
	} else {
		//null out all properties in row
		var _d2 = {};
		if(typeof _d[0] == 'undefined') { return {}} ;
		for(var n in _d[0]) {
			_d2[n] = '&nbsp;';
		}
		rv = _d2;
	}
	return rv;
}
,
	allowNullSelection: false,
	refreshChildLists: function() {DLG1_DlgObj._listRefreshCascadingLists('LISTAITENS'); },
	rowExpander: function(rowNumber) { 
	var mode = typeof arguments[2] != 'undefined' ? arguments[2] : 'toggle';
	if(typeof rowNumber == 'undefined' || rowNumber == '' ) {
		rowNumber = this.selection[0];
		if(typeof rowNumber == 'undefined') return false;
	}
	var animObj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
	var ele = $(this._hostComponentId + '.' + this.listVariableName + '.ROWEXPANDER.' + rowNumber);
	if(ele) {
		if(mode == 'toggle') A5.u.element.toggle(ele,animObj);
		if(mode == 'show') A5.u.element.show(ele,animObj);
		if(mode == 'hide') A5.u.element.hide(ele,animObj);
	}
}
,
	afterClientSideSummaryCompute: function(csSummary) { },
	selectCurrentLayout: function(name) { 
var pl = this.layouts[name];
if(typeof pl == 'undefined') return false;
this.setLayout(name);
if(pl.type == 'column') {
	this.columnLayout.header.show = this.layouts[name].showColumnTitles; 
	this.refresh();
}
},
	onFilter: function() { 	var e = {}; 
	e.rowCount = this._values.length;  
	var ele = $('DLG1.__listId__.RECORDCOUNT'); 
	if(ele) {ele.innerHTML = e.rowCount;}; 
	if(this.persistToStorage) { this.persistToStorage({});} 
	(function(e) {   })(e);
}
,
	serverSideSort: function(column) {
var e = {};
e.column = column;
var result = this.systemEvents.beforeServerSideSort(e);
if(result == false) return false;
var obj = {};
obj.cmd = 'sort';
obj.column = column;
obj.layoutName = this.layout;
obj.listState = this._state;
var data = '_listId=LISTAITENS&' + A5.ajax.buildURLParam('_cmdObj',$u.o.toJSON(obj));
DLG1_DlgObj.ajaxCallback('','','system:listServerSideSort','',data);
},
	filterListClientSide: function(searchFor) {
//var result = this.systemEvents.beforeClientSideFilter();
//if(result == false) return false;
if(searchFor != '') {
	//fixes bug in Chrome when searching on dates strings that use forward slashes
	searchFor = searchFor.replace(/\//g,'\\/');
	this.setFilter({ItemID: RegExp('' + searchFor,'i'), ItemNome: RegExp('' + searchFor,'i'), ItemDescricao: RegExp('' + searchFor,'i'), ItemPreco: RegExp('' + searchFor,'i'), ItemPrecoPromocao: RegExp('' + searchFor,'i'), ItemEstaEmPromocao: RegExp('' + searchFor,'i'), ItemEstaAtivo: RegExp('' + searchFor,'i'), FotoDescricao: RegExp('' + searchFor,'i'), FotoPrincipal: RegExp('' + searchFor,'i'), CategoriaNome: RegExp('' + searchFor,'i'), CategoriaID: RegExp('' + searchFor,'i'), ItemCategoriaID: RegExp('' + searchFor,'i')});
} else this.setFilter(false);
var rowCount = this._values.length;
//var e = {};
//e.rowCount = rowCount;
//this.systemEvents.afterClientSideFilter(e);
var ele = $('DLG1.listaItens.RECORDCOUNT');
if(ele) ele.innerHTML = rowCount;
}
,
	scrollToClosestValue: function(val) { 	
	if(typeof val != 'string') val = val.join('');
	var flagCI = typeof arguments[1] != 'undefined' ? arguments[1] : false;
	var pos = typeof arguments[2] != 'undefined' ? arguments[2] : 'top';
	var anim = typeof arguments[3] != 'undefined' ? arguments[3] : {}
	var _d = this._rData;
	var len = val.length;
	var _d2;
	var i2 = -1;
	if(flagCI) val = val.toLowerCase();
	for(var i = 0 ; i < _d.length; i++) {
		i2 = i;
		_d2 = String(_d[i]['*value']);
		_d2 = _d2.substr(0,len);
		if(flagCI) _d2 = _d2.toLowerCase();
		if(val <= _d2){
			 break;
		}
	}
	if(i2 > -1) { 
		this.scrollToItem(i2,{mode: pos, animation: anim});
	}
}
,
	_refreshStateMessages: function() {
	var ele = '';
	ele = $('DLG1.LISTAITENS.PAGENUMBER');
	if(ele) ele.innerHTML = this._state.page;
	ele = $('DLG1.LISTAITENS.PAGECOUNT');
	if(ele) ele.innerHTML = this._state.pageCount;
	ele = $('DLG1.LISTAITENS.PAGECOUNT.PAGESELECTOR');
	if(ele) ele.innerHTML = this._state.pageCount;	
	ele = $('DLG1.LISTAITENS.LISTSTATE');
	if(ele) {
		var listState = $u.o.toJSON(this._state);
		ele.innerHTML = listState;
	}
	//navigation buttons			
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_NEXT.LISTAITENS'];
	if(ele) {
		if(this._state.page == this._state.pageCount) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_LAST.LISTAITENS'];
	if(ele) {
		if(this._state.page == this._state.pageCount) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_FIRST.LISTAITENS'];
	if(ele) {
		if(this._state.page == 1 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_PREV.LISTAITENS'];
	if(ele) {
		if(this._state.page == 1 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = $('DLG1.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LISTAITENS');
	if(ele) {
		var data = this._recordNavigatorLinks;
		if(data) A5.form.populateSelect(ele,this._state.page,data,true);
	}
}
,
	_functions: {
		button_btncomprar: function(rowNumber,data) {var listObj = DLG1_DlgObj.getControl('listaItens'); var data = listObj.getData(rowNumber); var index = rowNumber;
registraCompra();}
	},
	footer: {
		show: true,
		style: 'text-align: center; color: #f1f985; background-color: #000000; font-family: Arial; font-size: 10px;',
		html: '<div id="636edf47-8eb3-4de6-9400-b5b802d88756"></div>'
	},
	_getRoute: function() { 
	var obj  = typeof arguments[1] != 'undefined' ? arguments[1] : [];
	var mode = typeof arguments[0] != 'undefined' ? arguments[0] : 'rowNumber'; //
	if(typeof this.selection[0] == 'undefined') return false;
	if(typeof this.getData(this.selection[0]) == 'undefined') return false;
	if(mode == 'rowNumber') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])['*key']});
	else obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		lObj._getRoute(mode,obj);
	}
	return obj;
}
,
	_setRoute: function(route) { 
	if(typeof route == 'undefined') { 
		route = this.__currentRoute;
		if(typeof route == 'undefined') return false;
	}
	var lObj = '';
	var row = '';
	for(var i = 0; i < route.length; i++) {
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(route[i].list);
		row = route[i].row;
		var flag = typeof this._restoringList != 'undefined' ? !this._restoringList : true;
		if(typeof row != 'undefined') {
			var rowFixed = '';
			rowFixed = lObj._dataMap.indexOf(route[i].row);
			lObj.setValue(rowFixed,flag);
			if(this._clearServerSideErrors) this._clearServerSideErrors();
			if(this._showServerSideErrors) this._showServerSideErrors();
			if(this._showWriteConflictErrors) this._showWriteConflictErrors();
		}
	}
}
,
	_useServerSideSyncLog: false
};
DLG1_DlgObj._listViewSettings['LISTACARRINHOITEM'] = {
	_dataSourceType: 'SQL',
	_listFields: [
	{
		name: 'carrinhoID',
		defaultValue: 'return this._controlDefaultValueForListField(\'carrinhoID\');'
	},
	{
		name: 'carrItemID',
		defaultValue: 'return this._controlDefaultValueForListField(\'carrItemID\');'
	},
	{
		name: 'itemID',
		defaultValue: 'return this._controlDefaultValueForListField(\'itemID\');'
	},
	{
		name: 'carrItemQtd',
		defaultValue: 'return this._controlDefaultValueForListField(\'carrItemQtd\');'
	},
	{
		name: 'carrItemPrecoUnit',
		defaultValue: 'return this._controlDefaultValueForListField(\'carrItemPrecoUnit\');'
	}
],
	_searchPartHas: false,
	_dvmode: 'enter',
	_hasDetailView: true,
	_noRecordInListIsSelectedSettingForDetailView: 'none',
	_captureLocation: false,
	_detailViewHas: true,
	_submitLocationInfo: false,
	_detailView: {
		method: 'fieldMap',
		fieldMap: [
	{
		field: 'carrinhoID',
		control: 'carrinhoID_1'
	},
	{
		field: 'itemID',
		control: 'itemID'
	},
	{
		field: 'carrItemQtd',
		control: 'carrItemQtd'
	},
	{
		field: 'carrItemPrecoUnit',
		control: 'carrItemPrecoUnit'
	}
]
	},
	_detailViewGlobalErrorStyle: 'font-family: Arial; font-size: 10pt; color: red; border: solid 1px red; width: 100%;',
	_autoCommitDetailView: true,
	_synchBatchSize: 0,
	theme: 'iOS7',
	scroll: {
		axis: 'both',
		indicator: {
			show: true,
			h: {
				show: true,
				location: 'right',
				offset: '0px',
				left: '0px',
				right: '0px'
			},
			v: {
				show: true,
				location: 'right',
				offset: '0px',
				top: '0px',
				bottom: '0px'
			}
		},
		momentum: {
			allow: true
		},
		pull: {
			y: 'auto',
			x: 'auto'
		}
	},
	layout: 'Default',
	calculateValue: function(data) {  return '' +data.__primaryKey;},
	listVariableName: 'LISTACARRINHOITEM',
	listVariableNameTrueCase: 'listaCarrinhoItem',
	_hostComponentId: 'DLG1',
	_includeCRC: true,
	allParentLists: [],
	onBeforeItemDraw: function(data,index) {data.TotalItem = function(data,index)
	{
	var preco = $u.s.toNum(data.carrItemPrecoUnit);
	var qtd   = $u.s.toNum(data.carrItemQtd);
	return $u.n.toStr(preco*qtd);
	}(data,index);
var lobj = DLG1_DlgObj.getControl('listaItens');
if(lobj) {
	var lookupData = lobj.lookupValue(['ItemID'],'__rowData__',[data.itemID]);
	data.itemDetalhes = lookupData;
	this._data[this._dataMap[index]].itemDetalhes = lookupData;
}
;
;},
	__flagPersist: false,
	onBeforeUpdateRow: function(index,data){;},
	onUpdateRow: function(index,data){;},
	onBeforeAddRows: function(data,info){;},
	onAddRows: function(data,info){;},
	onBeforeRemoveRows: function(rows){;},
	onRemoveRows: function(rows){;},
	onListDraw: function(data,startIndex) {this.computeClientSideSummaryValues(); var cs = this.csSummary; if(this.afterClientSideSummaryCompute) {this.afterClientSideSummaryCompute(cs);}
if(A5.flags.isMobile) $e.add(this.contId+'.CONTENT','abstractdown',function(e) {$e.preventDefault(e);});},
	synchronizeImmediately: true,
	pushServerEditsToClient: false,
	customization: {
		dv: {
			clientSideErrorWarning: 'Cannot save because there are validation errors.',
			dirtyDetailViewRecord: {
				title: 'Warning',
				icon: 'cssIcon=iOS7Icon iOS7IconHelp',
				message: 'You must first save or undo the changes you have made to the List\'s Detail View.'
			},
			confirmFormResetWarning: {
				title: 'Warning',
				icon: 'cssIcon=iOS7Icon iOS7IconHelp',
				message: 'Are you sure you want to undo changes made to the List\'s Detail View?'
			},
			confirmRowResetWarning: {
				title: 'Warning',
				icon: 'cssIcon=iOS7Icon iOS7IconHelp',
				message: 'Are you sure you want to undo changes made to this record?'
			},
			confirmDeleteWarning: {
				title: 'Aviso',
				icon: 'cssIcon=iOS7Icon iOS7IconHelp',
				message: 'Deseja excluir este item?'
			},
			writeConflict: {
				useMineMessage: 'Use mine (\'{myvalue}\')',
				useTheirsMessage: 'Use theirs (\'{theirvalue}\')',
				useMineAll: 'Use mine for all fields',
				useTheirsAll: 'Use theirs for all fields'
			},
			databaseError: {
				update: 'Record was not updated.|More...|Less',
				insert: 'Record was not inserted.|More...|Less',
				delete: 'Record was not deleted.|More...|Less'
			},
			useCustomClasses: false,
			setClassonEditedRows: true,
			css: {
			}
		}
	},
	onItemDraw: function(ele,data,index) {$e.add('DLG1.LISTACARRINHOITEM.BTNDELETEITEM.BTN.'+arguments[2]+'',A5.d.evnts.click,Function('setTimeout(function() { DLG1_DlgObj.getControl(\'LISTACARRINHOITEM\')._functions.button_btndeleteitem('+arguments[2]+');},1);'));
$e.add('DLG1.LISTACARRINHOITEM.BTNMOREONE.BTN.'+arguments[2]+'',A5.d.evnts.click,Function('setTimeout(function() { DLG1_DlgObj.getControl(\'LISTACARRINHOITEM\')._functions.button_btnmoreone('+arguments[2]+');},1);'));
$e.add('DLG1.LISTACARRINHOITEM.BTNLESSONE.BTN.'+arguments[2]+'',A5.d.evnts.click,Function('setTimeout(function() { DLG1_DlgObj.getControl(\'LISTACARRINHOITEM\')._functions.button_btnlessone('+arguments[2]+');},1);'));
	var _dirtyRowClassName = '_DLG1_LISTACARRINHOITEM_dirtyRow';
	var _dirtyRowClassNameInherited = '_DLG1_LISTACARRINHOITEM_dirtyRowInherited';
	var _dirtyRowStyle = '_DLG1_LISTACARRINHOITEM_dirtyRowStyle';
	var _errorRowClassName = '_DLG1_LISTACARRINHOITEM_hasError';
	var _errorRowClassNameInherited = '_DLG1_LISTACARRINHOITEM_hasErrorInherited';
	var _errorRowStyle = '_DLG1_LISTACARRINHOITEM_hasErrorStyle';
	var _newRowClassName = '_DLG1_LISTACARRINHOITEM_newRow';
	var _newRowStyle = '_DLG1_LISTACARRINHOITEM_newRowStyle';
	var _deletedRowClassName = '_DLG1_LISTACARRINHOITEM_deletedRow';
	var _deletedRowStyle = '_DLG1_LISTACARRINHOITEM_deletedRowStyle';
	var _deletedRowClassNameInherited = '_DLG1_LISTACARRINHOITEM_deletedRowInherited';
	var __d = this._rData[index];
	$rcn(ele,_dirtyRowClassName);
	$rcn(ele,_dirtyRowClassNameInherited);
	$rcn(ele,_dirtyRowStyle);
	$rcn(ele,_errorRowClassName);
	$rcn(ele,_errorRowClassNameInherited);
	$rcn(ele,_errorRowStyle);
	$rcn(ele,_newRowClassName);
	$rcn(ele,_newRowStyle);
	$rcn(ele,_deletedRowClassName);
	$rcn(ele,_deletedRowStyle);
	if(data._isDirty && typeof data._isDeleted != 'undefined' && data._isDeleted) { 
		$acn(ele,_deletedRowClassName);
		$acn(ele,_deletedRowStyle);
		__d.__displayStyle = 'deletedRow';
	} else if (data._isDirty && typeof data._oldData != 'undefined' && !data._isNewRow ) { 
		$acn(ele,_dirtyRowClassName);
		$acn(ele,_dirtyRowStyle);
		__d.__displayStyle = 'dirtyRow';
	} 
	if(data._isDirty && typeof data._oldData == 'undefined' && !data._isNewRow ) { 
		$acn(ele,_dirtyRowClassNameInherited);
		$acn(ele,_dirtyRowStyle);
		__d.__displayStyle = 'dirtyRowInherited';
	} 
	if(data._isNewRow) { 
		$acn(ele,_newRowClassName);
		$acn(ele,_newRowStyle);
		__d.__displayStyle = 'newRow';
	} 
	var flagHasGlobalErrors = false;
	if(typeof data._globalErrors != 'undefined') {
		if( data._globalErrors != '')  flagHasGlobalErrors = true;
	}
	var flagHasWriteConflictErrors = false;
	if(typeof data._hasWriteConflictErrors) flagHasWriteConflictErrors = data._hasWriteConflictErrors
	if(data._hasServerSideError || flagHasGlobalErrors || flagHasWriteConflictErrors) {
		$acn(ele,_errorRowClassName);
		$acn(ele,_errorRowStyle);
		__d.__displayStyle = 'errorRow';
	} else { 
		if(data._flagServerSideErrorInChild || data._flagWriteConflictErrorInChild || data._flagGlobalErrorInChild ){
			 $acn(ele,_errorRowClassNameInherited);
			 __d.__displayStyle = 'errorRowInherited';
		}
	}},
	childLists: [],
	_populateAllChildLists: function() { },
	onSelect: function() {  this.populateUXControls();
this._selectedRow = this.selection[0];
},
	onBeforeSelect: function() {
	var c = this.childLists;
	var lObj = '';
	if(typeof c != 'undefined') { 
		for(var i = 0; i < c.length; i++) {
			lObj = DLG1_DlgObj.getControl(c[i]);
			if(lObj) {
				var flag = lObj.onBeforeSelect();
				if(typeof flag != 'undefined') { 
					if(!flag) return false;
				}
			}
		}
	}
	if(this._dvmode == 'search') return true;
	if(!this._autoCommitDetailView) { 
		return this._showDirtyDetailViewWarning(); 
	} else { 
		if(this.detailViewIsDirty(true)) { 
			var result =  this.updateListFromUXControls();  
			return result;
		}
	}},
	onClick: function() {
DLG1_DlgObj._listSystemOnClick('LISTACARRINHOITEM',this.selection[0]);},
	layouts: {
		Default: {
			type: 'template',
			item: {
			},
			template: [
				'\t<div style="display: table-cell;">',
				'\t\t<div class="iOS7ListItemLabelMain">',
				'\t\t\t{itemDetalhes.ItemNome}',
				'\t\t</div>',
				'\t</div>',
				'<div style="display: table; width: 100%;">',
				'',
				'\t<div style="display: table-cell;">',
				'\t\t<div class="iOS7ListItemLabelSub"> <b>Unidade: R$</b> {carrItemPrecoUnit:number(\'# ##0,00\')}</div>',
				'\t\t<div class="iOS7ListItemLabelSub">',
				'\t\t\t<b>Total:   R$</b> {TotalItem:number(\'# ##0,00\')}<br/>',
				'\t\t\t',
				'\t\t</div>',
				'\t</div>',
				'\t<div style="display: table-cell; width: 100px; text-align: center; vertical-align: middle;">',
				'\t\t<div class="iOS7ListItemLabelContext"><span id="DLG1.LISTACARRINHOITEM.BTNLESSONE.I.{*dataRow}"><button id="DLG1.LISTACARRINHOITEM.BTNLESSONE.BTN.{*dataRow}"  class="btnCarrinho" style="cursor:pointer;" title=""><i class="fa fa-minus"  style="font-size: 16px"></i></button></span> <span id="DLG1.LISTACARRINHOITEM.CARRITEMQTD.I.{*dataRow}">{carrItemQtd}</span> <span id="DLG1.LISTACARRINHOITEM.BTNMOREONE.I.{*dataRow}"><button id="DLG1.LISTACARRINHOITEM.BTNMOREONE.BTN.{*dataRow}"  class="btnCarrinho" style="cursor:pointer;" title=""><i class="fa fa-plus"  style="font-size: 16px"></i></button></span></div>',
				'\t</div>',
				'\t<div style="display: table-cell; width: 30px; text-align: center; vertical-align: middle;">',
				'\t\t<div class="iOS7ListItemLabelContext"><span id="DLG1.LISTACARRINHOITEM.BTNDELETEITEM.I.{*dataRow}"><button id="DLG1.LISTACARRINHOITEM.BTNDELETEITEM.BTN.{*dataRow}"  class="btnTrash" style="cursor:pointer;" title=""><i class="fa fa-trash-o"  style="font-size: 18px;"></i></button></span></div>',
				'\t</div>',
				'\t\t',
				'</div>'			
]
		}
	},
	content: {
		header: {
			show: false
		},
		footer: {
			show: false
		}
	},
	systemEvents: {
		onTap: function(e) {},
		afterAjaxCallback: function(e) {},
		afterClientSideFilter: function(e) {},
		beforeServerSideSort: function(e) {},
		afterServerSideSort: function(e) {},
		onSwipe: function(e) {},
		onScroll: function(e) {},
		onPullRelease: function(e) {},
		onPull: function(e) {},
		onPullEnd: function(e) {},
		afterSearchComplete: function(e) {},
		beforeSearch: function(e) {},
		onSearchResultTooLarge: function(e) {},
		onSearchResultTooLargeForLocalStorage: function(e) {},
		onBeforePersistToLocalStorage: function(e) {},
		onPersistToLocalStorage: function(e) {},
		onRestoreFromLocalStorage: function(e) {},
		afterRenderComplete: function(e) {},
		beforeFetchMore: function(e) {},
		afterFetchMore: function(e) {},
		beforePageNavigate: function(e) {},
		afterPageNavigate: function(e) {},
		beforeRefreshRow: function(e) {},
		afterRefreshRow: function(e) {},
		afterServerSideSummaryCompute: function(e) {},
		detailView: {
			canUpdateList: function(e) {},
			hasClientSideValidationErrors: function(e) {},
			afterUpdateList: function(e) {var carrinho = calcTotalCarrinho();
var ele = $("footerCarrinho");
debugger;
if( carrinho.itens > 0 )
	ele.innerHTML = ' <b>Carrinho:</b> '+$u.n.toStr(carrinho.itens,0)+' itens, R$ '+$u.n.toStr(carrinho.total,2).replace(/\D/g,",")+' ';
else
	ele.innerHTML = ' <b>Carrinho vazio.</b> ';},
			canSynchronizeList: function(e) {},
			afterSynchronizeListBatch: function(e) {},
			canCancelBatch: function(e) {},
			afterCancelBatch: function(e) {},
			afterSynchronizeList: function(e) {var carrinho = calcTotalCarrinho();
var ele = $("footerCarrinho");
debugger;
if( carrinho.itens > 0 )
	ele.innerHTML = ' <b>Carrinho:</b> '+$u.n.toStr(carrinho.itens,0)+' itens, R$ '+$u.n.toStr(carrinho.total,2).replace(/\D/g,",")+' ';
else
	ele.innerHTML = ' <b>Carrinho vazio.</b> ';
updateCarrinhoCardapio();},
			beforeSynchronizeListBatchStart: function(e) {},
			afterSynchronizeListBatchEnd: function(e) {},
			afterRefreshListIncremental: function(e) {},
			canResetRow: function(e) {},
			canDeleteRow: function(e) {},
			canUndoEdits: function(e) {},
			afterResetRow: function(e) {},
			afterDeleteRow: function(e) {},
			afterUndoEdits: function(e) {},
			canNewRecord: function(e) {},
			afterNewRecord: function(e) {},
			afterDetailViewPopulate: function(e) {},
			afterListRowSelectCancelled: function(e) {},
			modeChanged: function(e) {}
		},
		_afterAjaxCallback: function() {this._refreshStateMessages();}
	},
	_clientsideSummary: ['carrItemQtd'],
	computeClientSideSummaryValues: function(e) {var l = this._clientsideSummary;
var d = this._rData;
this.csSummary = {};
for(var i = 0; i < l.length; i++) {
	this.csSummary[l[i]] = {};
	this.csSummary[l[i]].total = 0;
	this.csSummary[l[i]].count = 0;
	this.csSummary[l[i]].avg = 0;
	this.csSummary[l[i]].minC = 'zzzzzzzzzzzzzzzzzzzz';
	this.csSummary[l[i]].minN = 999999999999999999999;
	this.csSummary[l[i]].maxC = '';
	this.csSummary[l[i]].maxN = -99999999999999999999;
}
var n = '';
var c = '';
var t = ''
for(var r = 0; r < d.length; r++) {
	for(var i = 0; i < l.length; i++) { 
		if(typeof d[r][l[i]] != 'undefined') {
			c = d[r][l[i]];
			n = Number(c);
			t = 'n';
			if(isNaN(n)) t = 'c';
			if(t == 'n') { 
				this.csSummary[l[i]].total = this.csSummary[l[i]].total + n;
				this.csSummary[l[i]].count = this.csSummary[l[i]].count + 1;
				this.csSummary[l[i]].avg = this.csSummary[l[i]].total / this.csSummary[l[i]].count
				if(n > this.csSummary[l[i]].maxN) this.csSummary[l[i]].maxN = n;
				if(n < this.csSummary[l[i]].minN) this.csSummary[l[i]].minN = n;
				this.csSummary[l[i]].max =  this.csSummary[l[i]].maxN
				this.csSummary[l[i]].min =  this.csSummary[l[i]].minN
			} else { 
				this.csSummary[l[i]].total = '';
				this.csSummary[l[i]].count = this.csSummary[l[i]].count + 1;
				this.csSummary[l[i]].avg = '';
				if(c > this.csSummary[l[i]].maxC) this.csSummary[l[i]].maxC = c;
				if(c < this.csSummary[l[i]].minC) this.csSummary[l[i]].minC = c;
				this.csSummary[l[i]].max =  this.csSummary[l[i]].maxC
				this.csSummary[l[i]].min =  this.csSummary[l[i]].minC
			}
		}
	}
}
for(var i = 0; i < l.length; i++) {
	delete this.csSummary[l[i]].minC;
	delete this.csSummary[l[i]].minN;
	delete this.csSummary[l[i]].maxC;
	delete this.csSummary[l[i]].maxN;
	if(l[i] != l[i].toUpperCase()) {
		this.csSummary[l[i].toUpperCase()] = {};
		for(var pn in this.csSummary[l[i]]) { 
			//need uppercase fieldname in the csSummary object
			this.csSummary[l[i].toUpperCase()][pn] = this.csSummary[l[i]][pn];
		}
	}
}
},
	_executeEvent: function(event,obj) { 
	return DLG1_DlgObj._list_executeEvent('LISTACARRINHOITEM',event,obj);
}
,
	searchList: function() { 
	if(this._searchPartStyle == 'querybyform') { 
		if(this._dvmode != 'search') return false;
	}
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else {
			if(this._dataSourceType.toLowerCase() == 'sql') {
				mode = 'serverside';
			} else { 
				mode = 'clientside';
			}
		}
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'search', searchWhere: mode, listIsDirty: flagDirty});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._searchListServerSide(obj);
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilter();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'search', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_searchListServerSide: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var _d={};
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	if(flagDirty) { 
		alert('Can\'t execute server-side search because List has edits that have not yet been synchronized.');
		return false;
	}
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	_data = _data + '&' + A5.ajax.buildURLParam('__searchOptions',JSON.stringify(obj));
	this.filter = false;
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPart','',_data);
}
,
	clearSearchList: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else mode = 'serverside';
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'clear', searchWhere: mode});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._clearSearchListServerSide();
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilterClear();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'clear', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_clearSearchListServerSide: function() { 
	var _d={};
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPartClear','',_data);
}
,
	_str: function(txt) {
	txt = txt.replace("'","\\'");
	txt = '\'' + txt + '\'';
	return txt;
}
,
	_QBF: function(txt) { 
	var o = {};
	o.v2 = '';
	o.v1 = txt;
	o.flag = false;
	if(txt.indexOf('>=') >= 0) {
		o.op = '>=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('<=') >= 0 ) { 
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('>') >= 0 ) {
		o.op = '>';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('<') >= 0)  { 
		o.op = '<';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('..') == 0)  {
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if ( txt.indexOf('..', txt.length - '..'.length) !== -1 ) { 
		//ends with ..
		o.op = '>=';
		txt = txt.split('..')
		o.v1 = txt[0];
		o.flag = true;
	} else if (txt.indexOf('..') > 0 ) {
		o.op = 'between'
		txt = txt.split('..');
		o.v1 = txt[0];
		o.v2 = txt[1];
		o.flag = true;
	}
	return o;
}
,
	_match: function(data,field,val,obj) { 
	var flagKeyword = false;
	if(typeof obj.flagKeyword != 'undefined') flagKeyword = obj.flagKeyword;
	if(flagKeyword) { 
		var obj_i = this._searchFieldOptions[field.toUpperCase()];
		this._setSearchOps(obj,obj_i);
	}
	var _d = '';
	var _v = val;
	var flagC = false;
	if(obj.type == 'c') {
		flagC = true;
		if(!obj.caseSensitive) _v = _v.toLowerCase();
	} else { 
		//non mumeric searches are only mode 1 or -1
		if(obj.mode > 1) obj.mode = 1;
		if(obj.mode < -1) obj.mode = -1;
	}
	var flag = false;
	obj.usesQBFOperator = false;
	if(obj.qbf) { 
		_v = _v.split(',');
	} else {
		_v = [_v];
	}
	var o = {}
	var r = '';
	for(var i = 0; i < _v.length; i++) { 
		if(obj.qbf) {
			o = this._QBF(_v[i]);
		} else {
			o.flag = false;
			o.v1 = _v[i];
			o.v2 = '';
		}
		if(typeof data[field] != 'undefined') {
			if(data[field] != null) { 
				_d = data[field];
				if(obj.type == 'n') { 
					o.v1 = Number(o.v1);
					o.v2 = Number(o.v2);
					_d = Number(_d);
				} else if (obj.type == 'l') { 
					o.v1 = $u.s.toBool(o.v1);
					o.v2 = $u.s.toBool(o.v2);
					_d = $u.s.toBool(_d);
				} else if (obj.type == 'd') { 
					o.v1 = A5.stringToDate(o.v1,obj.dateFormat);
					o.v2 = A5.stringToDate(o.v2,obj.dateFormat);
					if(typeof _d == 'string') _d = A5.stringToDate(_d,obj.dateFormat);
					if(o.v1 != '' && o.v1 != null ) o.v1 = o.v1.getTime();
					if(o.v2 != '' && o.v2 != null ) o.v2 = o.v2.getTime();
					if(_d != '' && _d != null ) _d = _d.getTime();
				}
				if(flagC) {if(!obj.caseSensitive && typeof _d == 'string') _d = _d.toLowerCase();}
				if(o.flag) { 
					//has qbf operators
					if(o.op == 'between') {
						if(flagC) {
							if(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;
						} else { 
							if(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;
						}
					} else { 
						if(flagC) _d = _d.substr(0,o.v1.length)
						if(o.op == '>=') if( _d >= o.v1) flag = true;
						if(o.op == '<=') if( _d <= o.v1) flag = true;
						if(o.op == '>') if(_d > o.v1) flag = true;
						if(o.op == '<') if(_d < o.v1) flag = true;
					}
				} else { 
					if(obj.mode == 1 || obj.mode == -1 ) {
						if(obj.mode == 1) if(_d == o.v1) flag = true;; //match
						if(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match
					} else if (obj.mode == 2 || obj.mode == -2) { 
						if(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains
						if(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;
					} else if (obj.mode == 3 || obj.mode == -3) { 
						if(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with
						if(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with
					}
				}
			}
		}
	}
	return flag;
}
,
	_setSearchOps: function(obj,obj_i) { 
	obj.mode = obj_i.option;
	obj.qbf = obj_i.qbf;
	obj.type = obj_i.type;
	//obj.treatAs = obj_i.treatAs;
}
,
	_searchPartSubmit_clientSideFilter: function() { 
	if(!this._searchPartHas) return true;
	//_searchPartStyle: 'individualcontrols'
	if(this._searchPartStyle == 'singlekeywordcontrol') { 
		var searchFor = DLG1_DlgObj.getValue(this._keywordSearchControl);
		var arr = this._keywordSearchFields;
		var expn = [];
		var expn_i = '';
		var obj = {};
		//obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 1;
		obj.flagKeyword = true;
		var objStr = JSON.stringify(obj)
		for(var i = 0; i < arr.length; i++) { 
			expn_i = 'this._match(data,' +this._str(arr[i]) + ',' + this._str(searchFor) + ','+objStr+')';
			expn.push(expn_i);
		}
		expn = expn.join('||');
		//alert(expn);
	} else if ( this._searchPartStyle == 'individualcontrols' || this._searchPartStyle == 'querybyform'  ) { 
		var map = this._searchPart.fieldMap;
		var val = '';
		var expn = [];
		var expn_i = '';
		var obj = {};
		obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 2;
		//var objStr = JSON.stringify(obj)
		var ac = [];
		var aco = {};
		if(this._searchPartStyle == 'individualcontrols') {
			for(var i = 0; i < map.length; i++) { 
				val = DLG1_DlgObj.getValue(map[i].control);
				if(val != '') {
					obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
					this._setSearchOps(obj,obj_i);
					expn_i = 'this._match(data,' +this._str(map[i].field) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
					expn.push(expn_i);
				}
			}
		} else if (this._searchPartStyle == 'querybyform' ) { 
			var controlName = '';
			for(var i = 0; i < this._listFields.length; i++) { 
				controlName = this._getUXDetailViewControlName(this._listFields[i].name);
				if(controlName != '') {
					val = DLG1_DlgObj.getValue(controlName);
					if(val != '') {
						obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
						this._setSearchOps(obj,obj_i);
						expn_i = 'this._match(data,' +this._str(this._listFields[i].name) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
						expn.push(expn_i);
						aco.control = controlName;
						aco.value = val;
						ac.push(aco);
					}
				}
			}
			this.__queryByFormValues = ac;
			DLG1_DlgObj._setDVClean(this);
		}	
		expn = expn.join(' && ');
	} 
	//alert(expn);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = expn;
	}
	//user did not fill in any search fields
	if(expn == '') return true;
	var fnTxt = 'if(' + expn + ') {return true;} else { return false;}'
	var searchFunction = new Function('data',fnTxt);
	this.setFilter(searchFunction);
	if(this._rData.length > 0) this.setValue(0);
}
,
	_searchPartSubmit_clientSideFilterClear: function() { 
if(!this._searchPartHas) return true;
	this.setFilter(false);
	var map = this._searchPart.fieldMap;
	var val = '';
	var od = DLG1_DlgObj.originalValues[0];
	for(var i = 0; i < map.length; i++) {
		var val = od[map[i].control.toUpperCase()];
		if(typeof val != 'undefined') DLG1_DlgObj.setValue(map[i].control,val,false);
	}
	this.setFilter(false);
	delete this.__queryByFormValues;
	DLG1_DlgObj._setDVClean(this);
	if(this._data.length > 0) this.setValue(0);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = '';
	}
}
,
	_debugListData: function() { 		var debugObj = this._data[this.selection[0]];
		if(typeof debugObj == 'undefined') {alert('no active row'); return false;}
			var debugTxt = JSON.stringify(debugObj,'','\t'); 
		debugTxt = debugTxt.split('\t').join('    '); 
		var ele = $('DLG1.V.R1.LISTACARRINHOITEM_DEBUGINFO'); 
		if(ele) {
			ele.innerHTML = '<div style="color: blue;width: 100%; height: 100%;white-space: pre;border: solid 1px blue; padding: 2px;"></div>';
			ele.firstChild.innerText = debugTxt; 
			if(ele.firstChild.innerHTML == '')  { ele.firstChild.innerHTML = debugTxt }      
		}
},
	_refreshDebugInfo: function() {var debugObj = this.harvestList();
		var debugTxt = JSON.stringify(debugObj,'','\t'); 
		debugTxt = debugTxt.split('\t').join('    '); 
		var ele = $('DLG1.V.R1.LISTACARRINHOITEM_DEBUGINFO'); 
		if(ele) {
			ele.innerHTML = '<div style="color: blue;width: 100%; height: 100%;white-space: pre;border: solid 1px blue; padding: 2px;"></div>';
			ele.firstChild.innerText = debugTxt; 
			if(ele.firstChild.innerHTML == '')  { ele.firstChild.innerHTML = debugTxt }      
		}
	},
	_showSQL_CRUD: function(txt) { var ahtml= [];ahtml.push('<a \tclass="iOS7Link"');
ahtml.push('href="#"');
ahtml.push('onclick="A5.u.element.toggle($(\'DLG1.LISTACARRINHOITEM.DISPLAYXBASIC\'),{show: {type: \'slide\',duration: \'fast\'},hide: {type: \'slide\',duration: \'fast\'}} )">');
ahtml.push('Click here to show/hide Server-side commands');
ahtml.push('</a><br>');
ahtml.push('<div id="DLG1.LISTACARRINHOITEM.DISPLAYXBASIC" style="display:none;"></div>');
ahtml.push('');
var txtHTML = ahtml.join('');			var ele = $('DLG1.V.R1.LISTACARRINHOITEM_DEBUGINFO'); if(ele) ele.innerHTML = txtHTML;
			$('DLG1.LISTACARRINHOITEM.DISPLAYXBASIC').innerHTML = txt;
},
	_globalErrorPlaceHolder: 'LISTACARRINHOITEM_GLOBALERRORS',
	lookupValue: function(key,name,keyValue) {	var _d = this._data;
	var indx = A5FindPropInArray(_d,key,keyValue);
	var rv = '';
	if(indx >=0) {
		if(name == '__rowData__') return _d[indx];
		rv =  _d[indx][name];
	} else {
		//null out all properties in row
		var _d2 = {};
		if(typeof _d[0] == 'undefined') { return {}} ;
		for(var n in _d[0]) {
			_d2[n] = '&nbsp;';
		}
		rv = _d2;
	}
	return rv;
}
,
	allowNullSelection: true,
	refreshChildLists: function() {DLG1_DlgObj._listRefreshCascadingLists('LISTACARRINHOITEM'); },
	rowExpander: function(rowNumber) { 
	var mode = typeof arguments[2] != 'undefined' ? arguments[2] : 'toggle';
	if(typeof rowNumber == 'undefined' || rowNumber == '' ) {
		rowNumber = this.selection[0];
		if(typeof rowNumber == 'undefined') return false;
	}
	var animObj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
	var ele = $(this._hostComponentId + '.' + this.listVariableName + '.ROWEXPANDER.' + rowNumber);
	if(ele) {
		if(mode == 'toggle') A5.u.element.toggle(ele,animObj);
		if(mode == 'show') A5.u.element.show(ele,animObj);
		if(mode == 'hide') A5.u.element.hide(ele,animObj);
	}
}
,
	afterClientSideSummaryCompute: function(csSummary) { },
	selectCurrentLayout: function(name) { 
var pl = this.layouts[name];
if(typeof pl == 'undefined') return false;
this.setLayout(name);
if(pl.type == 'column') {
	this.columnLayout.header.show = this.layouts[name].showColumnTitles; 
	this.refresh();
}
},
	onFilter: function() { 	var e = {}; 
	e.rowCount = this._values.length;  
	var ele = $('DLG1.__listId__.RECORDCOUNT'); 
	if(ele) {ele.innerHTML = e.rowCount;}; 
	if(this.persistToStorage) { this.persistToStorage({});} 
	(function(e) {   })(e);
}
,
	serverSideSort: function(column) {
var e = {};
e.column = column;
var result = this.systemEvents.beforeServerSideSort(e);
if(result == false) return false;
var obj = {};
obj.cmd = 'sort';
obj.column = column;
obj.layoutName = this.layout;
obj.listState = this._state;
var data = '_listId=LISTACARRINHOITEM&' + A5.ajax.buildURLParam('_cmdObj',$u.o.toJSON(obj));
DLG1_DlgObj.ajaxCallback('','','system:listServerSideSort','',data);
},
	filterListClientSide: function(searchFor) {
//var result = this.systemEvents.beforeClientSideFilter();
//if(result == false) return false;
if(searchFor != '') {
	//fixes bug in Chrome when searching on dates strings that use forward slashes
	searchFor = searchFor.replace(/\//g,'\\/');
	this.setFilter({carrinhoID: RegExp('' + searchFor,'i'), carrItemID: RegExp('' + searchFor,'i'), itemID: RegExp('' + searchFor,'i'), carrItemQtd: RegExp('' + searchFor,'i'), carrItemPrecoUnit: RegExp('' + searchFor,'i')});
} else this.setFilter(false);
var rowCount = this._values.length;
//var e = {};
//e.rowCount = rowCount;
//this.systemEvents.afterClientSideFilter(e);
var ele = $('DLG1.listaCarrinhoItem.RECORDCOUNT');
if(ele) ele.innerHTML = rowCount;
}
,
	scrollToClosestValue: function(val) { 	
	if(typeof val != 'string') val = val.join('');
	var flagCI = typeof arguments[1] != 'undefined' ? arguments[1] : false;
	var pos = typeof arguments[2] != 'undefined' ? arguments[2] : 'top';
	var anim = typeof arguments[3] != 'undefined' ? arguments[3] : {}
	var _d = this._rData;
	var len = val.length;
	var _d2;
	var i2 = -1;
	if(flagCI) val = val.toLowerCase();
	for(var i = 0 ; i < _d.length; i++) {
		i2 = i;
		_d2 = String(_d[i]['*value']);
		_d2 = _d2.substr(0,len);
		if(flagCI) _d2 = _d2.toLowerCase();
		if(val <= _d2){
			 break;
		}
	}
	if(i2 > -1) { 
		this.scrollToItem(i2,{mode: pos, animation: anim});
	}
}
,
	_refreshStateMessages: function() {
	var ele = '';
	ele = $('DLG1.LISTACARRINHOITEM.PAGENUMBER');
	if(ele) ele.innerHTML = this._state.page;
	ele = $('DLG1.LISTACARRINHOITEM.PAGECOUNT');
	if(ele) ele.innerHTML = this._state.pageCount;
	ele = $('DLG1.LISTACARRINHOITEM.PAGECOUNT.PAGESELECTOR');
	if(ele) ele.innerHTML = this._state.pageCount;	
	ele = $('DLG1.LISTACARRINHOITEM.LISTSTATE');
	if(ele) {
		var listState = $u.o.toJSON(this._state);
		ele.innerHTML = listState;
	}
	//navigation buttons			
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_NEXT.LISTACARRINHOITEM'];
	if(ele) {
		if(this._state.page == this._state.pageCount) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_LAST.LISTACARRINHOITEM'];
	if(ele) {
		if(this._state.page == this._state.pageCount) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_FIRST.LISTACARRINHOITEM'];
	if(ele) {
		if(this._state.page == 1 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_PREV.LISTACARRINHOITEM'];
	if(ele) {
		if(this._state.page == 1 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = $('DLG1.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LISTACARRINHOITEM');
	if(ele) {
		var data = this._recordNavigatorLinks;
		if(data) A5.form.populateSelect(ele,this._state.page,data,true);
	}
}
,
	_functions: {
		button_btndeleteitem: function(rowNumber,data) {var listObj = DLG1_DlgObj.getControl('listaCarrinhoItem'); var data = listObj.getData(rowNumber); var index = rowNumber;
var item = DLG1_DlgObj.getControl('listaCarrinhoItem');
item.deleteRow();},
		button_btnmoreone: function(rowNumber,data) {var listObj = DLG1_DlgObj.getControl('listaCarrinhoItem'); var data = listObj.getData(rowNumber); var index = rowNumber;
itens = DLG1_DlgObj.getControl('listaCarrinhoItem');
var itemQtd = $u.s.toNum(DLG1_DlgObj.getValue('carrItemQtd'));
itemQtd++;	
var sQtd = $u.n.toStr(itemQtd);
DLG1_DlgObj.setValue('carrItemQtd', sQtd);
itens.updateListFromUXControls();
updateCarrinhoCardapio();},
		button_btnlessone: function(rowNumber,data) {var listObj = DLG1_DlgObj.getControl('listaCarrinhoItem'); var data = listObj.getData(rowNumber); var index = rowNumber;
itens = DLG1_DlgObj.getControl('listaCarrinhoItem');
var itemQtd = $u.s.toNum(DLG1_DlgObj.getValue('carrItemQtd'));
if( itemQtd > 0 ) 
	{
	itemQtd--;	
	var sQtd = $u.n.toStr(itemQtd);
	DLG1_DlgObj.setValue('carrItemQtd', sQtd);
	itens.updateListFromUXControls();
	updateCarrinhoCardapio()
	}}
	},
	footer: {
		show: true,
		html: '<div id="efc09a5d-307f-455f-9cb1-0efae4571120"></div>'
	},
	_getRoute: function() { 
	var obj  = typeof arguments[1] != 'undefined' ? arguments[1] : [];
	var mode = typeof arguments[0] != 'undefined' ? arguments[0] : 'rowNumber'; //
	if(typeof this.selection[0] == 'undefined') return false;
	if(typeof this.getData(this.selection[0]) == 'undefined') return false;
	if(mode == 'rowNumber') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])['*key']});
	else obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		lObj._getRoute(mode,obj);
	}
	return obj;
}
,
	_setRoute: function(route) { 
	if(typeof route == 'undefined') { 
		route = this.__currentRoute;
		if(typeof route == 'undefined') return false;
	}
	var lObj = '';
	var row = '';
	for(var i = 0; i < route.length; i++) {
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(route[i].list);
		row = route[i].row;
		var flag = typeof this._restoringList != 'undefined' ? !this._restoringList : true;
		if(typeof row != 'undefined') {
			var rowFixed = '';
			rowFixed = lObj._dataMap.indexOf(route[i].row);
			lObj.setValue(rowFixed,flag);
			if(this._clearServerSideErrors) this._clearServerSideErrors();
			if(this._showServerSideErrors) this._showServerSideErrors();
			if(this._showWriteConflictErrors) this._showWriteConflictErrors();
		}
	}
}
,
	_useServerSideSyncLog: false
};
DLG1_DlgObj._listViewSettings['LISTARESERVAS'] = {
	_dataSourceType: 'SQL',
	_listFields: [
	{
		name: 'ReservaID',
		defaultValue: 'return this._controlDefaultValueForListField(\'ReservaID\');'
	},
	{
		name: 'ClienteID',
		defaultValue: 'return this._controlDefaultValueForListField(\'ClienteID\');'
	},
	{
		name: 'EmpresaID',
		defaultValue: 'return this._controlDefaultValueForListField(\'EmpresaID\');'
	},
	{
		name: 'ReservaPessoas',
		defaultValue: 'return this._controlDefaultValueForListField(\'ReservaPessoas\');'
	},
	{
		name: 'ReservaConfirmada',
		defaultValue: 'return this._controlDefaultValueForListField(\'ReservaConfirmada\');'
	},
	{
		name: 'ReservaDataHora',
		defaultValue: 'return this._controlDefaultValueForListField(\'ReservaDataHora\');'
	}
],
	_searchPartHas: false,
	_dvmode: 'enter',
	_hasDetailView: false,
	theme: 'iOS7',
	scroll: {
		axis: 'both',
		indicator: {
			show: true,
			h: {
				show: true,
				location: 'right',
				offset: '0px',
				left: '0px',
				right: '0px'
			},
			v: {
				show: true,
				location: 'right',
				offset: '0px',
				top: '0px',
				bottom: '0px'
			}
		},
		momentum: {
			allow: true
		},
		pull: {
			y: 'auto',
			x: 'auto'
		}
	},
	layout: 'Default',
	calculateValue: function(data) {  return '' +data.__primaryKey;},
	listVariableName: 'LISTARESERVAS',
	listVariableNameTrueCase: 'listaReservas',
	_hostComponentId: 'DLG1',
	_includeCRC: false,
	allParentLists: [],
	__flagPersist: false,
	onBeforeUpdateRow: function(index,data){;},
	onUpdateRow: function(index,data){;},
	onBeforeAddRows: function(data,info){;},
	onAddRows: function(data,info){;},
	onBeforeRemoveRows: function(rows){;},
	onRemoveRows: function(rows){;},
	onListDraw: function(data,startIndex) {
if(A5.flags.isMobile) $e.add(this.contId+'.CONTENT','abstractdown',function(e) {$e.preventDefault(e);});},
	_onTap: function(index) { var data = this.selectionData[0];
DLG1_DlgObj.runAction('ShowWindowReservas');},
	onItemDraw: function(ele,data,index) {$e.add('DLG1.LISTARESERVAS.BTNRESERVASOLICITADA.BTN.'+arguments[2]+'',A5.d.evnts.click,Function('setTimeout(function() { },1);'));
$e.add('DLG1.LISTARESERVAS.BTNRESERVACONFIRMADA.BTN.'+arguments[2]+'',A5.d.evnts.click,Function('setTimeout(function() { },1);'));
$e.add('DLG1.LISTARESERVAS.BTNRESERVACANCUSUARIO.BTN.'+arguments[2]+'',A5.d.evnts.click,Function('setTimeout(function() { },1);'));
$e.add('DLG1.LISTARESERVAS.BTNRESERVACANCEMPRESA.BTN.'+arguments[2]+'',A5.d.evnts.click,Function('setTimeout(function() { },1);'));
var e = $('DLG1.LISTARESERVAS.BTNRESERVASOLICITADA.I.'+index); if(e) { var s = ''; if(!(data.ReservaConfirmada == 'S')) s = 'none'; e.style.display = s;}
var e = $('DLG1.LISTARESERVAS.BTNRESERVACONFIRMADA.I.'+index); if(e) { var s = ''; if(!(data.ReservaConfirmada == 'C')) s = 'none'; e.style.display = s;}
var e = $('DLG1.LISTARESERVAS.BTNRESERVACANCUSUARIO.I.'+index); if(e) { var s = ''; if(!(data.ReservaConfirmada == 'U')) s = 'none'; e.style.display = s;}
var e = $('DLG1.LISTARESERVAS.BTNRESERVACANCEMPRESA.I.'+index); if(e) { var s = ''; if(!(data.ReservaConfirmada == 'E')) s = 'none'; e.style.display = s;}},
	childLists: [],
	_populateAllChildLists: function() { },
	onClick: function() {
DLG1_DlgObj._listSystemOnClick('LISTARESERVAS',this.selection[0]);},
	layouts: {
		Default: {
			type: 'template',
			item: {
				style: 'font-family: \'Open Sans Condensed\';'
			},
			template: [
				'<div style="display: table; width: 100%;">',
				'\t<div style="display: table-cell; width: 60px; text-align: left; vertical-align: middle;">',
				'\t\t<div class="iOS7ListItemLabelContext"><span id="DLG1.LISTARESERVAS.BTNRESERVACONFIRMADA.I.{*dataRow}"><button id="DLG1.LISTARESERVAS.BTNRESERVACONFIRMADA.BTN.{*dataRow}"  class="btnReservaConfirmada" style="cursor:pointer;" title="">Reserva Confirmada</button></span><span id="DLG1.LISTARESERVAS.BTNRESERVASOLICITADA.I.{*dataRow}"><button id="DLG1.LISTARESERVAS.BTNRESERVASOLICITADA.BTN.{*dataRow}"  class="btnReservaSolicitada" style="cursor:pointer;" title="">Reserva Solicitada</button></span><span id="DLG1.LISTARESERVAS.BTNRESERVACANCUSUARIO.I.{*dataRow}"><button id="DLG1.LISTARESERVAS.BTNRESERVACANCUSUARIO.BTN.{*dataRow}"  class="btnReservaCancUsuario" style="cursor:pointer;" title="">Cliente Cancelou</button></span><span id="DLG1.LISTARESERVAS.BTNRESERVACANCEMPRESA.I.{*dataRow}"><button id="DLG1.LISTARESERVAS.BTNRESERVACANCEMPRESA.BTN.{*dataRow}"  class="btnReservaCancRestaurante" style="cursor:pointer;" title="">Restaurante Cancelou</button></span></div>',
				'\t</div>',
				'\t<div style="display: table-cell;">',
				'\t\t<div class="iOS7ListItemLabelMain">Data:{ReservaDataHora:dateString(\'dd/MM/yyyy 00h:0m\',\'dd/MM/yyyy, 0h:0m\')}</div>',
				'\t\t<div class="iOS7ListItemLabelSub">Quantidade de pessoas: <span id="DLG1.LISTARESERVAS.RESERVAPESSOAS.I.{*dataRow}">{ReservaPessoas}</span></div>',
				'\t</div>',
				'\t\t',
				'\t',
				'\t<div style="display: table-cell; width: 40px; text-align: right; vertical-align: middle;">',
				'\t\t<i class="iOS7Icon iOS7IconRight" ></i>',
				'\t</div>',
				'</div>'			
]
		}
	},
	content: {
		header: {
			show: false
		},
		footer: {
			show: false
		}
	},
	systemEvents: {
		onTap: function(e) {DLG1_DlgObj.runAction('ShowWindowReservas');},
		afterAjaxCallback: function(e) {},
		afterClientSideFilter: function(e) {},
		beforeServerSideSort: function(e) {},
		afterServerSideSort: function(e) {},
		onSwipe: function(e) {},
		onScroll: function(e) {},
		onPullRelease: function(e) {},
		onPull: function(e) {},
		onPullEnd: function(e) {},
		afterSearchComplete: function(e) {},
		beforeSearch: function(e) {},
		onSearchResultTooLarge: function(e) {},
		onSearchResultTooLargeForLocalStorage: function(e) {},
		onBeforePersistToLocalStorage: function(e) {},
		onPersistToLocalStorage: function(e) {},
		onRestoreFromLocalStorage: function(e) {},
		afterRenderComplete: function(e) {},
		beforeFetchMore: function(e) {},
		afterFetchMore: function(e) {},
		beforePageNavigate: function(e) {},
		afterPageNavigate: function(e) {},
		beforeRefreshRow: function(e) {},
		afterRefreshRow: function(e) {},
		afterServerSideSummaryCompute: function(e) {},
		_afterAjaxCallback: function() {this._refreshStateMessages();}
	},
	_clientsideSummary: [],
	computeClientSideSummaryValues: function(e) {},
	_executeEvent: function(event,obj) { 
	return DLG1_DlgObj._list_executeEvent('LISTARESERVAS',event,obj);
}
,
	searchList: function() { 
	if(this._searchPartStyle == 'querybyform') { 
		if(this._dvmode != 'search') return false;
	}
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else {
			if(this._dataSourceType.toLowerCase() == 'sql') {
				mode = 'serverside';
			} else { 
				mode = 'clientside';
			}
		}
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'search', searchWhere: mode, listIsDirty: flagDirty});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._searchListServerSide(obj);
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilter();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'search', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_searchListServerSide: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var _d={};
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	if(flagDirty) { 
		alert('Can\'t execute server-side search because List has edits that have not yet been synchronized.');
		return false;
	}
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	_data = _data + '&' + A5.ajax.buildURLParam('__searchOptions',JSON.stringify(obj));
	this.filter = false;
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPart','',_data);
}
,
	clearSearchList: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else mode = 'serverside';
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'clear', searchWhere: mode});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._clearSearchListServerSide();
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilterClear();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'clear', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_clearSearchListServerSide: function() { 
	var _d={};
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPartClear','',_data);
}
,
	_str: function(txt) {
	txt = txt.replace("'","\\'");
	txt = '\'' + txt + '\'';
	return txt;
}
,
	_QBF: function(txt) { 
	var o = {};
	o.v2 = '';
	o.v1 = txt;
	o.flag = false;
	if(txt.indexOf('>=') >= 0) {
		o.op = '>=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('<=') >= 0 ) { 
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('>') >= 0 ) {
		o.op = '>';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('<') >= 0)  { 
		o.op = '<';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('..') == 0)  {
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if ( txt.indexOf('..', txt.length - '..'.length) !== -1 ) { 
		//ends with ..
		o.op = '>=';
		txt = txt.split('..')
		o.v1 = txt[0];
		o.flag = true;
	} else if (txt.indexOf('..') > 0 ) {
		o.op = 'between'
		txt = txt.split('..');
		o.v1 = txt[0];
		o.v2 = txt[1];
		o.flag = true;
	}
	return o;
}
,
	_match: function(data,field,val,obj) { 
	var flagKeyword = false;
	if(typeof obj.flagKeyword != 'undefined') flagKeyword = obj.flagKeyword;
	if(flagKeyword) { 
		var obj_i = this._searchFieldOptions[field.toUpperCase()];
		this._setSearchOps(obj,obj_i);
	}
	var _d = '';
	var _v = val;
	var flagC = false;
	if(obj.type == 'c') {
		flagC = true;
		if(!obj.caseSensitive) _v = _v.toLowerCase();
	} else { 
		//non mumeric searches are only mode 1 or -1
		if(obj.mode > 1) obj.mode = 1;
		if(obj.mode < -1) obj.mode = -1;
	}
	var flag = false;
	obj.usesQBFOperator = false;
	if(obj.qbf) { 
		_v = _v.split(',');
	} else {
		_v = [_v];
	}
	var o = {}
	var r = '';
	for(var i = 0; i < _v.length; i++) { 
		if(obj.qbf) {
			o = this._QBF(_v[i]);
		} else {
			o.flag = false;
			o.v1 = _v[i];
			o.v2 = '';
		}
		if(typeof data[field] != 'undefined') {
			if(data[field] != null) { 
				_d = data[field];
				if(obj.type == 'n') { 
					o.v1 = Number(o.v1);
					o.v2 = Number(o.v2);
					_d = Number(_d);
				} else if (obj.type == 'l') { 
					o.v1 = $u.s.toBool(o.v1);
					o.v2 = $u.s.toBool(o.v2);
					_d = $u.s.toBool(_d);
				} else if (obj.type == 'd') { 
					o.v1 = A5.stringToDate(o.v1,obj.dateFormat);
					o.v2 = A5.stringToDate(o.v2,obj.dateFormat);
					if(typeof _d == 'string') _d = A5.stringToDate(_d,obj.dateFormat);
					if(o.v1 != '' && o.v1 != null ) o.v1 = o.v1.getTime();
					if(o.v2 != '' && o.v2 != null ) o.v2 = o.v2.getTime();
					if(_d != '' && _d != null ) _d = _d.getTime();
				}
				if(flagC) {if(!obj.caseSensitive && typeof _d == 'string') _d = _d.toLowerCase();}
				if(o.flag) { 
					//has qbf operators
					if(o.op == 'between') {
						if(flagC) {
							if(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;
						} else { 
							if(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;
						}
					} else { 
						if(flagC) _d = _d.substr(0,o.v1.length)
						if(o.op == '>=') if( _d >= o.v1) flag = true;
						if(o.op == '<=') if( _d <= o.v1) flag = true;
						if(o.op == '>') if(_d > o.v1) flag = true;
						if(o.op == '<') if(_d < o.v1) flag = true;
					}
				} else { 
					if(obj.mode == 1 || obj.mode == -1 ) {
						if(obj.mode == 1) if(_d == o.v1) flag = true;; //match
						if(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match
					} else if (obj.mode == 2 || obj.mode == -2) { 
						if(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains
						if(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;
					} else if (obj.mode == 3 || obj.mode == -3) { 
						if(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with
						if(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with
					}
				}
			}
		}
	}
	return flag;
}
,
	_setSearchOps: function(obj,obj_i) { 
	obj.mode = obj_i.option;
	obj.qbf = obj_i.qbf;
	obj.type = obj_i.type;
	//obj.treatAs = obj_i.treatAs;
}
,
	_searchPartSubmit_clientSideFilter: function() { 
	if(!this._searchPartHas) return true;
	//_searchPartStyle: 'individualcontrols'
	if(this._searchPartStyle == 'singlekeywordcontrol') { 
		var searchFor = DLG1_DlgObj.getValue(this._keywordSearchControl);
		var arr = this._keywordSearchFields;
		var expn = [];
		var expn_i = '';
		var obj = {};
		//obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 1;
		obj.flagKeyword = true;
		var objStr = JSON.stringify(obj)
		for(var i = 0; i < arr.length; i++) { 
			expn_i = 'this._match(data,' +this._str(arr[i]) + ',' + this._str(searchFor) + ','+objStr+')';
			expn.push(expn_i);
		}
		expn = expn.join('||');
		//alert(expn);
	} else if ( this._searchPartStyle == 'individualcontrols' || this._searchPartStyle == 'querybyform'  ) { 
		var map = this._searchPart.fieldMap;
		var val = '';
		var expn = [];
		var expn_i = '';
		var obj = {};
		obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 2;
		//var objStr = JSON.stringify(obj)
		var ac = [];
		var aco = {};
		if(this._searchPartStyle == 'individualcontrols') {
			for(var i = 0; i < map.length; i++) { 
				val = DLG1_DlgObj.getValue(map[i].control);
				if(val != '') {
					obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
					this._setSearchOps(obj,obj_i);
					expn_i = 'this._match(data,' +this._str(map[i].field) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
					expn.push(expn_i);
				}
			}
		} else if (this._searchPartStyle == 'querybyform' ) { 
			var controlName = '';
			for(var i = 0; i < this._listFields.length; i++) { 
				controlName = this._getUXDetailViewControlName(this._listFields[i].name);
				if(controlName != '') {
					val = DLG1_DlgObj.getValue(controlName);
					if(val != '') {
						obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
						this._setSearchOps(obj,obj_i);
						expn_i = 'this._match(data,' +this._str(this._listFields[i].name) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
						expn.push(expn_i);
						aco.control = controlName;
						aco.value = val;
						ac.push(aco);
					}
				}
			}
			this.__queryByFormValues = ac;
			DLG1_DlgObj._setDVClean(this);
		}	
		expn = expn.join(' && ');
	} 
	//alert(expn);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = expn;
	}
	//user did not fill in any search fields
	if(expn == '') return true;
	var fnTxt = 'if(' + expn + ') {return true;} else { return false;}'
	var searchFunction = new Function('data',fnTxt);
	this.setFilter(searchFunction);
	if(this._rData.length > 0) this.setValue(0);
}
,
	_searchPartSubmit_clientSideFilterClear: function() { 
if(!this._searchPartHas) return true;
	this.setFilter(false);
	var map = this._searchPart.fieldMap;
	var val = '';
	var od = DLG1_DlgObj.originalValues[0];
	for(var i = 0; i < map.length; i++) {
		var val = od[map[i].control.toUpperCase()];
		if(typeof val != 'undefined') DLG1_DlgObj.setValue(map[i].control,val,false);
	}
	this.setFilter(false);
	delete this.__queryByFormValues;
	DLG1_DlgObj._setDVClean(this);
	if(this._data.length > 0) this.setValue(0);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = '';
	}
}
,
	detailViewIsDirty: function() { return false; },
	populateUXControls: function() { return true; },
	listIsDirty: function() { return false; },
	lookupValue: function(key,name,keyValue) {	var _d = this._data;
	var indx = A5FindPropInArray(_d,key,keyValue);
	var rv = '';
	if(indx >=0) {
		if(name == '__rowData__') return _d[indx];
		rv =  _d[indx][name];
	} else {
		//null out all properties in row
		var _d2 = {};
		if(typeof _d[0] == 'undefined') { return {}} ;
		for(var n in _d[0]) {
			_d2[n] = '&nbsp;';
		}
		rv = _d2;
	}
	return rv;
}
,
	allowNullSelection: true,
	refreshChildLists: function() {DLG1_DlgObj._listRefreshCascadingLists('LISTARESERVAS'); },
	rowExpander: function(rowNumber) { 
	var mode = typeof arguments[2] != 'undefined' ? arguments[2] : 'toggle';
	if(typeof rowNumber == 'undefined' || rowNumber == '' ) {
		rowNumber = this.selection[0];
		if(typeof rowNumber == 'undefined') return false;
	}
	var animObj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
	var ele = $(this._hostComponentId + '.' + this.listVariableName + '.ROWEXPANDER.' + rowNumber);
	if(ele) {
		if(mode == 'toggle') A5.u.element.toggle(ele,animObj);
		if(mode == 'show') A5.u.element.show(ele,animObj);
		if(mode == 'hide') A5.u.element.hide(ele,animObj);
	}
}
,
	afterClientSideSummaryCompute: function(csSummary) { },
	selectCurrentLayout: function(name) { 
var pl = this.layouts[name];
if(typeof pl == 'undefined') return false;
this.setLayout(name);
if(pl.type == 'column') {
	this.columnLayout.header.show = this.layouts[name].showColumnTitles; 
	this.refresh();
}
},
	onFilter: function() { 	var e = {}; 
	e.rowCount = this._values.length;  
	var ele = $('DLG1.__listId__.RECORDCOUNT'); 
	if(ele) {ele.innerHTML = e.rowCount;}; 
	if(this.persistToStorage) { this.persistToStorage({});} 
	(function(e) {   })(e);
}
,
	serverSideSort: function(column) {
var e = {};
e.column = column;
var result = this.systemEvents.beforeServerSideSort(e);
if(result == false) return false;
var obj = {};
obj.cmd = 'sort';
obj.column = column;
obj.layoutName = this.layout;
obj.listState = this._state;
var data = '_listId=LISTARESERVAS&' + A5.ajax.buildURLParam('_cmdObj',$u.o.toJSON(obj));
DLG1_DlgObj.ajaxCallback('','','system:listServerSideSort','',data);
},
	filterListClientSide: function(searchFor) {
//var result = this.systemEvents.beforeClientSideFilter();
//if(result == false) return false;
if(searchFor != '') {
	//fixes bug in Chrome when searching on dates strings that use forward slashes
	searchFor = searchFor.replace(/\//g,'\\/');
	this.setFilter({ReservaID: RegExp('' + searchFor,'i'), ClienteID: RegExp('' + searchFor,'i'), EmpresaID: RegExp('' + searchFor,'i'), ReservaPessoas: RegExp('' + searchFor,'i'), ReservaConfirmada: RegExp('' + searchFor,'i'), ReservaDataHora: RegExp('' + searchFor,'i')});
} else this.setFilter(false);
var rowCount = this._values.length;
//var e = {};
//e.rowCount = rowCount;
//this.systemEvents.afterClientSideFilter(e);
var ele = $('DLG1.listaReservas.RECORDCOUNT');
if(ele) ele.innerHTML = rowCount;
}
,
	scrollToClosestValue: function(val) { 	
	if(typeof val != 'string') val = val.join('');
	var flagCI = typeof arguments[1] != 'undefined' ? arguments[1] : false;
	var pos = typeof arguments[2] != 'undefined' ? arguments[2] : 'top';
	var anim = typeof arguments[3] != 'undefined' ? arguments[3] : {}
	var _d = this._rData;
	var len = val.length;
	var _d2;
	var i2 = -1;
	if(flagCI) val = val.toLowerCase();
	for(var i = 0 ; i < _d.length; i++) {
		i2 = i;
		_d2 = String(_d[i]['*value']);
		_d2 = _d2.substr(0,len);
		if(flagCI) _d2 = _d2.toLowerCase();
		if(val <= _d2){
			 break;
		}
	}
	if(i2 > -1) { 
		this.scrollToItem(i2,{mode: pos, animation: anim});
	}
}
,
	_refreshStateMessages: function() {
	var ele = '';
	ele = $('DLG1.LISTARESERVAS.PAGENUMBER');
	if(ele) ele.innerHTML = this._state.page;
	ele = $('DLG1.LISTARESERVAS.PAGECOUNT');
	if(ele) ele.innerHTML = this._state.pageCount;
	ele = $('DLG1.LISTARESERVAS.PAGECOUNT.PAGESELECTOR');
	if(ele) ele.innerHTML = this._state.pageCount;	
	ele = $('DLG1.LISTARESERVAS.LISTSTATE');
	if(ele) {
		var listState = $u.o.toJSON(this._state);
		ele.innerHTML = listState;
	}
	//navigation buttons			
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_NEXT.LISTARESERVAS'];
	if(ele) {
		if(this._state.page == this._state.pageCount) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_LAST.LISTARESERVAS'];
	if(ele) {
		if(this._state.page == this._state.pageCount) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_FIRST.LISTARESERVAS'];
	if(ele) {
		if(this._state.page == 1 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_PREV.LISTARESERVAS'];
	if(ele) {
		if(this._state.page == 1 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = $('DLG1.V.R1.A5SYSTEM_LIST_PAGESELECTOR_LISTARESERVAS');
	if(ele) {
		var data = this._recordNavigatorLinks;
		if(data) A5.form.populateSelect(ele,this._state.page,data,true);
	}
}
,
	_getRoute: function() { 
	var obj  = typeof arguments[1] != 'undefined' ? arguments[1] : [];
	var mode = typeof arguments[0] != 'undefined' ? arguments[0] : 'rowNumber'; //
	if(typeof this.selection[0] == 'undefined') return false;
	if(typeof this.getData(this.selection[0]) == 'undefined') return false;
	if(mode == 'rowNumber') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])['*key']});
	else obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		lObj._getRoute(mode,obj);
	}
	return obj;
}
,
	_setRoute: function(route) { 
	if(typeof route == 'undefined') { 
		route = this.__currentRoute;
		if(typeof route == 'undefined') return false;
	}
	var lObj = '';
	var row = '';
	for(var i = 0; i < route.length; i++) {
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(route[i].list);
		row = route[i].row;
		var flag = typeof this._restoringList != 'undefined' ? !this._restoringList : true;
		if(typeof row != 'undefined') {
			var rowFixed = '';
			rowFixed = lObj._dataMap.indexOf(route[i].row);
			lObj.setValue(rowFixed,flag);
			if(this._clearServerSideErrors) this._clearServerSideErrors();
			if(this._showServerSideErrors) this._showServerSideErrors();
			if(this._showWriteConflictErrors) this._showWriteConflictErrors();
		}
	}
}
,
	_useServerSideSyncLog: false
};
DLG1_DlgObj._listViewSettings['MENUPRINCIPAL'] = {
	_dataSourceType: 'Static',
	_listFields: [
	{
		name: 'icone',
		defaultValue: 'return this._controlDefaultValueForListField(\'icone\');'
	},
	{
		name: 'opcao',
		defaultValue: 'return this._controlDefaultValueForListField(\'opcao\');'
	},
	{
		name: 'painel',
		defaultValue: 'return this._controlDefaultValueForListField(\'painel\');'
	}
],
	_searchPartHas: false,
	_dvmode: 'enter',
	_hasDetailView: false,
	theme: 'iOS7',
	scroll: {
		axis: 'both',
		indicator: {
			show: true,
			h: {
				show: true,
				location: 'right',
				offset: '0px',
				left: '0px',
				right: '0px'
			},
			v: {
				show: true,
				location: 'right',
				offset: '0px',
				top: '0px',
				bottom: '0px'
			}
		},
		momentum: {
			allow: true
		},
		pull: {
			y: 'auto',
			x: 'auto'
		}
	},
	layout: 'Default',
	calculateValue: function(data) {  return '' +A5RemoveHTMLWrapper(data.painel);},
	listVariableName: 'MENUPRINCIPAL',
	listVariableNameTrueCase: 'menuPrincipal',
	_hostComponentId: 'DLG1',
	_includeCRC: false,
	allParentLists: [],
	__flagPersist: false,
	onBeforeUpdateRow: function(index,data){;},
	onUpdateRow: function(index,data){;},
	onBeforeAddRows: function(data,info){;},
	onAddRows: function(data,info){;},
	onBeforeRemoveRows: function(rows){;},
	onRemoveRows: function(rows){;},
	onListDraw: function(data,startIndex) {
if(A5.flags.isMobile) $e.add(this.contId+'.CONTENT','abstractdown',function(e) {$e.preventDefault(e);});},
	_onTap: function(index) { var data = this.selectionData[0];
debugger;
DLG1_DlgObj.panelSetActive(data.painel);
showTitle();},
	childLists: [],
	_populateAllChildLists: function() { },
	onClick: function() {
DLG1_DlgObj._listSystemOnClick('MENUPRINCIPAL',this.selection[0]);},
	layouts: {
		Default: {
			type: 'template',
			item: {
				className: 'menuItem'
			},
			template: [
				'<span style="display:table-cell; height:35px; vertical-align:middle;"><span id="DLG1.MENUPRINCIPAL.OPCAO.I.{*dataRow}">{opcao}</span></span>'			
]
		}
	},
	content: {
		header: {
			show: false
		},
		footer: {
			show: false
		}
	},
	systemEvents: {
		onTap: function(e) {debugger;
DLG1_DlgObj.panelSetActive(data.painel);
showTitle();},
		afterAjaxCallback: function(e) {},
		afterClientSideFilter: function(e) {},
		beforeServerSideSort: function(e) {},
		afterServerSideSort: function(e) {},
		onSwipe: function(e) {},
		onScroll: function(e) {},
		onPullRelease: function(e) {},
		onPull: function(e) {},
		onPullEnd: function(e) {},
		afterSearchComplete: function(e) {},
		beforeSearch: function(e) {},
		onSearchResultTooLarge: function(e) {},
		onSearchResultTooLargeForLocalStorage: function(e) {},
		onBeforePersistToLocalStorage: function(e) {},
		onPersistToLocalStorage: function(e) {},
		onRestoreFromLocalStorage: function(e) {},
		afterRenderComplete: function(e) {},
		beforeFetchMore: function(e) {},
		afterFetchMore: function(e) {},
		beforePageNavigate: function(e) {},
		afterPageNavigate: function(e) {},
		beforeRefreshRow: function(e) {},
		afterRefreshRow: function(e) {},
		afterServerSideSummaryCompute: function(e) {},
		_afterAjaxCallback: function() {this._refreshStateMessages();}
	},
	_clientsideSummary: [],
	computeClientSideSummaryValues: function(e) {},
	_executeEvent: function(event,obj) { 
	return DLG1_DlgObj._list_executeEvent('MENUPRINCIPAL',event,obj);
}
,
	searchList: function() { 
	if(this._searchPartStyle == 'querybyform') { 
		if(this._dvmode != 'search') return false;
	}
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else {
			if(this._dataSourceType.toLowerCase() == 'sql') {
				mode = 'serverside';
			} else { 
				mode = 'clientside';
			}
		}
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'search', searchWhere: mode, listIsDirty: flagDirty});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._searchListServerSide(obj);
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilter();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'search', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_searchListServerSide: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var _d={};
	var flagDirty = false;
	if(this.listIsDirty) flagDirty = this.listIsDirty();
	if(flagDirty) { 
		alert('Can\'t execute server-side search because List has edits that have not yet been synchronized.');
		return false;
	}
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	_data = _data + '&' + A5.ajax.buildURLParam('__searchOptions',JSON.stringify(obj));
	this.filter = false;
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPart','',_data);
}
,
	clearSearchList: function() { 
	var obj = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var mode = 'serverSide';
	if(typeof obj.searchMode != 'undefined') mode = obj.searchMode;
	mode = mode.toLowerCase();
	if(mode.indexOf('auto') == 0) { 
		if(this.listIsDirty()) mode = 'clientside';
		else mode = 'serverside';
	}
	if(this._dataSourceType.toLowerCase() == 'static') mode = 'clientside';
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') {
		if(parentList != '') mode = 'clientside';
	}
	var flagResult = DLG1_DlgObj._list_executeEvent(this.listVariableName,'beforeSearch',{searchMode: 'clear', searchWhere: mode});
	if(!flagResult) return false;
	if(mode == 'serverside') {
		this._clearSearchListServerSide();
	} else if(mode == 'clientside') { 
		this._searchPartSubmit_clientSideFilterClear();
		var rowCount = this._rData.length;
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'afterSearchComplete',{searchMode: 'clear', searchWhere: mode, recordsInQuery: rowCount});
	}
}
,
	_clearSearchListServerSide: function() { 
	var _d={};
	_d.listId = this.listVariableName
	var _data = A5.ajax.buildURLParam('__searchInfo',JSON.stringify(_d));
	DLG1_DlgObj.ajaxCallback('','','system:ListSearchPartClear','',_data);
}
,
	_str: function(txt) {
	txt = txt.replace("'","\\'");
	txt = '\'' + txt + '\'';
	return txt;
}
,
	_QBF: function(txt) { 
	var o = {};
	o.v2 = '';
	o.v1 = txt;
	o.flag = false;
	if(txt.indexOf('>=') >= 0) {
		o.op = '>=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('<=') >= 0 ) { 
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if (txt.indexOf('>') >= 0 ) {
		o.op = '>';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('<') >= 0)  { 
		o.op = '<';
		o.v1 = txt.substr(1);
		o.flag = true;
	} else if (txt.indexOf('..') == 0)  {
		o.op = '<=';
		o.v1 = txt.substr(2);
		o.flag = true;
	} else if ( txt.indexOf('..', txt.length - '..'.length) !== -1 ) { 
		//ends with ..
		o.op = '>=';
		txt = txt.split('..')
		o.v1 = txt[0];
		o.flag = true;
	} else if (txt.indexOf('..') > 0 ) {
		o.op = 'between'
		txt = txt.split('..');
		o.v1 = txt[0];
		o.v2 = txt[1];
		o.flag = true;
	}
	return o;
}
,
	_match: function(data,field,val,obj) { 
	var flagKeyword = false;
	if(typeof obj.flagKeyword != 'undefined') flagKeyword = obj.flagKeyword;
	if(flagKeyword) { 
		var obj_i = this._searchFieldOptions[field.toUpperCase()];
		this._setSearchOps(obj,obj_i);
	}
	var _d = '';
	var _v = val;
	var flagC = false;
	if(obj.type == 'c') {
		flagC = true;
		if(!obj.caseSensitive) _v = _v.toLowerCase();
	} else { 
		//non mumeric searches are only mode 1 or -1
		if(obj.mode > 1) obj.mode = 1;
		if(obj.mode < -1) obj.mode = -1;
	}
	var flag = false;
	obj.usesQBFOperator = false;
	if(obj.qbf) { 
		_v = _v.split(',');
	} else {
		_v = [_v];
	}
	var o = {}
	var r = '';
	for(var i = 0; i < _v.length; i++) { 
		if(obj.qbf) {
			o = this._QBF(_v[i]);
		} else {
			o.flag = false;
			o.v1 = _v[i];
			o.v2 = '';
		}
		if(typeof data[field] != 'undefined') {
			if(data[field] != null) { 
				_d = data[field];
				if(obj.type == 'n') { 
					o.v1 = Number(o.v1);
					o.v2 = Number(o.v2);
					_d = Number(_d);
				} else if (obj.type == 'l') { 
					o.v1 = $u.s.toBool(o.v1);
					o.v2 = $u.s.toBool(o.v2);
					_d = $u.s.toBool(_d);
				} else if (obj.type == 'd') { 
					o.v1 = A5.stringToDate(o.v1,obj.dateFormat);
					o.v2 = A5.stringToDate(o.v2,obj.dateFormat);
					if(typeof _d == 'string') _d = A5.stringToDate(_d,obj.dateFormat);
					if(o.v1 != '' && o.v1 != null ) o.v1 = o.v1.getTime();
					if(o.v2 != '' && o.v2 != null ) o.v2 = o.v2.getTime();
					if(_d != '' && _d != null ) _d = _d.getTime();
				}
				if(flagC) {if(!obj.caseSensitive && typeof _d == 'string') _d = _d.toLowerCase();}
				if(o.flag) { 
					//has qbf operators
					if(o.op == 'between') {
						if(flagC) {
							if(_d.substr(0,o.v1.length) >= o.v1 && _d.substr(0,o.v2.length) <= o.v2 ) flag = true;
						} else { 
							if(_d >= o.v1 && _d <= o.v2 && (typeof _d == typeof o.v1)  ) flag = true;
						}
					} else { 
						if(flagC) _d = _d.substr(0,o.v1.length)
						if(o.op == '>=') if( _d >= o.v1) flag = true;
						if(o.op == '<=') if( _d <= o.v1) flag = true;
						if(o.op == '>') if(_d > o.v1) flag = true;
						if(o.op == '<') if(_d < o.v1) flag = true;
					}
				} else { 
					if(obj.mode == 1 || obj.mode == -1 ) {
						if(obj.mode == 1) if(_d == o.v1) flag = true;; //match
						if(obj.mode == -1) if(!(_d == o.v1)) flag = true;; //match
					} else if (obj.mode == 2 || obj.mode == -2) { 
						if(obj.mode == 2) if(_d.indexOf(o.v1) > -1) flag = true; //contains
						if(obj.mode == -2) if(!(_d.indexOf(o.v1) > -1)) flag = true;
					} else if (obj.mode == 3 || obj.mode == -3) { 
						if(obj.mode == 3) if(_d.indexOf(o.v1) == 0) flag = true; //starts with
						if(obj.mode == -3) if(!(_d.indexOf(o.v1) == 0)) flag = true; //starts with
					}
				}
			}
		}
	}
	return flag;
}
,
	_setSearchOps: function(obj,obj_i) { 
	obj.mode = obj_i.option;
	obj.qbf = obj_i.qbf;
	obj.type = obj_i.type;
	//obj.treatAs = obj_i.treatAs;
}
,
	_searchPartSubmit_clientSideFilter: function() { 
	if(!this._searchPartHas) return true;
	//_searchPartStyle: 'individualcontrols'
	if(this._searchPartStyle == 'singlekeywordcontrol') { 
		var searchFor = DLG1_DlgObj.getValue(this._keywordSearchControl);
		var arr = this._keywordSearchFields;
		var expn = [];
		var expn_i = '';
		var obj = {};
		//obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 1;
		obj.flagKeyword = true;
		var objStr = JSON.stringify(obj)
		for(var i = 0; i < arr.length; i++) { 
			expn_i = 'this._match(data,' +this._str(arr[i]) + ',' + this._str(searchFor) + ','+objStr+')';
			expn.push(expn_i);
		}
		expn = expn.join('||');
		//alert(expn);
	} else if ( this._searchPartStyle == 'individualcontrols' || this._searchPartStyle == 'querybyform'  ) { 
		var map = this._searchPart.fieldMap;
		var val = '';
		var expn = [];
		var expn_i = '';
		var obj = {};
		obj.caseSensitive = false;
		//obj.qbf = true;
		//obj.mode = 2;
		//var objStr = JSON.stringify(obj)
		var ac = [];
		var aco = {};
		if(this._searchPartStyle == 'individualcontrols') {
			for(var i = 0; i < map.length; i++) { 
				val = DLG1_DlgObj.getValue(map[i].control);
				if(val != '') {
					obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
					this._setSearchOps(obj,obj_i);
					expn_i = 'this._match(data,' +this._str(map[i].field) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
					expn.push(expn_i);
				}
			}
		} else if (this._searchPartStyle == 'querybyform' ) { 
			var controlName = '';
			for(var i = 0; i < this._listFields.length; i++) { 
				controlName = this._getUXDetailViewControlName(this._listFields[i].name);
				if(controlName != '') {
					val = DLG1_DlgObj.getValue(controlName);
					if(val != '') {
						obj_i = this._searchFieldOptions[map[i].field.toUpperCase()];
						this._setSearchOps(obj,obj_i);
						expn_i = 'this._match(data,' +this._str(this._listFields[i].name) + ',' + this._str(val) + ','+JSON.stringify(obj)+')';
						expn.push(expn_i);
						aco.control = controlName;
						aco.value = val;
						ac.push(aco);
					}
				}
			}
			this.__queryByFormValues = ac;
			DLG1_DlgObj._setDVClean(this);
		}	
		expn = expn.join(' && ');
	} 
	//alert(expn);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = expn;
	}
	//user did not fill in any search fields
	if(expn == '') return true;
	var fnTxt = 'if(' + expn + ') {return true;} else { return false;}'
	var searchFunction = new Function('data',fnTxt);
	this.setFilter(searchFunction);
	if(this._rData.length > 0) this.setValue(0);
}
,
	_searchPartSubmit_clientSideFilterClear: function() { 
if(!this._searchPartHas) return true;
	this.setFilter(false);
	var map = this._searchPart.fieldMap;
	var val = '';
	var od = DLG1_DlgObj.originalValues[0];
	for(var i = 0; i < map.length; i++) {
		var val = od[map[i].control.toUpperCase()];
		if(typeof val != 'undefined') DLG1_DlgObj.setValue(map[i].control,val,false);
	}
	this.setFilter(false);
	delete this.__queryByFormValues;
	DLG1_DlgObj._setDVClean(this);
	if(this._data.length > 0) this.setValue(0);
	if (this._showSearchDebugInfo) {
		var ele = $('DLG1.V.R1.' + this._searchDebugPH);
		if(ele) ele.innerHTML = '';
	}
}
,
	detailViewIsDirty: function() { return false; },
	populateUXControls: function() { return true; },
	listIsDirty: function() { return false; },
	lookupValue: function(key,name,keyValue) {	var _d = this._data;
	var indx = A5FindPropInArray(_d,key,keyValue);
	var rv = '';
	if(indx >=0) {
		if(name == '__rowData__') return _d[indx];
		rv =  _d[indx][name];
	} else {
		//null out all properties in row
		var _d2 = {};
		if(typeof _d[0] == 'undefined') { return {}} ;
		for(var n in _d[0]) {
			_d2[n] = '&nbsp;';
		}
		rv = _d2;
	}
	return rv;
}
,
	allowNullSelection: true,
	refreshChildLists: function() {DLG1_DlgObj._listRefreshCascadingLists('MENUPRINCIPAL'); },
	rowExpander: function(rowNumber) { 
	var mode = typeof arguments[2] != 'undefined' ? arguments[2] : 'toggle';
	if(typeof rowNumber == 'undefined' || rowNumber == '' ) {
		rowNumber = this.selection[0];
		if(typeof rowNumber == 'undefined') return false;
	}
	var animObj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
	var ele = $(this._hostComponentId + '.' + this.listVariableName + '.ROWEXPANDER.' + rowNumber);
	if(ele) {
		if(mode == 'toggle') A5.u.element.toggle(ele,animObj);
		if(mode == 'show') A5.u.element.show(ele,animObj);
		if(mode == 'hide') A5.u.element.hide(ele,animObj);
	}
}
,
	afterClientSideSummaryCompute: function(csSummary) { },
	selectCurrentLayout: function(name) { 
var pl = this.layouts[name];
if(typeof pl == 'undefined') return false;
this.setLayout(name);
if(pl.type == 'column') {
	this.columnLayout.header.show = this.layouts[name].showColumnTitles; 
	this.refresh();
}
},
	onFilter: function() { 	var e = {}; 
	e.rowCount = this._values.length;  
	var ele = $('DLG1.__listId__.RECORDCOUNT'); 
	if(ele) {ele.innerHTML = e.rowCount;}; 
	if(this.persistToStorage) { this.persistToStorage({});} 
	(function(e) {   })(e);
}
,
	serverSideSort: function(column) {
var e = {};
e.column = column;
var result = this.systemEvents.beforeServerSideSort(e);
if(result == false) return false;
var obj = {};
obj.cmd = 'sort';
obj.column = column;
obj.layoutName = this.layout;
obj.listState = this._state;
var data = '_listId=MENUPRINCIPAL&' + A5.ajax.buildURLParam('_cmdObj',$u.o.toJSON(obj));
DLG1_DlgObj.ajaxCallback('','','system:listServerSideSort','',data);
},
	filterListClientSide: function(searchFor) {
//var result = this.systemEvents.beforeClientSideFilter();
//if(result == false) return false;
if(searchFor != '') {
	//fixes bug in Chrome when searching on dates strings that use forward slashes
	searchFor = searchFor.replace(/\//g,'\\/');
	this.setFilter({icone: RegExp('' + searchFor,'i'), opcao: RegExp('' + searchFor,'i'), painel: RegExp('' + searchFor,'i')});
} else this.setFilter(false);
var rowCount = this._values.length;
//var e = {};
//e.rowCount = rowCount;
//this.systemEvents.afterClientSideFilter(e);
var ele = $('DLG1.menuPrincipal.RECORDCOUNT');
if(ele) ele.innerHTML = rowCount;
}
,
	scrollToClosestValue: function(val) { 	
	if(typeof val != 'string') val = val.join('');
	var flagCI = typeof arguments[1] != 'undefined' ? arguments[1] : false;
	var pos = typeof arguments[2] != 'undefined' ? arguments[2] : 'top';
	var anim = typeof arguments[3] != 'undefined' ? arguments[3] : {}
	var _d = this._rData;
	var len = val.length;
	var _d2;
	var i2 = -1;
	if(flagCI) val = val.toLowerCase();
	for(var i = 0 ; i < _d.length; i++) {
		i2 = i;
		_d2 = String(_d[i]['*value']);
		_d2 = _d2.substr(0,len);
		if(flagCI) _d2 = _d2.toLowerCase();
		if(val <= _d2){
			 break;
		}
	}
	if(i2 > -1) { 
		this.scrollToItem(i2,{mode: pos, animation: anim});
	}
}
,
	_refreshStateMessages: function() {
	var ele = '';
	ele = $('DLG1.MENUPRINCIPAL.PAGENUMBER');
	if(ele) ele.innerHTML = this._state.page;
	ele = $('DLG1.MENUPRINCIPAL.PAGECOUNT');
	if(ele) ele.innerHTML = this._state.pageCount;
	ele = $('DLG1.MENUPRINCIPAL.PAGECOUNT.PAGESELECTOR');
	if(ele) ele.innerHTML = this._state.pageCount;	
	ele = $('DLG1.MENUPRINCIPAL.LISTSTATE');
	if(ele) {
		var listState = $u.o.toJSON(this._state);
		ele.innerHTML = listState;
	}
	//navigation buttons			
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_NEXT.MENUPRINCIPAL'];
	if(ele) {
		if(this._state.page == this._state.pageCount) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_LAST.MENUPRINCIPAL'];
	if(ele) {
		if(this._state.page == this._state.pageCount) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_FIRST.MENUPRINCIPAL'];
	if(ele) {
		if(this._state.page == 1 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = DLG1_DlgObj._buttons['BUTTON_LISTNAV_PREV.MENUPRINCIPAL'];
	if(ele) {
		if(this._state.page == 1 ) ele.setDisabled(true);
		else ele.setDisabled(false);
	}
	ele = $('DLG1.V.R1.A5SYSTEM_LIST_PAGESELECTOR_MENUPRINCIPAL');
	if(ele) {
		var data = this._recordNavigatorLinks;
		if(data) A5.form.populateSelect(ele,this._state.page,data,true);
	}
}
,
	_getRoute: function() { 
	var obj  = typeof arguments[1] != 'undefined' ? arguments[1] : [];
	var mode = typeof arguments[0] != 'undefined' ? arguments[0] : 'rowNumber'; //
	if(typeof this.selection[0] == 'undefined') return false;
	if(typeof this.getData(this.selection[0]) == 'undefined') return false;
	if(mode == 'rowNumber') obj.push({list: this.listVariableName, row: this.getData(this.selection[0])['*key']});
	else obj.push({list: this.listVariableName, row: this.getData(this.selection[0]).__primaryKey});
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		lObj._getRoute(mode,obj);
	}
	return obj;
}
,
	_setRoute: function(route) { 
	if(typeof route == 'undefined') { 
		route = this.__currentRoute;
		if(typeof route == 'undefined') return false;
	}
	var lObj = '';
	var row = '';
	for(var i = 0; i < route.length; i++) {
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(route[i].list);
		row = route[i].row;
		var flag = typeof this._restoringList != 'undefined' ? !this._restoringList : true;
		if(typeof row != 'undefined') {
			var rowFixed = '';
			rowFixed = lObj._dataMap.indexOf(route[i].row);
			lObj.setValue(rowFixed,flag);
			if(this._clearServerSideErrors) this._clearServerSideErrors();
			if(this._showServerSideErrors) this._showServerSideErrors();
			if(this._showWriteConflictErrors) this._showWriteConflictErrors();
		}
	}
}
,
	_useServerSideSyncLog: false
};
DLG1_DlgObj._listViewData['LISTACATEGORIAS'] = []; 
DLG1_DlgObj._listViewData['LISTAITENS'] = []; 
DLG1_DlgObj._listViewData['LISTACARRINHOITEM'] = []; 
DLG1_DlgObj._listViewData['LISTARESERVAS'] = A5DataArrayToObject(['ReservaID','ClienteID','EmpresaID','ReservaPessoas','ReservaConfirmada','ReservaDataHora','__primaryKey'],[ [ "1" , "(51)9155-2004" , "1" , "5" , "C" , "01/03/2015 08:15:00 00 pm" , "1" ]
, [ "2" , "(51)9155-2004" , "1" , "8" , "E" , "27/02/2015 07:30:00 00 pm" , "2" ]
 ]); 
DLG1_DlgObj._listViewData['MENUPRINCIPAL'] = A5DataArrayToObject(['icone','opcao','painel'],[['','Home','PL_INICIO'],['','Card&aacutepio','PC_CATEGORIAS'],['','Carrinho','PC_CARRINHO_ITEM'],['','Endere&ccedilo','PC_ENDERECO'],['','Reservas','PC_RESERVAS'],['','Mensagens','PC_MENSAGENS'],['','Promo&ccedil&otildees','PC_PROMOCAO'],['','Meus Dados','PC_DADOS']]);
;
DLG1_DlgObj.setStateInfo({ 	__dialogGuid: '461a0aa4-0952-4bf7-bec8-31f6814c06f4', 	argumentsBoundToCotrols: 'carrinhoAtual|Numeric={carrinhoID}\nusuarioAtual|Character={UsuarioID}\ncategoriaAtual|Numeric={listaCategorias}\n', 	__dtfmt: 'dd/MM/yyyy' });
DLG1_DlgObj._spinListData['HORA'] = [
{html: '&nbsp;', value: ''},
{html: '08', value: '08'},
{html: '09', value: '09'},
{html: '10', value: '10'},
{html: '11', value: '11'},
{html: '12', value: '12'},
{html: '13', value: '13'},
{html: '14', value: '14'},
{html: '15', value: '15'},
{html: '16', value: '16'},
{html: '17', value: '17'},
{html: '18', value: '18'},
{html: '19', value: '19'},
{html: '20', value: '20'},
{html: '21', value: '21'},
{html: '22', value: '22'},
{html: '23', value: '23'}
];
DLG1_DlgObj._spinListData['MINUTOS'] = [
{html: '00', value: '00'},
{html: '15', value: '15'},
{html: '30', value: '30'},
{html: '45', value: '45'}
];
DLG1_DlgObj._mapSettings['MINIMAPA'] = {theme: 'iOS7',ui: {overviewMap: false,draggable: true,zoomOnDblClick: true,panControl: false,scale: false,streetViewControl: false,zoomControl: false,mapTypeControl: false},route: {draggable: false,avoid: {highways: false,tolls: false},travelMode: 'Driving',units: 'Default',optimizeOrder: false,directionsPanel: 'ROUTE_PANEL_ID'},type: 'ROADMAP',onZoomChange: function(data) { },onInitialize: function(data) { }}; 
DLG1_DlgObj._mapSettings['MAPROUTE'] = {theme: 'iOS7',ui: {overviewMap: false,draggable: true,zoomOnDblClick: true,panControl: false,scale: false,streetViewControl: false,zoomControl: false,mapTypeControl: false},route: {draggable: false,avoid: {highways: false,tolls: false},travelMode: 'Driving',units: 'Metric',optimizeOrder: false,directionsPanel: 'Route'},type: 'ROADMAP',onZoomChange: function(data) { },onInitialize: function(data) { }};
DLG1_DlgObj._controls['LISTACATEGORIAS'] =  { type: 'list',  data: DLG1_DlgObj._listViewData['LISTACATEGORIAS'], settings: DLG1_DlgObj._listViewSettings['LISTACATEGORIAS'] }
DLG1_DlgObj._controls['LISTAITENS'] =  { type: 'list',  data: DLG1_DlgObj._listViewData['LISTAITENS'], settings: DLG1_DlgObj._listViewSettings['LISTAITENS'] }
DLG1_DlgObj._controls['LISTACARRINHOITEM'] =  { type: 'list',  data: DLG1_DlgObj._listViewData['LISTACARRINHOITEM'], settings: DLG1_DlgObj._listViewSettings['LISTACARRINHOITEM'] }
DLG1_DlgObj._controls['LISTARESERVAS'] =  { type: 'list',  data: DLG1_DlgObj._listViewData['LISTARESERVAS'], settings: DLG1_DlgObj._listViewSettings['LISTARESERVAS'] }
DLG1_DlgObj._controls['MENUPRINCIPAL'] =  { type: 'list',  data: DLG1_DlgObj._listViewData['MENUPRINCIPAL'], settings: DLG1_DlgObj._listViewSettings['MENUPRINCIPAL'] }
DLG1_DlgObj._controls['MINIMAPA'] = { type: 'map', onInitialize: function() {  var mapObj = DLG1_DlgObj.getControl('MINIMAPA');
mapObj.setZoom(17);;} ,   settings:  DLG1_DlgObj._mapSettings['MINIMAPA'] }
DLG1_DlgObj._controls['MAPROUTE'] = { type: 'map', onInitialize: function() {  var mapObj = DLG1_DlgObj.getControl('MAPROUTE');
mapObj.setZoom(13);;} ,   settings:  DLG1_DlgObj._mapSettings['MAPROUTE'] }
DLG1_DlgObj._controls['HORA'] = { type: 'spinList', data: DLG1_DlgObj._spinListData['HORA'],   settings:  {theme: 'iOS7'} }
DLG1_DlgObj._controls['MINUTOS'] = { type: 'spinList', data: DLG1_DlgObj._spinListData['MINUTOS'],   settings:  {theme: 'iOS7'} }
DLG1_DlgObj.setVariables({});
DLG1_DlgObj._dataBoundControls = ['CARRINHOID','CLIENTETELEFONE'];
DLG1_DlgObj._primaryTableAlias = 'CARRINHO';
DLG1_DlgObj._actions = {};
DLG1_DlgObj._actions['AtualizaEndereco'] = '/* actionJavascript:64b59c6b-19ac-4bc4-964f-ef4a66e5516b    */\nvar data = DLG1_DlgObj.getValue(\'EMPRESAID\');\nif(typeof data == \'undefined\') data = \'\';\nvar _jsonCallbackData = \'_callbackdata=\' +$u.o.toJSON({_xbfunction: \'UNBOUND_UX_POPULATE_75e2739349154e0184034f88a0b5b363\',_primaryKeyValue: data});\n\nDLG1_DlgObj._lockPopulateControlsFromTable = true;\nDLG1_DlgObj.ajaxCallback(\'\',\'\',\'system:UnboundUXPopulate\',\'\',_jsonCallbackData);';
DLG1_DlgObj._actions['showMiniMapa'] = '/* actionJavascript:dfb51ec5-e909-4a4e-b6d9-051c5400e449 */\nvar mapObj = DLG1_DlgObj.getControl(\'miniMapa\');\nvar settings = {\n\ticon: {\n\t\tanchor: {\n\t\t}\n\t},\n\tdetail: {\n\t\thas: true,\n\t\tdata: showEndMiniMapa()\n\t},\n\toverlay: {\n\t\thas: false,\n\t\tdata: \'1mi\',\n\t\tfill: {\n\t\t\topacity: 1\n\t\t},\n\t\tstroke: {\n\t\t\twidth: 1,\n\t\t\topacity: 1\n\t\t}\n\t},\n\tdraggable: false,\n\tanimation: false,\n\temphasis: false,\n\temphasize: false,\n\tonAddComplete: function(markerSettings,markerObject) {this.viewMarkers(\'localEmpresaMiniMapa\');}\n};\nvar arr = [];\nvar col_EmpresaEndEndereco = DLG1_DlgObj.getValue(\'EmpresaEndEndereco\');\narr.push(col_EmpresaEndEndereco);\nvar col_EmpresaEndNumero = DLG1_DlgObj.getValue(\'EmpresaEndNumero\');\narr.push(col_EmpresaEndNumero);\nvar col_EmpresaEndBairro = DLG1_DlgObj.getValue(\'EmpresaEndBairro\');\narr.push(col_EmpresaEndBairro);\nvar col_EmpresaEndCidade = DLG1_DlgObj.getValue(\'EmpresaEndCidade\');\narr.push(col_EmpresaEndCidade);\nvar col_EmpresaEndUF = DLG1_DlgObj.getValue(\'EmpresaEndUF\');\narr.push(col_EmpresaEndUF);\nvar col_EmpresaEndCEP = DLG1_DlgObj.getValue(\'EmpresaEndCEP\');\narr.push(col_EmpresaEndCEP);\nvar loc = arr.join(\',\');\n;\nif(loc) mapObj.addMarker(\'localEmpresaMiniMapa\',loc,settings);';
DLG1_DlgObj._actions['fazerLogin'] = '/* actionJavascript:107f4032-48b6-4733-b4ea-05fdd87dafef */\nDLG1_DlgObj.showContainerWindow(this,\'WDW_LOGIN\');';
DLG1_DlgObj._actions['ShowWindowReservas'] = '/* actionJavascript:98ad3b2f-973d-4646-9fb4-0e56a593251b */\nDLG1_DlgObj.showContainerWindow(this,\'WDW_NOVARESERVA\');';
DLG1_DlgObj._listControlsInfo = {};
DLG1_DlgObj.createWindow('WDW_LOGIN','modal',
	{
	body: {
		content: {
			type: 'element',
			elementId: 'DLG1.V.R1.WDW_LOGIN'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	height: '',
	width: '',
	title: {
		html: '&nbsp;',
		show: false,
		location: 'top',
		direction: 'ltr'
	},
	disableMove: false,
	theme: 'iOS7',
	onBeforeShow: function() {var cs = AUI.u.getVPSize();
cs.width = cs.width - 40;
//cs.height = cs.height - 100;
this.setSize(cs.width+'px','320px');
this.setPosition('center');
},
	animation: {
		show: {
			type: 'scale',
			duration: 'fast'
		},
		hide: {
			type: 'none',
			duration: 'fast'
		}
	}
}
	);
DLG1_DlgObj._functions._showContainerWindow_WDW_LOGIN = function(objEle) {
	var currWindow = DLG1_DlgObj.getWindow('WDW_LOGIN');
	if(typeof DLG1_DlgObj._openWindows == 'undefined') DLG1_DlgObj._openWindows = {};
	DLG1_DlgObj._openWindows['WDW_LOGIN'] = currWindow;
	currWindow.show('20px','20px');
	}	
DLG1_DlgObj.createWindow('WDW_NOVARESERVA','modal',
	{
	body: {
		content: {
			type: 'element',
			elementId: 'DLG1.V.R1.WDW_NOVARESERVA'
		},
		scroll: {
			axis: 'both',
			stopPropogation: false,
			pull: {
				y: 'auto',
				x: 'auto'
			},
			indicator: {
				show: true,
				h: {
					show: true,
					location: 'right',
					offset: '0px',
					left: '0px',
					right: '0px'
				},
				v: {
					show: true,
					location: 'right',
					offset: '0px',
					top: '0px',
					bottom: '0px'
				}
			}
		}
	},
	height: '',
	width: '',
	title: {
		html: 'Window',
		show: false,
		location: 'top',
		direction: 'ltr'
	},
	disableMove: true,
	theme: 'iOS7',
	onShow: function() {var obj = DLG1_DlgObj.getControl('HORA');
obj.refresh();
var obj = DLG1_DlgObj.getControl('MINUTOS');
obj.refresh();
;},
	onResize: function() {var obj = DLG1_DlgObj.getControl('HORA');
obj.refresh();
var obj = DLG1_DlgObj.getControl('MINUTOS');
obj.refresh();
;}
}
	);
DLG1_DlgObj._functions._showContainerWindow_WDW_NOVARESERVA = function(objEle) {
	var currWindow = DLG1_DlgObj.getWindow('WDW_NOVARESERVA');
	if(typeof DLG1_DlgObj._openWindows == 'undefined') DLG1_DlgObj._openWindows = {};
	DLG1_DlgObj._openWindows['WDW_NOVARESERVA'] = currWindow;
	currWindow.show('20px','20px');
	}
var path = DLG1_PanelObj._panelPath['PC_CATEGORIAS'];
if(typeof path != 'undefined') {
	var panel = DLG1_PanelObj.getPanel(path);
	var id = panel.src.getPanelId('body');
} else {
	var id = DLG1_PanelObj.getPanelId('body');
}
DLG1_DlgObj._listViewSettings['LISTACATEGORIAS'].containerId = id;
$(id).innerHTML = '';
var path = DLG1_PanelObj._panelPath['PC_CARDAPIO'];
if(typeof path != 'undefined') {
	var panel = DLG1_PanelObj.getPanel(path);
	var id = panel.src.getPanelId('body');
} else {
	var id = DLG1_PanelObj.getPanelId('body');
}
DLG1_DlgObj._listViewSettings['LISTAITENS'].containerId = id;
$(id).innerHTML = '';
var path = DLG1_PanelObj._panelPath['PC_CARRINHO_ITEM'];
if(typeof path != 'undefined') {
	var panel = DLG1_PanelObj.getPanel(path);
	var id = panel.src.getPanelId('body');
} else {
	var id = DLG1_PanelObj.getPanelId('body');
}
DLG1_DlgObj._listViewSettings['LISTACARRINHOITEM'].containerId = id;
$(id).innerHTML = '';
var path = DLG1_PanelObj._panelPath['PC_RESERVAS'];
if(typeof path != 'undefined') {
	var panel = DLG1_PanelObj.getPanel(path);
	var id = panel.src.getPanelId('body');
} else {
	var id = DLG1_PanelObj.getPanelId('body');
}
DLG1_DlgObj._listViewSettings['LISTARESERVAS'].containerId = id;
$(id).innerHTML = '';
var path = DLG1_PanelObj._panelPath['PC_MENUPRINCIPAL'];
if(typeof path != 'undefined') {
	var panel = DLG1_PanelObj.getPanel(path);
	var id = panel.src.getPanelId('body');
} else {
	var id = DLG1_PanelObj.getPanelId('body');
}
DLG1_DlgObj._listViewSettings['MENUPRINCIPAL'].containerId = id;
$(id).innerHTML = '';
DLG1_DlgObj._hasPanels = true;
varId = 'DLG1.V.R1.MINIMAPA.CONTROL';
A5.u.drag.add(varId,'prevent');
varId = 'DLG1.V.R1.MAPROUTE.CONTROL';
A5.u.drag.add(varId,'prevent');
DLG1_DlgObj._hasOnSynchronizeEvent = false;
A5.__dtfmt = 'dd/MM/yyyy';
A5.__flagWorkingPreview = false;
A5.__flagIIS = false;
A5.__flagSimulateIIS = true;
DLG1_DlgObj._functions.calcOrientation = function() { 
	if(typeof DLG1_DlgObj == 'undefined') return '';
	var orientation = DLG1_DlgObj.getOrientation();
	if( orientation == 'landscape') {
			//landscape
			if(DLG1_DlgObj._orientation != 'landscape') {
				DLG1_DlgObj._fireWatches(1);	
				DLG1_DlgObj._orientation = 'landscape';
				DLG1_DlgObj._executeEvent('onOrientationChange',{orientation: 'landscape'});
			}
	} else {
		//portrait
		if(DLG1_DlgObj._orientation != 'portrait') {
				DLG1_DlgObj._fireWatches(1);	
				DLG1_DlgObj._orientation = 'portrait';
				DLG1_DlgObj._executeEvent('onOrientationChange',{orientation: 'portrait'});
			}
	}
}
	A5.flags.cordovaLoaded = true;
	try {
		document.addEventListener('deviceready', function() { 
		DLG1_DlgObj._executeEvent('onCordovaReady',{});
		DLG1_DlgObj._executeEvent('onPhoneGapReady',{});
		DLG1_DlgObj._cordovaReady = true;
		} , false);	
	}
	catch(err) {}
DLG1_DlgObj._waitGif = 'css/A5System/Images/wait.gif';
var EXIF=(function(){var debug=false;var ExifTags={0x9000:"ExifVersion",0xA000:"FlashpixVersion",0xA001:"ColorSpace",0xA002:"PixelXDimension",0xA003:"PixelYDimension",0x9101:"ComponentsConfiguration",0x9102:"CompressedBitsPerPixel",0x927C:"MakerNote",0x9286:"UserComment",0xA004:"RelatedSoundFile",0x9003:"DateTimeOriginal",0x9004:"DateTimeDigitized",0x9290:"SubsecTime",0x9291:"SubsecTimeOriginal",0x9292:"SubsecTimeDigitized",0x829A:"ExposureTime",0x829D:"FNumber",0x8822:"ExposureProgram",0x8824:"SpectralSensitivity",0x8827:"ISOSpeedRatings",0x8828:"OECF",0x9201:"ShutterSpeedValue",0x9202:"ApertureValue",0x9203:"BrightnessValue",0x9204:"ExposureBias",0x9205:"MaxApertureValue",0x9206:"SubjectDistance",0x9207:"MeteringMode",0x9208:"LightSource",0x9209:"Flash",0x9214:"SubjectArea",0x920A:"FocalLength",0xA20B:"FlashEnergy",0xA20C:"SpatialFrequencyResponse",0xA20E:"FocalPlaneXResolution",0xA20F:"FocalPlaneYResolution",0xA210:"FocalPlaneResolutionUnit",0xA214:"SubjectLocation",0xA215:"ExposureIndex",0xA217:"SensingMethod",0xA300:"FileSource",0xA301:"SceneType",0xA302:"CFAPattern",0xA401:"CustomRendered",0xA402:"ExposureMode",0xA403:"WhiteBalance",0xA404:"DigitalZoomRation",0xA405:"FocalLengthIn35mmFilm",0xA406:"SceneCaptureType",0xA407:"GainControl",0xA408:"Contrast",0xA409:"Saturation",0xA40A:"Sharpness",0xA40B:"DeviceSettingDescription",0xA40C:"SubjectDistanceRange",0xA005:"InteroperabilityIFDPointer",0xA420:"ImageUniqueID"};var TiffTags={0x0100:"ImageWidth",0x0101:"ImageHeight",0x8769:"ExifIFDPointer",0x8825:"GPSInfoIFDPointer",0xA005:"InteroperabilityIFDPointer",0x0102:"BitsPerSample",0x0103:"Compression",0x0106:"PhotometricInterpretation",0x0112:"Orientation",0x0115:"SamplesPerPixel",0x011C:"PlanarConfiguration",0x0212:"YCbCrSubSampling",0x0213:"YCbCrPositioning",0x011A:"XResolution",0x011B:"YResolution",0x0128:"ResolutionUnit",0x0111:"StripOffsets",0x0116:"RowsPerStrip",0x0117:"StripByteCounts",0x0201:"JPEGInterchangeFormat",0x0202:"JPEGInterchangeFormatLength",0x012D:"TransferFunction",0x013E:"WhitePoint",0x013F:"PrimaryChromaticities",0x0211:"YCbCrCoefficients",0x0214:"ReferenceBlackWhite",0x0132:"DateTime",0x010E:"ImageDescription",0x010F:"Make",0x0110:"Model",0x0131:"Software",0x013B:"Artist",0x8298:"Copyright"};var GPSTags={0x0000:"GPSVersionID",0x0001:"GPSLatitudeRef",0x0002:"GPSLatitude",0x0003:"GPSLongitudeRef",0x0004:"GPSLongitude",0x0005:"GPSAltitudeRef",0x0006:"GPSAltitude",0x0007:"GPSTimeStamp",0x0008:"GPSSatellites",0x0009:"GPSStatus",0x000A:"GPSMeasureMode",0x000B:"GPSDOP",0x000C:"GPSSpeedRef",0x000D:"GPSSpeed",0x000E:"GPSTrackRef",0x000F:"GPSTrack",0x0010:"GPSImgDirectionRef",0x0011:"GPSImgDirection",0x0012:"GPSMapDatum",0x0013:"GPSDestLatitudeRef",0x0014:"GPSDestLatitude",0x0015:"GPSDestLongitudeRef",0x0016:"GPSDestLongitude",0x0017:"GPSDestBearingRef",0x0018:"GPSDestBearing",0x0019:"GPSDestDistanceRef",0x001A:"GPSDestDistance",0x001B:"GPSProcessingMethod",0x001C:"GPSAreaInformation",0x001D:"GPSDateStamp",0x001E:"GPSDifferential"};var StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0x0000:"Flash did not fire",0x0001:"Flash fired",0x0005:"Strobe return light not detected",0x0007:"Strobe return light detected",0x0009:"Flash fired, compulsory flash mode",0x000D:"Flash fired, compulsory flash mode, return light not detected",0x000F:"Flash fired, compulsory flash mode, return light detected",0x0010:"Flash did not fire, compulsory flash mode",0x0018:"Flash did not fire, auto mode",0x0019:"Flash fired, auto mode",0x001D:"Flash fired, auto mode, return light not detected",0x001F:"Flash fired, auto mode, return light detected",0x0020:"No flash function",0x0041:"Flash fired, red-eye reduction mode",0x0045:"Flash fired, red-eye reduction mode, return light not detected",0x0047:"Flash fired, red-eye reduction mode, return light detected",0x0049:"Flash fired, compulsory flash mode, red-eye reduction mode",0x004D:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",0x004F:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",0x0059:"Flash fired, auto mode, red-eye reduction mode",0x005D:"Flash fired, auto mode, return light not detected, red-eye reduction mode",0x005F:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function imageHasData(img){return!!(img.exifdata)}function findEXIFinJPEG(file){if(file.getByteAt(0)!=0xFF||file.getByteAt(1)!=0xD8){return false}var offset=2,length=file.getLength(),marker;while(offset<length){if(file.getByteAt(offset)!=0xFF){if(debug)console.log("Not a valid marker at offset "+offset+", found: "+file.getByteAt(offset));return false}marker=file.getByteAt(offset+1);if(marker==22400){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else if(marker==225){if(debug)console.log("Found 0xFFE1 marker");return readEXIFData(file,offset+4,file.getShortAt(offset+2,true)-2)}else{offset+=2+file.getShortAt(offset+2,true)}}}function readTags(file,tiffStart,dirStart,strings,bigEnd){var entries=file.getShortAt(dirStart,bigEnd),tags={},entryOffset,tag,i;for(i=0;i<entries;i++){entryOffset=dirStart+i*12+2;tag=strings[file.getShortAt(entryOffset,bigEnd)];if(!tag&&debug)console.log("Unknown tag: "+file.getShortAt(entryOffset,bigEnd));tags[tag]=readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd)}return tags}function readTagValue(file,entryOffset,tiffStart,dirStart,bigEnd){var type=file.getShortAt(entryOffset+2,bigEnd),numValues=file.getLongAt(entryOffset+4,bigEnd),valueOffset=file.getLongAt(entryOffset+8,bigEnd)+tiffStart,offset,vals,val,n,numerator,denominator;switch(type){case 1:case 7:if(numValues==1){return file.getByteAt(entryOffset+8,bigEnd)}else{offset=numValues>4?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getByteAt(offset+n)}return vals}case 2:offset=numValues>4?valueOffset:(entryOffset+8);return file.getStringAt(offset,numValues-1);case 3:if(numValues==1){return file.getShortAt(entryOffset+8,bigEnd)}else{offset=numValues>2?valueOffset:(entryOffset+8);vals=[];for(n=0;n<numValues;n++){vals[n]=file.getShortAt(offset+2*n,bigEnd)}return vals}case 4:if(numValues==1){return file.getLongAt(entryOffset+8,bigEnd)}else{vals=[];for(var n=0;n<numValues;n++){vals[n]=file.getLongAt(valueOffset+4*n,bigEnd)}return vals}case 5:if(numValues==1){numerator=file.getLongAt(valueOffset,bigEnd);denominator=file.getLongAt(valueOffset+4,bigEnd);val=new Number(numerator/denominator);val.numerator=numerator;val.denominator=denominator;return val}else{vals=[];for(n=0;n<numValues;n++){numerator=file.getLongAt(valueOffset+8*n,bigEnd);denominator=file.getLongAt(valueOffset+4+8*n,bigEnd);vals[n]=new Number(numerator/denominator);vals[n].numerator=numerator;vals[n].denominator=denominator}return vals}case 9:if(numValues==1){return file.getSLongAt(entryOffset+8,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+4*n,bigEnd)}return vals}case 10:if(numValues==1){return file.getSLongAt(valueOffset,bigEnd)/file.getSLongAt(valueOffset+4,bigEnd)}else{vals=[];for(n=0;n<numValues;n++){vals[n]=file.getSLongAt(valueOffset+8*n,bigEnd)/file.getSLongAt(valueOffset+4+8*n,bigEnd)}return vals}}}function readEXIFData(file,start){if(file.getStringAt(start,4)!="Exif"){if(debug)console.log("Not valid EXIF data! "+file.getStringAt(start,4));return false}var bigEnd,tags,tag,exifData,gpsData,tiffOffset=start+6;if(file.getShortAt(tiffOffset)==0x4949){bigEnd=false}else if(file.getShortAt(tiffOffset)==0x4D4D){bigEnd=true}else{if(debug)console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)");return false}if(file.getShortAt(tiffOffset+2,bigEnd)!=0x002A){if(debug)console.log("Not valid TIFF data! (no 0x002A)");return false}if(file.getLongAt(tiffOffset+4,bigEnd)!=0x00000008){if(debug)console.log("Not valid TIFF data! (First offset not 8)",file.getShortAt(tiffOffset+4,bigEnd));return false}tags=readTags(file,tiffOffset,tiffOffset+8,TiffTags,bigEnd);if(tags.ExifIFDPointer){exifData=readTags(file,tiffOffset,tiffOffset+tags.ExifIFDPointer,ExifTags,bigEnd);for(tag in exifData){switch(tag){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":exifData[tag]=StringValues[tag][exifData[tag]];break;case"ExifVersion":case"FlashpixVersion":exifData[tag]=String.fromCharCode(exifData[tag][0],exifData[tag][1],exifData[tag][2],exifData[tag][3]);break;case"ComponentsConfiguration":exifData[tag]=StringValues.Components[exifData[tag][0]]+StringValues.Components[exifData[tag][1]]+StringValues.Components[exifData[tag][2]]+StringValues.Components[exifData[tag][3]];break}tags[tag]=exifData[tag]}}if(tags.GPSInfoIFDPointer){gpsData=readTags(file,tiffOffset,tiffOffset+tags.GPSInfoIFDPointer,GPSTags,bigEnd);for(tag in gpsData){switch(tag){case"GPSVersionID":gpsData[tag]=gpsData[tag][0]+"."+gpsData[tag][1]+"."+gpsData[tag][2]+"."+gpsData[tag][3];break}tags[tag]=gpsData[tag]}}return tags}function getData(img,callback){if(!img.complete)return false;if(!imageHasData(img)){getImageData(img,callback)}else{if(callback){callback.call(img)}}return true}function getTag(img,tag){if(!imageHasData(img))return;return img.exifdata[tag]}function getAllTags(img){if(!imageHasData(img))return{};var a,data=img.exifdata,tags={};for(a in data){if(data.hasOwnProperty(a)){tags[a]=data[a]}}return tags}function pretty(img){if(!imageHasData(img))return"";var a,data=img.exifdata,strPretty="";for(a in data){if(data.hasOwnProperty(a)){if(typeof data[a]=="object"){if(data[a]instanceof Number){strPretty+=a+" : "+data[a]+" ["+data[a].numerator+"/"+data[a].denominator+"]\r\n"}else{strPretty+=a+" : ["+data[a].length+" values]\r\n"}}else{strPretty+=a+" : "+data[a]+"\r\n"}}}return strPretty}function readFromBinaryFile(file){return findEXIFinJPEG(file)}function BinaryFile(strData,iDataOffset,iDataLength){var data=strData;var dataOffset=iDataOffset||0;var dataLength=0;this.getRawData=function(){return data};if(typeof strData=="string"){dataLength=iDataLength||data.length;this.getByteAt=function(iOffset){return data.charCodeAt(iOffset+dataOffset)&0xFF};this.getBytesAt=function(iOffset,iLength){var aBytes=[];for(var i=0;i<iLength;i++){aBytes[i]=data.charCodeAt((iOffset+i)+dataOffset)&0xFF}return aBytes}}else if(typeof strData=="unknown"){dataLength=iDataLength||IEBinary_getLength(data);this.getByteAt=function(iOffset){return IEBinary_getByteAt(data,iOffset+dataOffset)};this.getBytesAt=function(iOffset,iLength){return new VBArray(IEBinary_getBytesAt(data,iOffset+dataOffset,iLength)).toArray()}}this.getLength=function(){return dataLength};this.getSByteAt=function(iOffset){var iByte=this.getByteAt(iOffset);if(iByte>127)return iByte-256;else return iByte};this.getShortAt=function(iOffset,bBigEndian){var iShort=bBigEndian?(this.getByteAt(iOffset)<<8)+this.getByteAt(iOffset+1):(this.getByteAt(iOffset+1)<<8)+this.getByteAt(iOffset);if(iShort<0)iShort+=65536;return iShort};this.getSShortAt=function(iOffset,bBigEndian){var iUShort=this.getShortAt(iOffset,bBigEndian);if(iUShort>32767)return iUShort-65536;else return iUShort};this.getLongAt=function(iOffset,bBigEndian){var iByte1=this.getByteAt(iOffset),iByte2=this.getByteAt(iOffset+1),iByte3=this.getByteAt(iOffset+2),iByte4=this.getByteAt(iOffset+3);var iLong=bBigEndian?(((((iByte1<<8)+iByte2)<<8)+iByte3)<<8)+iByte4:(((((iByte4<<8)+iByte3)<<8)+iByte2)<<8)+iByte1;if(iLong<0)iLong+=4294967296;return iLong};this.getSLongAt=function(iOffset,bBigEndian){var iULong=this.getLongAt(iOffset,bBigEndian);if(iULong>2147483647)return iULong-4294967296;else return iULong};this.getStringAt=function(iOffset,iLength){var aStr=[];var aBytes=this.getBytesAt(iOffset,iLength);for(var j=0;j<iLength;j++){aStr[j]=String.fromCharCode(aBytes[j])}return aStr.join("")};this.getCharAt=function(iOffset){return String.fromCharCode(this.getByteAt(iOffset))};this.toBase64=function(){return window.btoa(data)};this.fromBase64=function(strBase64){data=window.atob(strBase64)}}return{findEXIFinJPEG:findEXIFinJPEG,pretty:pretty,getTag:getTag,getAllTags:getAllTags,getData:getData,Tags:ExifTags,TiffTags:TiffTags,GPSTags:GPSTags,StringValues:StringValues,BinaryFile:BinaryFile}})();
(function(){function detectSubsampling(img){var iw=img.naturalWidth,ih=img.naturalHeight;if(iw*ih>1024*1024){var canvas=document.createElement('canvas');canvas.width=canvas.height=1;var ctx=canvas.getContext('2d');ctx.drawImage(img,-iw+1,0);return ctx.getImageData(0,0,1,1).data[3]===0}else{return false}}function detectVerticalSquash(img,iw,ih){var canvas=document.createElement('canvas');canvas.width=1;canvas.height=ih;var ctx=canvas.getContext('2d');ctx.drawImage(img,0,0);var data=ctx.getImageData(0,0,1,ih).data;var sy=0;var ey=ih;var py=ih;while(py>sy){var alpha=data[(py-1)*4+3];if(alpha===0){ey=py}else{sy=py}py=(ey+sy)>>1}var ratio=(py/ih);return(ratio===0)?1:ratio}function renderImageToDataURL(img,options){var canvas=document.createElement('canvas');renderImageToCanvas(img,canvas,options);return canvas.toDataURL("image/jpeg",options.quality||0.8)}function renderImageToCanvas(img,canvas,options){var iw=img.naturalWidth,ih=img.naturalHeight;var width=options.width,height=options.height;var ctx=canvas.getContext('2d');ctx.save();transformCoordinate(canvas,width,height,options.orientation);var subsampled=detectSubsampling(img);if(subsampled){iw/=2;ih/=2}var d=1024;var tmpCanvas=document.createElement('canvas');tmpCanvas.width=tmpCanvas.height=d;var tmpCtx=tmpCanvas.getContext('2d');var vertSquashRatio=detectVerticalSquash(img,iw,ih);var dw=Math.ceil(d*width/iw);var dh=Math.ceil(d*height/ih/vertSquashRatio);var sy=0;var dy=0;while(sy<ih){var sx=0;var dx=0;while(sx<iw){tmpCtx.clearRect(0,0,d,d);tmpCtx.drawImage(img,-sx,-sy);ctx.drawImage(tmpCanvas,0,0,d,d,dx,dy,dw,dh);sx+=d;dx+=dw}sy+=d;dy+=dh}ctx.restore();tmpCanvas=tmpCtx=null}function transformCoordinate(canvas,width,height,orientation){switch(orientation){case 5:case 6:case 7:case 8:canvas.width=height;canvas.height=width;break;default:canvas.width=width;canvas.height=height}var ctx=canvas.getContext('2d');switch(orientation){case 2:ctx.translate(width,0);ctx.scale(-1,1);break;case 3:ctx.translate(width,height);ctx.rotate(Math.PI);break;case 4:ctx.translate(0,height);ctx.scale(1,-1);break;case 5:ctx.rotate(0.5*Math.PI);ctx.scale(1,-1);break;case 6:ctx.rotate(0.5*Math.PI);ctx.translate(0,-height);break;case 7:ctx.rotate(0.5*Math.PI);ctx.translate(width,-height);ctx.scale(-1,1);break;case 8:ctx.rotate(-0.5*Math.PI);ctx.translate(-width,0);break;default:break}}function MegaPixImage(srcImage){if(srcImage instanceof Blob){var img=new Image();var URL=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!URL){throw Error("No createObjectURL function found to create blob url");}img.src=URL.createObjectURL(srcImage);srcImage=img}if(!srcImage.naturalWidth&&!srcImage.naturalHeight){var _this=this;srcImage.onload=function(){var listeners=_this.imageLoadListeners;if(listeners){_this.imageLoadListeners=null;for(var i=0,len=listeners.length;i<len;i++){listeners[i]()}}};this.imageLoadListeners=[]}this.srcImage=srcImage}MegaPixImage.prototype.render=function(target,options){if(this.imageLoadListeners){var _this=this;this.imageLoadListeners.push(function(){_this.render(target,options)});return}options=options||{};var imgWidth=this.srcImage.naturalWidth,imgHeight=this.srcImage.naturalHeight,width=options.width,height=options.height,maxWidth=options.maxWidth,maxHeight=options.maxHeight;if(width&&!height){height=(imgHeight*width/imgWidth)<<0}else if(height&&!width){width=(imgWidth*height/imgHeight)<<0}else{width=imgWidth;height=imgHeight}if(maxWidth&&width>maxWidth){width=maxWidth;height=(imgHeight*width/imgWidth)<<0}if(maxHeight&&height>maxHeight){height=maxHeight;width=(imgWidth*height/imgHeight)<<0}var opt={width:width,height:height};for(var k in options)opt[k]=options[k];var tagName=target.tagName.toLowerCase();if(tagName==='img'){target.src=renderImageToDataURL(this.srcImage,opt)}else if(tagName==='canvas'){renderImageToCanvas(this.srcImage,target,opt)}if(typeof this.onrender==='function'){this.onrender(target)}};if(typeof define==='function'&&define.amd){define([],function(){return MegaPixImage})}else{this.MegaPixImage=MegaPixImage}})();
/*
Copyright (c) 2001, 2013 Alpha Software Corporation
All Rights Reserved.
This Javascript library is licensed exclusively for use with Alpha Anywhere, Alpha Five,
Alpha Five Application Server, Alpha Anywhere Application Server,
Alpha Five Run Engine, and Alpha Anywhere Run Engine. It is specifically
not licensed for use on a server that does not have installed on it a
licensed copy of the Alpha Five Application Server or the Alpha Anywhere Application Server.
*/
	DLG1_DlgObj.imageCaptureUsingCamera = function(options) { 
		options.specialMode = 'callback';
		this.detailViewImageCapture(options);
	}
	DLG1_DlgObj.detailViewImageCapture = function(options) {
		if(typeof options.specialMode == 'undefined') options.specialMode = 'detailview';
		var flagPhoneGapLoaded = false;
		var flagUseCordova = false;
		if (typeof window['cordova'] != 'undefined') {
			flagPhoneGapLoaded = true;
			if(options.captureMethod == 'phonegappreferred' || options.captureMethod == 'phonegap') {
				flagUseCordova = true;
			}
		}
		if(options.captureMethod == 'phonegap' && flagPhoneGapLoaded == false) { 
			alert('PhoneGap not available'); return false;
		}
		if(!flagUseCordova) {
			this.detailViewImageCaptureHTML5(options);
		} else {
			this.detailViewImageCapturePhoneGap(options);
		}
	}
	DLG1_DlgObj.detailViewImageCaptureHTML5 = function(options) { 
		if(typeof options.specialMode == 'undefined') options.specialMode = 'detailview';
		if(options.onBeforeCaptureJavascript) {
			var result = options.onBeforeCaptureJavascript.call();
			if(typeof result != 'undefined') { 
				if(!result) return false;
			}
		}
		if(A5.flags.isAndroid == false) {
			if(A5.flags.isIPhone || A5.flags.isIPad){
				if (typeof A5.flags.iOSVersion != 'undefined') {
					var majorNum = A5.flags.iOSVersion.split('.')[0];
					if(parseInt(majorNum) < 6) { 
						alert('HTML5 camera access not supported on this version of iOS');
						return false;
					}
				}
			}
		}
		if(A5.u.css.supportsTransition == false) {
			alert('Browser does not support HTML5 camera access');
			return false;
		}
		if(typeof options.resizePolicyHTML5 == 'undefined') options.resizePolicyHTML5 = 'Always';
		options.resizePolicyHTML5 = options.resizePolicyHTML5.toLowerCase();
		if(options.resizePolicyHTML5 != 'always') { 
			var maxSize = 99999999999;
			if(typeof options.maxImageSizeHTML5 != 'undefined') maxSize = Number(options.maxImageSizeHTML5);
		}
		//if(typeof options.resizeImageHTML5 == 'undefined') options.resizeImageHTML5 = true;
		var ops = {};
		ops.dialogObj = this;
		if(options.specialMode == 'callback' ) { 
			options.controlName = '';
		}
	 	ops.targetImage = options.controlName;
	 	ops.targetImage = ops.targetImage.toUpperCase();
	 	ops.html5 = {};
	 	ops.html5.resizeFlag = options.resizeImageHTML5;
	 	ops.html5.compressionFactor = options.imageCompressionHTML5;
	 	ops.html5.maxWidth = options.maxImageWidth;
	 	ops.html5.maxHeight = options.maxImageHeight;
	 	ops.fieldPrefix = this.dialogId + '.V.R1';
	 	ops.imageFieldName = (ops.fieldPrefix + '.' + ops.targetImage).toUpperCase();
	 	ops.hiddenFileName =  (ops.fieldPrefix + '.' + ops.targetImage + '_HIDDENA5FN').toUpperCase();
 		ops.handleFileSelect = function(evt) {
			// creates a FileList object
			var files = evt.target.files;
			// Even if multiple files are presented, only the first file will be uploaded.
			if (!files.length){
				// alerts should be ok here when fired by a timer
				setTimeout(function(){
					//alert('No files selected.');
				},50);	
				return false;
			} else {
				// we're processing only 1 file at this point	
				var f = files[0];
				ops.updateImage(f);
			}
		}
		// add listener to hidden file input control with id of {DLG1._GETPHOTO
		if (typeof(this._getPhotoEventListenerLoaded) === 'undefined'){
			// only add this event listener once
			this._getPhotoEventListenerLoaded = true;
			$(this.dialogId  + '._GETPHOTO').addEventListener('change',ops.handleFileSelect,false);
		}
		ops.updateImage = function(_thisFile) {
			var _sourceFileName = _thisFile.name;
			var _thisImageName = ops.imageFieldName;
			var _thisImage = $(_thisImageName);
			var reader = new FileReader();
			reader.onload = function(e) {
				var flagResize = false;
				if(options.resizePolicyHTML5 == 'always') {
					flagResize = true;
				} else { 
					if(e.target.result.length > maxSize) { 
						flagResize = true;
					}
				}
				if(!flagResize) { 
					//not resizing
					if(options.specialMode == 'detailview') { 
						_thisImage.src = e.target.result;
						var eleH = $(ops.hiddenFileName);
						if(eleH) eleH.src = _thisImage.src;
						$sa(eleH,'a5isdirty','true');
						$sa(eleH,'a5imageSourceName',_sourceFileName);
						ops.dialogObj.refreshClientSideComputations();
						if(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result});
					} else { 
						options.onCaptureJavascript.call(this, {data : e.target.result});
					}
				} else {
					//resizing
					if(options.displaySpinnerWhileResizingImage) {
						_thisImage.src = options.spinnerURI.replace(/\|/gi,'/');
					}
					var _orientation = ops.parseExifOrientation(e.target.result);
					ops.renderImgToCanvas(_thisFile,_orientation,_sourceFileName);
				}
			}
			reader.onerror = function(e) {
				setTimeout(function(){
				alert('Error reading file.');
				},0);	
			}
			reader.readAsDataURL(_thisFile);
		}
		ops.parseExifOrientation = function(dataUrl) {
			try {
				var _byteString = atob(dataUrl.split(',')[1]);
				var _binaryFile = new EXIF.BinaryFile(_byteString, 0, _byteString.length);
				var _exif = EXIF.findEXIFinJPEG(_binaryFile);
				// Store EXIF orientation (if available) in data property.
				if (_exif && _exif['Orientation']) {
					return _exif['Orientation'];
				} else {
					return null;
				}
			} catch (e) {
				// Error parsing EXIF data.
				console.log('Error loading EXIF data', e);
			}
		}
		ops.renderImgToCanvas = function(_file,_orientation,_sourceFileName) {
			// using megapix-image.js here which handles(?) sub-sampling issue with large images and Canvas on iOS6 Safari
			var mpImg = new MegaPixImage(_file);
			mpImg.onrender = function(){
				// this timeout required to ensure _thisCanvas render complete
				setTimeout(function(){
					var dataURL = _thisCanvas.toDataURL('image/jpeg', ops.html5.compressionFactor);
					//alert('html5 size after resizing image:' + dataURL.length);
					if(options.specialMode == 'detailview') { 
						var ele = $(ops.imageFieldName);
						//put the scaled image in the element
						ele.src = dataURL;
						var eleH = $(ops.hiddenFileName);
						if(eleH) eleH.src = dataURL;
						$sa(eleH,'a5isdirty','true');
						$sa(eleH,'a5imageSourceName',_sourceFileName);
						ops.dialogObj.refreshClientSideComputations();
						if(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : dataURL});
					} else { 						
						options.onCaptureJavascript.call(this, {data : dataURL});
					}
				},0);
			}
			var _thisCanvas = document.createElement('canvas');
			var ctx = _thisCanvas.getContext('2d');
			// adjust based on extracted _orientation
			if (_orientation) {
				mpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight, orientation:_orientation});	
			} else {
				mpImg.render(_thisCanvas,{maxWidth: ops.html5.maxWidth, maxHeight:ops.html5.maxHeight});	
			}
		}
		//click the hidden image control
		var ele = $(this.dialogId + '._GETPHOTO');
		if (ele) { 
			ele.value = '';
			ele.click();
		}
	}
	DLG1_DlgObj.detailViewImageCapturePhoneGap =  function(options) { 
		if(options.onBeforeCaptureJavascript) {
			var result = options.onBeforeCaptureJavascript.call();
			if(typeof result != 'undefined') { 
				if(!result) return false;
			}
		}
		if (typeof window['cordova'] == 'undefined') {
			alert('PhoneGap not loaded');
			return false;
		}
		if(typeof options.imageSelectionCanceledMessage == 'undefined') options.imageSelectionCanceledMessage = 'Image Selection Canceled';
		if(typeof options.imageSelectionCanceledButton == 'undefined') options.imageSelectionCanceledButton = 'Done';
		if(typeof options.cameraCanceledMessage == 'undefined') options.cameraCanceledMessage = 'Camera Action Canceled';
		if(typeof options.cameraCanceledButton == 'undefined') options.cameraCanceledButton = 'Done';
		var maxSize = -1;
		if(typeof options.maxImageSizePhoneGap != 'undefined') maxSize = Number(options.maxImageSizePhoneGap);
		if(maxSize == -1) maxSize = 9999999999;
		if(typeof options.specialMode == 'undefined') options.specialMode = 'detailview';
		var ops = {};
		ops.dialogObj = this;
		if(options.specialMode == 'callback') { 
			options.controlName = '';
		}
		ops.targetImage = options.controlName.toUpperCase();
		ops.cordova = {};
		ops.cordova.pictureSourceVal = options.pictureSourceVal;
		ops.cordova.imageQuality = options.imageQualityPhonegap;
		ops.cordova.allowEdit = options.allowEdit
		ops.cordova.targetWidth = options.maxImageWidth;
		ops.cordova.targetHeight = options.maxImageHeight;
		ops.cordova.saveToPhotoAlbum = options.saveToPhotoAlbum
		ops.cordova.iPadEleId = '';
		ops.fieldPrefix = this.dialogId + '.V.R1';
		ops.imageFieldName = (ops.fieldPrefix + '.' + ops.targetImage).toUpperCase(); 
		ops.hiddenFileName = (ops.fieldPrefix + '.' + ops.targetImage + '_HIDDENA5FN').toUpperCase();
		ops.onCameraSuccess = function(imageURI) { 
			// Request a Filesystem object  
			//alert('imageURI:' + imageURI);
			window.resolveLocalFileSystemURL(imageURI,ops.fsOK,ops.fsError); 	
		}
		ops.onImageSelectFail = function(msg) {
			navigator.notification.alert(msg,null,options.imageSelectionCanceledMessage,options.imageSelectionCanceledButton);
		}
		ops.onCameraCaptureFail = function(msg) {
			navigator.notification.alert(msg,null,options.cameraCanceledMessage,options.cameraCanceledButton);
		}
		ops.fsOK = function(fileEntry) {
			// HTML5 File system available as fileEntry
			// Using standard HTML5 file handling here
			// get fileEntry URL for upload
			var thisImageURL = fileEntry.toURL();
			fileEntry.file(function(file){
				var reader = new FileReader();
				reader.onloadend = function(e) {
					// this is Base64 encoded
					if(options.specialMode == 'detailview') { 
						var ele = $(ops.imageFieldName);
						if(ele) ele.src = e.target.result;
						var eleH = $(ops.hiddenFileName);
						if(eleH) eleH.src = e.target.result;
						$sa(eleH,'a5isdirty','true');
						ops.dialogObj.refreshClientSideComputations();
						if(options.onCaptureJavascript) options.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL});
					} else { 
						options.onCaptureJavascript.call(this, {data : e.target.result, fileSystemURL: fileEntry.nativeURL});
					}
				};
				reader.onerror = function(e) {
				navigator.notification.alert('File reader error');
			};
			reader.readAsDataURL(file);
			},function(error) {
				navigator.notification.alert('Image file read error');
			}
		);
		}
		ops.fsError = function() {
			navigator.notification.alert('Local File system unavailable.');
		}
		// Calculate positioning for iPad popup menu if applicable
		var cordovaPopoverOptions = null;
			if (ops.cordova.iPadEleId.length > 0) {
			var ele = $(ops.cordova.iPadEleId);
			if (ele) {
				var rect = ele.getBoundingClientRect();
				var x = rect.left;
				var y = rect.top;
				var w = rect.right - rect.left;
				var h = rect.bottom - rect.top;
				cordovaPopoverOptions = new CameraPopoverOptions(x,y,w,h,15);
			}
		}			
		// These options define all of the objects functionality
		var cordovaOptions = {
			quality: ops.cordova.imageQuality,
			allowEdit: ops.cordova.allowEdit,
			sourceType: ops.cordova.pictureSourceVal,
			correctOrientation: true,
			destinationType: 1,
			targetWidth: ops.cordova.targetWidth,
			targetHeight: ops.cordova.targetHeight,
			saveToPhotoAlbum:ops.cordova.saveToPhotoAlbum,
			popoverOptions: cordovaPopoverOptions
		}
		if (cordovaOptions.sourceType != 1) {
			cordovaOptions.saveToPhotoAlbum = false;
			navigator.camera.getPicture(ops.onCameraSuccess, ops.onImageSelectFail,cordovaOptions);
		} else {
			navigator.camera.getPicture(ops.onCameraSuccess, ops.onCameraCaptureFail,cordovaOptions);
		}
	}
	DLG1_DlgObj._abortS3Upload = function(__guid,number,rowId) { 
		var arrS3 = DLG1_DlgObj.__CORSUploads[__guid]['arrS3'];
		var options = DLG1_DlgObj.__CORSUploads[__guid]['options'];
		var _dlgObj = DLG1_DlgObj;
		var _xhr = arrS3[number].xhr;
		_xhr.abort();
		arrS3[number].aborted = true;
		if(typeof rowId != 'undefined') {
			var ele = $(rowId);
			if(ele) ele.style.display = 'none';
		}
		//uploadCompleteFunction
		var ops = DLG1_DlgObj.__CORSUploads[__guid]['ops'];
		//fire the onComplete events 
		var flagAllCompleted = false;
		var c = 0;
		for(var i = 0; i < arrS3.length; i++) { 
			if(arrS3[i].completed == true || arrS3[i].aborted == true) c = c+1;
		}
		if(c == arrS3.length) flagAllCompleted = true;
		var f = arrS3[number];
		var e = { 
			name: f.name,
			type: f.type,
			size: f.size,
			aborted: f.aborted,
			number: number,
			fileArray: arrS3,
			targetName: arrS3[number].targetName
		}
		options.onCompleteFile(e);
		if(flagAllCompleted) { 
			options.onCompleteAllFiles(e);
			if(options.displayProgress) {
				var eleP = $(_dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder);
				if(eleP) eleP.style.display = 'none';
			}
			delete DLG1_DlgObj.__CORSUploads[__guid];
		}		
		//end onComplete events
	}
	/////////////////////////////////////////////////////////////////////////
	DLG1_DlgObj.fileUploadAmazonS3 = function(options) { 
		var eleB = '';
		var _dlgObj = this;
		var _part = options.part;
		delete ops;
		var ops = {};
		if(typeof options.onBeforeFileSelect == 'function') { 
			var result = options.onBeforeFileSelect();
			if(typeof result != 'undefined') { 
				if(!result) return false;
			}
		}
		ops.formatNum = function(num) { 
			var suffix = 'Kb';
		 	if(num >= 1000000) {
		 		num = num/1000000;
		 		suffix = 'Mb';
			} else if(num >= 1000) { 
			 	num = num / 1000;
			 	suffix = 'Kb';
			} else { 
			   suffix = 'bytes'
			  }
			num = Math.round(num * 100) / 100;
			num = Number(num);
			return (num).toLocaleString() + suffix;
		}
		ops.setProgress = function(percent,message,objS3) { 	
			//fire system onProgress events
			if(options.displayProgress) { 
				var i = objS3.number;
				//id_i = _dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder + '.' + (i+1);
				id_i = options.resolvedProgressPlaceholder + '.' + (i+1);
				var ep = $(id_i);
				if(ep) {
					if(options.progressStyle == 'text') ep.innerHTML = percent + '%';
					else ep.style.width = percent + '%';
				}
			}
			var e = { 
				percent: percent,
				message: message,
				name: objS3.name,
				targetName: objS3.targetName,
				number: objS3.number,
				size: objS3.size,
				type: objS3.type
			}
			if(typeof objS3.userProgressFunction == 'function') objS3.userProgressFunction(e);;
		}
		ops.createCORSRequest = function(method, url) {
  			var xhr = new XMLHttpRequest();
			 // "withCredentials" only exists on XHR2 objects
  			if ("withCredentials" in xhr) {
  				try {
    				xhr.open(method, url, true);
    			} catch(err) {
    				alert('XHR error - could not open XHR object. This action is not supported in Working Preview if you are using Internet Explorer.');
    				return false;
    			}
			} else if (typeof XDomainRequest != "undefined") {
			    // XDomainRequest only exists in IE
    			xhr = new XDomainRequest();
			    xhr.open(method, url);
  			} else {
			  	// CORS not supported by this browser
    			xhr = null;
			  }
		  return xhr;
		}
		ops.uploadToS3 = function(file, url, objS3) {
			var xhr = ops.createCORSRequest('PUT', url);
			if (!xhr) {
				//ops.setProgress(0, 'CORS not supported',objS3);
				if(typeof objS3.onError == 'function') objS3.onError({errorText: 'CORS not supported', errorCode: -1, fileObject: objS3});
			  	else alert('CORS not supported');
			} else {
			//capture the xhr object so you can call cancel
			objS3.arrS3[objS3.number].xhr = xhr;
			xhr.onload = function() {
			  if(xhr.status == 200) {
				ops.setProgress(100, 'Upload completed.',objS3);
				//file number is available in objS3.number
				objS3.uploadCompleteFunction.call(objS3);
			  } else {
				//ops.setProgress(0, 'Upload error: ' + xhr.status);
				if(typeof objS3.onError == 'function') objS3.onError({errorText: 'Upload error', errorCode: xhr.status, fileObject: objS3});
			  	else alert('XHR error');
			  }
			};
			xhr.onerror = function() {
			  //ops.setProgress(0, 'XHR error.');
			  if(typeof objS3.onError == 'function') objS3.onError({errorText: 'XHR Error', errorCode: xhr.status, fileObject: objS3});
			  else alert('XHR error');
			};
			xhr.upload.onprogress = function(e) {
			  if (e.lengthComputable) {
				var percentLoaded = Math.round((e.loaded / e.total) * 100);
				ops.setProgress(percentLoaded, percentLoaded == 100 ? 'Finalizing.' : 'Uploading.',objS3);
			  }
			};
			xhr.setRequestHeader('Content-Type', file.type);
			if(!objS3.authenticatedRead) { 
				xhr.setRequestHeader('x-amz-acl', 'public-read');
			} else { 
				xhr.setRequestHeader('x-amz-acl', 'authenticated-read');
			}
			xhr.send(file);
			}
		}
		ops.handleFileSelect = function(evt) {
			delete arrS3;
			var arrS3 = [];
			ops.__guid = Number(new Date());
			var __guid = ops.__guid;
			DLG1_DlgObj.__CORSUploads = {};
			DLG1_DlgObj.__CORSUploads[__guid] = {};
			DLG1_DlgObj.__CORSUploads[__guid]['arrS3'] = arrS3;
			DLG1_DlgObj.__CORSUploads[__guid]['ops'] = ops;
			DLG1_DlgObj.__CORSUploads[__guid]['options'] = options;
			var files = evt.target.files;
			var f = '';
			var data = '';
			var targetName = '';
			var newTargetName = '';
			arrS3.length = 0;
			for(var i = 0; i < files.length; i++) { 
				f = files[i];
				delete obji;
				var obji = {
					number: i, 
					name: f.name,
					size: f.size,
					type: f.type,
					file: f,
					completed: false,
					aborted: false
				}
				arrS3.push(obji)
			}
			var __guid = ops.__guid;
			//validate file selection -------------------------------------
			var totalSize = 0;
			if(typeof options.maxFileSize == 'undefined') options.maxFileSize = -1;
			var maxSize = options.maxFileSize;
			if(maxSize == -1) maxSize = 999999999999999;
			if(typeof options.maxFileSizeTotal == 'undefined') options.maxFileSizeTotal = -1;
			var maxSizeTotal = options.maxFileSizeTotal;
			if(maxSizeTotal == -1) maxSizeTotal = 999999999999999;
			if(typeof options.allowedFileTypes == 'undefined') options.allowedFileTypes = '';
			var fileMsg = options.customization.maxFileSize;
			var fileTotalMsg = options.customization.totalFileSize;
			var typeMsg = options.customization.fileType;
			var flagHasValidationFunction = false;
			if(typeof options.onValidationError == 'function') flagHasValidationFunction = true;
			for(var i = 0; i < arrS3.length; i++) { 
				totalSize = totalSize + arrS3[i].size;
				//check size
				if(arrS3[i].size > maxSize) { 
					if(flagHasValidationFunction) { 
						options.onValidationError({violationType: 'size', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});
					} else { 
						if(typeof fileMsg != 'undefined' && fileMsg != '') {
							var msg = fileMsg;
							var e = arrS3[i];
							msg = msg.replace('[filename]',e.name);
							msg = msg.replace('[filesize]','' + e.size);
							msg = msg.replace('[maxfilesize]','' + maxSize);
							alert(msg);
						} else {
							alert('File exceeds maximum allowed size of ' + maxSize);
						}
					}
					return false;
				}
				//check type
				if(options.allowedFileTypes != '') { 
					var arrT = options.allowedFileTypes.split(',');
					for(var i2 = 0; i2 < arrT.length; i2++ ) { 
						arrT[i2] =   $u.s.aTrim(arrT[i2].toLowerCase());
						arrT[i2] = arrT[i2].replace('.','');
					}
					var ext = arrS3[i].name.split('.');
					ext = ext[ext.length -1];
					ext = ext.toLowerCase();
					var ia = $u.a.find(arrT,ext);
					if(ia == -1) { 
						if(flagHasValidationFunction) { 
							options.onValidationError({violationType: 'type', name: arrS3[i].name, size: arrS3[i].size, type: arrS3[i].type});
						} else { 
							if(typeof typeMsg != 'undefined' && typeMsg != '') {
								var msg = typeMsg;
								var e = arrS3[i];
								msg = msg.replace('[filename]',e.name);
								msg = msg.replace('[filetype]',ext);
								alert(msg);
							} else {
								alert('Invalid file type ' + ext);
							}
						}
						return false;
					}
				}
			}
			//check total size
			if(totalSize > maxSizeTotal) { 
				//Selected files ([filecount] files, total size [totalfilesize]) exceed the maximum allowed total file size of [maxtotalfilesize].
				if(flagHasValidationFunction) { 
					options.onValidationError({violationType: 'totalSize', totalSize: totalSize, maxSizeTotal: maxSizeTotal});
				} else { 
					if(typeof fileTotalMsg != 'undefined' && fileTotalMsg != '') {
						var msg = fileTotalMsg;
						var e = arrS3[i];
						msg = msg.replace('[filecount]',arrS3.length);
						msg = msg.replace('[totalfilesize]','' + totalSize);
						msg = msg.replace('[maxtotalfilesize]','' + maxSizeTotal);
						alert(msg);
					} else {
						alert('Files exceeds maximum allowed size of ' + maxSizeTotal);
					}
				}
				return false;
			}
			//end validate file selection
			if(typeof options.onAfterFilesSelect == 'function') { 
				var result = options.onAfterFilesSelect(arrS3);
				if(typeof result != 'undefined') { 
					if(!result) return false;
				}
			}
			ops.__handleFileSelectLow(files,__guid,arrS3)			
		}
		ops._generatePlaceholderId = function() {
			var txt = options.progressDisplayPlaceholder;
			var flagDV = false;
			if(typeof options.__dv != 'undefined') flagDV = options.__dv;
			var num = txt.split('.')[1];
			if(!flagDV) {
				var eleId = _dlgObj.gridId + '.V.R'+options.rowNumber+'._UNBOUND_STATICTEXT_' + num;
			} else {
				var eleId = _dlgObj.gridId + '.D.V.R'+options.rowNumber+'._UNBOUND_STATICTEXT_' + num;
			}
			return eleId;
		}
		ops.__handleFileSelectLow = function(files,__guid,arrS3) { 
			if(options.displayProgress) { 
				options.resolvedProgressPlaceholder = _dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder
				var eleP = $(options.resolvedProgressPlaceholder);
				if(options.part == 'grid') { 
					options.resolvedProgressPlaceholder = this._generatePlaceholderId()
					var eleP = $(options.resolvedProgressPlaceholder);
				}
				if(eleP) { 
					eleP.style.display = '';
					var arrH = [];
					var id_i = '';
					var id_row_i = '';
					var html = '';
					var html_i = '';
					var spanTxt = '';
					var flagAllowCancel = options.allowCancel;
					if(typeof flagAllowCancel == 'undefined') flagAllowCancel = false;
					if(typeof options.progressStyle == 'undefined') options.progressStyle = 'bar';
					if(options.progressStyle == 'text') {
						for(var i = 0; i < arrS3.length; i++) {
							//id_i = _dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder + '.' + (i+1);
							id_i = options.resolvedProgressPlaceholder + '.' + (i+1);
							id_row_i = id_i + '.ROW';
							html_i = '';
							html_i += '<tr id="'+id_row_i+'">';
							if(flagAllowCancel) { 
								html_i += '<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="DLG1_DlgObj._abortS3Upload(\''+__guid+'\','+i+',\''+id_row_i+'\');">X</div></td>';
							}
							html_i +='<td><div>' + arrS3[i].name + ' (' + ops.formatNum(arrS3[i].size) + ') <span id='+id_i+'></span> </div></td>';
							html_i +='</tr>'
							arrH.push(html_i)
						}
						html = arrH.join('');
						html = '<table>' + html + '</table>'
					} else if (options.progressStyle == 'bar') { 
						html_i = '';
						if(typeof options.progressBarColor == 'undefined') options.progressBarColor = '#9fa1e8';
						if(typeof options.progressBarWidth == 'undefined') options.progressBarWidth = '1.5in';
						var color = options.progressBarColor
						var width = options.progressBarWidth;
						for(var i = 0; i < arrS3.length; i++) {
							//id_i = _dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder + '.' + (i+1);
							id_i = options.resolvedProgressPlaceholder + '.' + (i+1);
							id_row_i = id_i + '.ROW';
							html_i = '';
							html_i += '<tr id="'+id_row_i+'">';
							html_i += '<td>' + arrS3[i].name + ' (' + ops.formatNum(arrS3[i].size) + ')</td>';
							html_i += '<td><div style="border: solid 1px '+color+'; width: '+width+';">';
							html_i += '<div id="'+id_i+'"style="width: 0%; height: .05in;  background-color:'+color+';"></div></div></td>';
							if(flagAllowCancel) { 
								html_i += '<td><div style="cursor:pointer;padding: 5px;" title="Cancel upload" onclick="DLG1_DlgObj._abortS3Upload(\''+__guid+'\','+i+',\''+id_row_i+'\');">X</div></td>';
							}
							html_i += '</tr>';
							arrH.push(html_i);
						}
						html = arrH.join('');
						html = '<table>' + html + '</table>'
					}
					eleP.innerHTML = html;
				}
			}
			for(var i = 0; i < files.length; i++) { 
				var f = files[i];
				var dataA = [];
				dataA.push('_mimeType=' + f.type);
				targetName = f.name;
				if(typeof options.targetName == 'function') { 
					newTargetName = options.targetName( f  );
					if(typeof newTargetName != 'undefined') {
						if(newTargetName != '') targetName = newTargetName;
					}
				}
				arrS3[i].targetName = targetName;
				dataA.push('_name=' + urlencode(targetName));  //name of object in S3
				dataA.push('_number=' + i);
				if(options.specifyCredentials == 'Explicit') { 
					dataA.push('_xbasicFunctionNameForPropertyValues=' + options.xbasicFunctionName);
					dataA.push('_method=explicit');
				} else { 
					dataA.push('_namedStorageConnectionString=' + options.connectionString);
					dataA.push('_method=connectionString');
				}
				dataA.push('_authenticatedRead=' + options.authenticatedRead);
				dataA.push('_part=' + options.part);
				data = dataA.join('&');
				if(typeof options.userProgressFunction == 'undefined') options.userProgressFunction = function(e) {};
				if(typeof options.onCompleteAllFiles == 'undefined') options.onCompleteAllFiles = function(e) {};
				if(typeof options.onCompleteFile == 'undefined') options.onCompleteFile = function(e) { };
				var obj = { 
					//ajax callback to sign url onComplete
					onComplete: function() { 
						var signedURL = decodeURIComponent(_dlgObj._fileCodedURL);
						var num = _dlgObj._fileCodedURLNum;
						var fi = arrS3[num].file;
						delete objS3;
						var objS3 = { 
							uploadCompleteFunction: function() { 
								this.arrS3[this.number].completed = true;
								var flagAllCompleted = false;
								var c = 0;
								for(var i = 0; i < this.arrS3.length; i++) { 
									if(this.arrS3[i].completed == true || this.arrS3[i].aborted == true) c = c+1;
								}
								if(c == this.arrS3.length) flagAllCompleted = true;
								var e = { 
									name: this.name,
									type: this.type,
									size: this.size,
									number: this.number,
									fileArray: this.arrS3,
									targetName: arrS3[this.number].targetName
								}
								options.onCompleteFile(e);
								if(flagAllCompleted) { 
									options.onCompleteAllFiles(e);
									if(options.displayProgress) {
										//var eleP = $(_dlgObj.dialogId + '.V.R1.' + options.progressDisplayPlaceholder);
										var eleP = $(options.resolvedProgressPlaceholder);
										if(eleP) eleP.style.display = 'none';
									}
									delete DLG1_DlgObj.__CORSUploads[__guid];
								}
							},
							userProgressFunction: options.userProgressFunction,
							onError: options.onError,
							name: fi.name, 
							size: fi.size,
							type: fi.type,
							number: num,
							arrS3: arrS3,
							targetName: arrS3[num].targetName,
							__guid: __guid,
							authenticatedRead: options.authenticatedRead
						}
						ops.uploadToS3(fi,signedURL,objS3);
					}
				}
				ops.obj = obj;
				var reader = new FileReader();
				reader.onload = function(e) {
					var eleId = '';
					var ele = '';
					if(typeof options.imageControl != 'undefined' && options.part == 'ux') { 
						eleId = options.__alias + '.V.R1.' + options.imageControl.toUpperCase();
						ele = $(eleId);
						if(ele) ele.src = e.target.result;
					} else { 
						var flagDV = false;
						if(typeof options.__dv != 'undefined') flagDV = options.__dv
						if(flagDV) {
							eleId = options.__alias + '.D.V.R'+options.rowNumber+'.' + options.imageControl.toUpperCase();
						} else { 
							eleId = options.__alias + '.V.R'+options.rowNumber+'.' + options.imageControl.toUpperCase();
						}
						ele = $(eleId);
						if(ele) {
							var oldSrc = ele.src;
							_dlgObj.__oldImage = oldSrc;
							ele.src = e.target.result;
						}
					}
				}
				reader.onerror = function(e) {
					alert('error123');
				}
				reader.readAsDataURL(f);
				_dlgObj.ajaxCallback('','','a5DialogHelper_signAmazonS3FileUploadURL','',data,obj);
			}
		}
		//$e.add($(this.dialogId + '._GETFILEMULTI'),'change',ops.handleFileSelect,'','','__amazonS3fileupload');
		$e.removeGroup('__amazonS3fileupload')
		//bind the change event to the file selector
		if(options.allowMultipleFiles) { 
			if(typeof this._getFileMultiListenerLoaded == 'undefined') { 
				//this._getFileMultiListenerLoaded = true;
				//$(this.dialogId + '._GETFILEMULTI').addEventListener('change',ops.handleFileSelect,false);
				$e.add($(this.dialogId + '._GETFILEMULTI'),'change',ops.handleFileSelect,'','','__amazonS3fileupload');
			}
			eleB = $(this.dialogId + '._GETFILEMULTI');
		} else { 
			if(typeof this._getFileListenerLoaded == 'undefined') { 
				//this._getFileListenerLoaded = true;
				//$(this.dialogId + '._GETFILE').addEventListener('change',ops.handleFileSelect,false);
				$e.add($(this.dialogId + '._GETFILE'),'change',ops.handleFileSelect,'','','__amazonS3fileupload');
			}
			eleB = $(this.dialogId + '._GETFILE');
		}
		eleB.value = '';
		eleB.click();
	}
DLG1_DlgObj._layoutMode = 'containerwidth';
DLG1_DlgObj._responsiveRulesMode = 'firsttrue';
DLG1_DlgObj.__controlNesting = {
PANELHEADER_4: ['container:CT_BUTTONS'],
CT_BUTTONS: [],
CONTAINER_1_1: ['carrinhoID_1','carrItemID','itemID','carrItemQtd','carrItemPrecoUnit'],
CONTAINER_5: ['EmpresaID','EmpresaFantasia','EmpresaEndEndereco','EmpresaEnderecoNumero','EmpresaEndNumero','EmpresaEndComplemento','EmpresaEndBairro','EmpresaEndCidade','EmpresaEndUF','EmpresaEndCEP','EmpresaTelefone','EmpresaPais','deviceLatitude','deviceLongitude'],
CT_ADDRESS: ['container:CONTAINER_11'],
CONTAINER_11: [],
CT_MAPA: ['miniMapa'],
PANELFOOTER_1: ['chatInput'],
ITENS_FOOTER: [],
CARRINHO_FOOTER: [],
WDW_LOGIN: ['UsuarioID','Senha','loggedIn'],
WDW_NOVARESERVA: ['container:CONTAINER_12','ReservaDataHora'],
CONTAINER_12: ['DataReserva','Hora','Minutos','Pessoas']
}
DLG1_DlgObj._listsDV = ['LISTACARRINHOITEM'];
//Add methods to the List prototype for Lists with Detail Views
$u.o.assign(A5.ListBox.prototype,
{
	_controlDefaultValueForListField:  function(fieldName) { 
	var controlName = this._getUXDetailViewControlName(fieldName);
	if(controlName == '') return '';
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
 	return _dlgObj.defaultValues[controlName.toUpperCase()];
}
,
	queryByFormClearControls: function() { 
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var controlName;
	for(var i = 0; i < this._listFields.length; i++) { 
		controlName = this._getUXDetailViewControlName(this._listFields[i].name);
		if(controlName != '') {
			val = '';
			_dlgObj.setValue(controlName,val,false);
		}
	}
}
,
	removeRowFromListByKey: function(rowKey) {
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var curVal = this.value[0];
	this.nullOutDetailViewRecord();
	_dlgObj.persistVariablesToLocalStorage();
	if(curVal != rowKey) { 
		this.removeRows([rowKey]);
		if(typeof curVal != 'undefined') {
			this.setValue(curVal,false);
			this._selectedRow = curVal;
		}
		this.__currentRoute = this._getRoute();
	} else { 
		var index = this.indexFromValue(curVal);
		var newIndex = '';
		if( (index+1) < this._dataMap.length) {
			newIndex = index;
		} else { 
			newIndex = index -1;
		}
		this.removeRows([rowKey]);
		this.setValue(newIndex,false);
		this._selectedRow = newIndex;
		this.__currentRoute = this._getRoute();
	}
	_dlgObj.refreshClientSideComputations();
	var lObj = this;
	if (this._data.length == 0) {
		this.setValue(0,false);
		this._selectedRow = -1;
		var mode = this._noRecordInListIsSelectedSettingForDetailView;
		if(mode == 'newrecord') { 
			var lObj = this;
			setTimeout(function() {lObj.newDetailViewRecord();},10);
		} else if (mode == 'disabledetailview') { 
			var lObj = this;
			setTimeout(function() {lObj.disableDetailView();},10);
		}
	}
}
,
	searchModeOff: function() { 
	if(this._dvmode != 'search') return true;
	var val = this._searchModeReturnValue;
	if(typeof val != 'undefined') { 
		if(val != '') {
			this.setValue(this._searchModeReturnValue);
		} else {
			this.newDetailViewRecord();
		}
	} else { 
		this.newDetailViewRecord();
	}
}
,
	searchModeOn: function() { 
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	if(this.detailViewIsDirty()) { 
		alert('cannot switch to search mode because detail view is dirty');
		return false;
	}
	this._dvmode = 'search';
	this._searchModeReturnValue = this.value;
	this._deselectAll();
	this.queryByFormClearControls();
	if(typeof this.__queryByFormValues != 'undefined') {
		for(var i = 0; i < this.__queryByFormValues.length; i++) { 
			_dlgObj.setValue(this.__queryByFormValues[i].control,this.__queryByFormValues[i].value,false);
		}
	}
	_dlgObj._list_executeEvent(this.listVariableName,'detailView.modeChanged',{mode: 'search'});
	_dlgObj.refreshClientSideComputations();
}
,
	populateUXControls: function() { 
	var _dlgObj = window[this._hostComponentId + '_DlgObj'];
	var ops = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	ops.listVariableName = this.listVariableName;
	ops.listObj = this;
	if(this._detailView.method == 'fieldMap') argIn = this._detailView.fieldMap;
	else argIn = this._detailView.container;
	var _d = this.selectionData[0];
	this._currentDetailViewKey = undefined;
	if(typeof _d == 'undefined') {
		this.nullOutDetailViewRecord();
		return false; 
	}
	this._currentDetailViewKey = _d['*key'];
	window[this._hostComponentId + '_DlgObj']._populateUXControlsWithListData(_d,argIn,ops);
	this._clearServerSideErrors();
	this._showServerSideErrors();
	this._showWriteConflictErrors();
	this._dvmode = 'edit';
	DLG1_DlgObj._list_executeEvent(this.listVariableName,'detailView.modeChanged',{mode: 'edit'});
	DLG1_DlgObj.refreshClientSideComputations();
	this._setParentIsDeletedOnChildren();
	if(!this._restoringList) _dlgObj.persistVariablesToLocalStorage();
	if(typeof _d._flagViewed != 'undefined') { 
		if(_d._flagViewed == false) {
			_d._flagViewed = true;
			this.updateRow(this.selection[0],_d);
		}
	}
	DLG1_DlgObj._list_executeEvent(this.listVariableName,'detailView.afterDetailViewPopulate',{});
}
,
	_setParentIsDeletedOnChildren: function() { 
		var _d = this.selectionData[0];
		if(typeof _d == 'undefined') return false;
		var flagDel = false;
		if(typeof _d['_isDeleted'] != 'undefined') flagDel = _d['_isDeleted'];
		if(!flagDel) {
			var flagParentIsDeleted = false;
			var pData = '';
			if(this.allParentLists.length > 0) { 
				for(var i = 0; i < this.allParentLists.length; i++) {
					pObj = window[this._hostComponentId + '_DlgObj'].getControl(this.allParentLists[i]);
					if(typeof pObj.selection[0] != 'undefined') {
						pData = pObj.getData(pObj.selection[0]);
						if(typeof pData._isDeleted != 'undefined') {
							if(pData._isDeleted) {
								flagParentIsDeleted = true;
								break;
							}
						}
					}
				}
			}
			if(flagParentIsDeleted) flagDel = true;
		}
		var flagParentIsDeleted = false;
		if(typeof this._parentIsDeleted != 'undefined') flagParentIsDeleted =  this._parentIsDeleted;
		this.disableDetailView(flagDel || flagParentIsDeleted);
		var lChildObj = '';
		for(var i = 0; i < this.childLists.length; i++) { 
			lChildObj = window[this._hostComponentId + '_DlgObj'].getControl(this.childLists[i]);
			if(lChildObj) {
				lChildObj.disableDetailView(flagDel);
				if(flagDel) $acn(lChildObj.contId,'parentIsDeleted');
				else $rcn(lChildObj.contId,'parentIsDeleted');
				lChildObj._parentIsDeleted = flagDel;
				lChildObj._setParentIsDeletedOnChildren();
			}
		}
	}
,
	updateListFromUXControls: function() { 		
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		var arr = this._getControlsInDv()
		for(var i = 0; i < arr.length; i++) {
			_dlgObj.clientSideValidateField(arr[i],1,null);
		}
		var flagCSE = this._hasClientSideError();
		if(flagCSE) {
			_dlgObj._list_executeEvent(this.listVariableName,'detailView.hasClientSideValidationErrors',{});
			var msg = this.customization.dv.clientSideErrorWarning;
			if(typeof msg != 'undefined' && msg != '') this._showGlobalError(msg);
			return false;
		} else { 
			this._clearGlobalError();
		}
		var _route = this._getRoute();
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		var flagGetLocationData = this._captureLocation;
		if( DLG1_DlgObj._embeddedMode || DLG1_DlgObj._livePreviewInBuilder) flagGetLocationData = false;
		if(flagGetLocationData) { 
			var _locationHighAccuracy = DLG1_DlgObj.locationHighAccuracy;
			var _locationTimeout = DLG1_DlgObj.locationTimeout;
			var _locationMaximumAge = DLG1_DlgObj.locationMaximumAge;
			var classInst = this;
			navigator.geolocation.getCurrentPosition(
				function(pos) {
					if(typeof DLG1_DlgObj._location == 'undefined') DLG1_DlgObj._location = {};
					DLG1_DlgObj._location.lat = pos.coords.latitude;
					DLG1_DlgObj._location.lng = pos.coords.longitude;
					classInst._updateListFromUXControlsLow();
					delete classInst;
					return true;
				},
				function(error) { 
					delete DLG1_DlgObj._location;
					classInst._updateListFromUXControlsLow();
					delete classInst;
					return true;
 			} ,	{enableHighAccuracy : _locationHighAccuracy, timeout: _locationTimeout, maximumAge: _locationMaximumAge}) 		
		} else { 
			this._updateListFromUXControlsLow();
		}
		this._setRoute(_route);
		if(!this._restoringList)  _dlgObj.persistVariablesToLocalStorage();
		_dlgObj.refreshClientSideComputations();
		if(this.synchronizeImmediately) { 
			var flagOnLine = _dlgObj._getOnlineStatus();
			if (flagOnLine) _dlgObj.saveListEdits(this.listVariableName);
		}
		var dirtyClass = '';
		if(typeof this.dirtyControlClassName != 'undefined') dirtyClass = this.dirtyControlClassName;
		if(dirtyClass != '') this.populateUXControls();
	}
	,
	_updateListFromUXControlsLow: function() { 	
	var flagCSE = this._hasClientSideError();
	if(flagCSE) {
		var msg = this.customization.dv.clientSideErrorWarning;
		if(msg != '') this._showGlobalError(msg);
		return false;
	} else { 
		this._clearGlobalError();
	}
	flagAllParentListsHaveActiveRow = true;
	var pObj = '';
	if(this.allParentLists.length > 0) { 
		for(var i = 0; i < this.allParentLists.length; i++) {
			pObj = window[this._hostComponentId + '_DlgObj'].getControl(this.allParentLists[i]);
			if(typeof pObj.selection[0] == 'undefined') {
				flagAllParentListsHaveActiveRow = false;
				alert('Can\'t save record because there is no active record in the parent List. Parent list id: \''+this.allParentLists[i]+'\'');
				break;
			}
		}
	}
	var ops = typeof arguments[0] != 'undefined' ? arguments[0] : {};
	var flagSynchronize = this.synchronizeImmediately;
	if(typeof ops.synchronize == 'undefined') {
		ops.synchronize = flagSynchronize;
	}
	if(this._detailView.method == 'fieldMap') {
		var res = window[this._hostComponentId + '_DlgObj']._updateListDataFromUXControls(this.listVariableName,this._detailView.fieldMap,ops); this._refreshDebugInfo(); 
	} else {
		var res = window[this._hostComponentId + '_DlgObj']._updateListDataFromUXControls(this.listVariableName,this._detailView.container,ops); this._refreshDebugInfo(); 
	}
	var parentListName = this.parentList;
	if(typeof parentListName != 'undefined') {
		var thisData = this.getData(this.selection[0]);
		var flagIsNewRow = false;
		if(typeof thisData._isNewRow != 'undefined') flagIsNewRow = thisData._isNewRow;
		var plObj = window[this._hostComponentId + '_DlgObj'].getControl(this.parentList);
		if(plObj._setDirtyByChild) {
			if (flagIsNewRow == false)  	plObj._setDirtyByChild(false);
			else plObj._setDirtyByChild(true,thisData,this.listVariableName);
		}
	}
	this._populateMyChildren();
	DLG1_DlgObj._list_executeEvent(this.listVariableName,'detailView.afterUpdateList',{});
	return res;
},
	_setDirtyByChild: function(flagNewRow) { 		
		var rn = this.selection[0];
		if(typeof rn == 'undefined') rn = 0;
		if(flagNewRow) {
			var newData = arguments[1];
			var listName = arguments[2];
			this.setRowDirty(rn,true,newData,listName);
		} else {
			this.setRowDirty(rn,false);
		}
		var parentListName = this.parentList;
		if(typeof parentListName != 'undefined') { 
			if(parentListName != '') {
				var plObj = window[this._hostComponentId + '_DlgObj'].getControl(parentListName);
				if(plObj._setDirtyByChild) 	plObj._setDirtyByChild(false);
			}
		}
		window[this._hostComponentId + '_DlgObj'].refreshClientSideComputations();
	}
	,
	_getChildData: function(existingData,childListName) {		var clObj = DLG1_DlgObj.getControl(childListName);
		if(!clObj) return false;
		if(clObj._dataSourceType.toLowerCase() == 'sql') { 
			return existingData['__LIST__' + childListName];
		} else { 
			return existingData[clObj._objectNameInParentListForData];
		}
	}
	,
	_getChildDataObjectName: function(childListName) { 		var clObj = DLG1_DlgObj.getControl(childListName);
		if(!clObj) return '__LIST__' + childListName.toUpperCase();
		if(clObj._dataSourceType.toLowerCase() == 'sql') { 
			return '__LIST__' + childListName.toUpperCase();
		} else { 
			return clObj._objectNameInParentListForData
		}
	}
	,
	setRowDirty: function(rn,flagNewRow) {		var existingData = this.getData(rn);
		existingData._isDirty = true;
		if(flagNewRow) { 
			var newData = arguments[2];
			var listName = arguments[3];
			var childData = this._getChildData(existingData,listName);
			var childDataObjectName = this._getChildDataObjectName(listName);
			var n = window[this._hostComponentId + '_DlgObj']._findArrayProp(childData,'*key',newData['*key']);
			if(n == -1) {
				if(existingData[childDataObjectName].constructor == Array) {
					existingData[childDataObjectName].push(newData);
				} else { 
					existingData[childDataObjectName] =  [];
					existingData[childDataObjectName].push(newData);
				}
			} else { 
			}
		}
		this.updateRow(rn,existingData);
	}
	,
	_showDirtyDetailViewWarning: function() {
		if(!this.detailViewIsDirty(true)) return true;
		else {
			var obj = {};
			obj.thisListName = this.listVariableName;
			obj.dirtyListName = this._nameOfListWithDirtyDetailView;
			obj.handled = false;
			window[this._hostComponentId + '_DlgObj']._list_executeEvent(this.listVariableName,'detailView.afterListRowSelectCancelled',obj);
			if(obj.handled) return false;
			var msg = this.customization.dv.dirtyDetailViewRecord.message;
			var image = this.customization.dv.dirtyDetailViewRecord.icon;
			var flagCSSIcon = window[this._hostComponentId + '_DlgObj']._isCSSIcon(image);
			var imageHTML = window[this._hostComponentId + '_DlgObj']._getImageHTML(image,flagCSSIcon);
			var flagThisListHasDirtyDv = false;
			if(this.listVariableName == this._nameOfListWithDirtyDetailView) flagThisListHasDirtyDv = true;;
			if(!flagThisListHasDirtyDv) {
				msg = msg + '<br>(List with dirty Detail View: \'' + this._nameOfListWithDirtyDetailView + '\')';
			}
			msg = '<div style="padding: 10px;" >' + imageHTML + msg + '<br style="clear: both;" /></div>';
			var title = this.customization.dv.dirtyDetailViewRecord.title;
			A5.msgBox.show(title,msg,'O',function() {} );
			return false;
		}
	}
	,
	_getListFieldFromControl: function(ctrl) {		var indx = '';
		if(this._detailView.method == 'fieldMap') {
			var map = this._detailView.fieldMap;
			indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(map,'control',ctrl);
			if(indx > -1) return map[indx].field
		} else {
			ctrl = ctrl.toUpperCase();
			var la = this._listFields;
			for(var i = 0; i < la.length; i++) { 
				if(la[i].name.toUpperCase() == ctrl) return la[i].name;
			}
			return false;
		}
	}
	,
	disableDetailView: function() { 		var flag = typeof arguments[0] != 'undefined' ? arguments[0] : true;
		window[this._hostComponentId + '_DlgObj'].setDisabled(this._getControlsInDv(),flag);
	}
	,
	_getControlsInDv: function() {		if(typeof this._controlsInDV != 'undefined') {
			return this._controlsInDV;
		}
		var arr = [];
		if(typeof this._detailView == 'undefined') return '';
		if(typeof this._detailView.method == 'undefined') return '';
		if(this._detailView.method == 'fieldMap') { 
			var ele = '';
			for (var i = 0; i < this._detailView.fieldMap.length; i++) {
				ele = $('DLG1.V.R1.' + this._detailView.fieldMap[i].control.toUpperCase());
				if(ele) arr.push(this._detailView.fieldMap[i].control.toUpperCase());
			}
			this._controlsInDV = arr;
			return arr;
		} else { 
			var indx = -1;
			var ctrlList = window[this._hostComponentId + '_DlgObj'].getControlsInContainer(this._detailView.container);
			for(var c = 0; c < ctrlList.length; c++) {
				for(var i = 0; i < this._listFields.length; i++) {
					if(this._listFields[i].name.toLowerCase() == ctrlList[c].toLowerCase()) arr.push(ctrlList[c].toUpperCase());
				}
			}
			this._controlsInDV = arr;
			return arr;
		}
	}
	,
	_stripCleanBase64Data: function(_d) { 		var _dc = {}
		var cn = '';
		var ct = '';
		var flagDirty = '';
		var flagCapture = '';
		var ix = '';
		var flagEmbeddedImage = '';
		for(var prop in _d) {
			flagCapture = true; 
			cn = this._getUXDetailViewControlName(prop);
			if(cn != '') {
				ct = DLG1_DlgObj._getControlType(cn).toLowerCase();
				if(ct == 'signaturecapture' || ct == 'image') {
					flagCapture = false;
					var _dirtyImages = _d['_dirtyImages'];
					var flagImageDirty = false;
					if(typeof _dirtyImages != 'undefined') {
						flagImageDirty = _dirtyImages[prop];
						if(typeof flagImageDirty != 'undefined') flagCapture = true;
					}
				}
			}
			if(flagCapture) _dc[prop] = _d[prop];
		}
		return _dc;
	}	
	,
	_getData2: function(row) { 		
		var _d = this.getData(row);
		return this._stripCleanBase64Data(_d);
	}
	,
	harvestListRow: function() { 		
		var rn = typeof arguments[0] != 'undefined' ? arguments[0] : -1;
		var obj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
		var flagSumbmitAllChildRecords = false;
		if(typeof obj.flagSumbmitAllChildRecords != 'undefined') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;
		if(typeof rn != 'number') {
			if(!rn._isNewRow){
				var existingData = this._stripCleanBase64Data(rn);
			} else {
				var existingData = rn;
			}
		} else { 
			if(rn > -1) {
				var existingData = this._getData2(rn); 
			} else {
				if(this.selection[0] != 'undefined') var existingData = this._getData2(this.selection[0]); 
			}
		}
		if(typeof existingData == 'undefined') return {};
		var flagDirty = false;
		var flagNewRow = false;
		if(typeof existingData._isDirty != 'undefined') flagDirty = existingData._isDirty;
		if(typeof existingData._isNewRow != 'undefined') flagNewRow = existingData._isNewRow;
		delete existingData._previousData;
		if(flagDirty || flagNewRow) {
			if(!flagSumbmitAllChildRecords) {
				return this._trimNonDirtyData(existingData);
			} else {
				return existingData;
			}
		}
		return {};
	}
	,
	fieldIsDirty: function(field) { 		var rSel = this.selection[0];
		var rn = typeof arguments[1] != 'undefined' ? arguments[1] : rSel;
		if(typeof rSel == 'undefined') return false;
		var _d = this.getData(rn);
		var _dv = _d[field];
		var flagNewRow = _d['_isNewRow'];
		if(typeof flagNewRow == 'undefined') flagNewRow = false;
		if(flagNewRow) { 
			if(_dv == '') return false;
			return true;
		}
		var _od = _d['_oldData'];
		if(typeof _od == 'undefined') return false;
		var _odv = _od[field];
		if(typeof _dv == 'undefined') return false;
		if(typeof _odv == 'undefined') return false;
		if(_dv == _odv ) return false;
		else return true;
	}
	,
	_trimNonDirtyData: function(data) { 		var data2 = {};
		var tData = [];
		for(var prop in data) {
			if(data[prop] != null) {			
				if(data[prop].constructor == Array) {
					tData = [];
					for(var i = 0; i < data[prop].length; i++) {
						if(data[prop][i]._isNewRow || data[prop][i]._isDirty ) {
							tData.push(this._trimNonDirtyData(data[prop][i]));
						}
					}
					data2[prop] = tData;
				} else {
					data2[prop] = data[prop];
				}
			} else {
				data2[prop] = null;
			}
		}
		return data2;
	}
	,
	_logicalRow2PhysicalRow: function(rn) { 		if(typeof rn != 'number') {
			return rn;
		}
		var u = this._dataMap;
		return $u.a.find(u,rn);
	}
	,
	harvestListKeys: function() { 		var existingData = {};
		var arr = [];
		var key = '';
		for (var i = 0; i < this._data.length; i++) { 
			existingData = this._data[i];
			if(typeof existingData.__primaryKey != 'undefined') {
				key = existingData.__primaryKey;
			} else {
				key = existingData['*value']
			}
			if(key != '') arr.push(key);
		}
		return arr;
	}
	,
	harvestList: function() { 		
		var flagPKOnly = typeof arguments[0] != 'undefined' ? arguments[0] : false;
		var obj = typeof arguments[1] != 'undefined' ? arguments[1] : {};
		var startingRow = 1;
		var batchSize = 0;
		var flagSumbmitAllChildRecords = false;
		if(typeof obj.batchSize != 'undefined') batchSize = obj.batchSize;
		if(typeof obj.startingRow != 'undefined') startingRow = obj.startingRow;
		if(typeof obj.flagSumbmitAllChildRecords != 'undefined') flagSumbmitAllChildRecords = obj.flagSumbmitAllChildRecords;
		var flagDirty = false;
		var flagNewRow = false;
		var existingData = '';
		var arr = [];
		var _tempData = '';
		if(batchSize > 0 && startingRow > 1 && flagPKOnly == false) { 
			var arr2 = [];
			var count = 0;
			for(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { 
				rowToGet = this.__arrDirtyRows[i];
				arr2.push(this._data[rowToGet]);
				count = count + 1;
				if(count >= batchSize) break;
			}
			return arr2;
		}
		this.__arrDirtyRows = [];
		for (var i = 0; i < this._data.length; i++) { 
			existingData = this._data[i];
			flagDirty = false; flagNewRow = false;
			if(typeof existingData._isDirty != 'undefined') flagDirty = existingData._isDirty;
			if(typeof existingData._isNewRow != 'undefined') flagNewRow = existingData._isNewRow;
			if(flagDirty || flagNewRow ) {
				if(flagPKOnly == false)	{
					_tempData = this.harvestListRow(existingData, {flagSumbmitAllChildRecords: flagSumbmitAllChildRecords});
					arr.push(_tempData);
				} else {
					if(typeof existingData.__primaryKey != 'undefined') {
						arr.push(existingData.__primaryKey);
					} else {
						arr.push(existingData['*value']);
					}
				}
				if(batchSize > 0 && startingRow == 1 && flagPKOnly == false)  {
					if(flagPKOnly == false) this.__arrDirtyRows.push(existingData['*key']);
				}
			}
		}
		if(batchSize > 0 && flagPKOnly == false) {
			var arr2 = [];
			var count = 0;
			for(var i = startingRow -1; i < this.__arrDirtyRows.length; i++) { 
				rowToGet = this.__arrDirtyRows[i];
				arr2.push(this._data[rowToGet]);
				count = count + 1;
				if(count >= batchSize) break;
			}
			return arr2
		}
		return arr;
	}
	,
	listRowIsDirty: function() {		var rn = typeof arguments[0] != 'undefined' ? arguments[0] : -1;
		var flagNewRow = typeof arguments[1] != 'undefined' ? arguments[1] : false;
		if(rn > -1) {
			var existingData = this.getData(rn);
		} else {
			var existingData = this.getData(this.selection[0]);
		}
		if(typeof existingData == 'undefined') return false;
		if(!flagNewRow) {
			if(typeof existingData._isDirty != 'undefined') return existingData._isDirty;
			else return false;
		} else { 
			if(typeof existingData._isNewRow != 'undefined') return existingData._isNewRow;
			else return false;
		}
	}
	,
	listRowIsNew: function() {		var rn = typeof arguments[0] != 'undefined' ? arguments[0] : -1;
		return this.listRowIsDirty(rn,true);
	}
	,
	_getDataFromRoute: function(route) { 		var rn = [].concat(route);
		var topParent = this.allParentLists[this.allParentLists.length -1];
		if(typeof topParent == 'undefined') var lObj = this;
		else var lObj = window[this._hostComponentId + '_DlgObj'].getControl(topParent);
		var _td = lObj._data;
		for(var i = 0; i < rn.length; i++) { 
		   _td = _td[ rn[i] ];
		}
		return _td;
	}
	,
	_isRowInRouteVisible: function(route) { 		var rn = [].concat(route);
		var topParent = this.allParentLists[this.allParentLists.length -1];
		if(typeof topParent == 'undefined') var lObj = this;
		else var lObj = window[this._hostComponentId + '_DlgObj'].getControl(topParent);
		var index = 0;
		while(rn.length >1) {
			index = lObj._logicalRow2PhysicalRow(rn.shift());
			if(lObj.selection[0] != index) return false;
			lObj = window[this._hostComponentId + '_DlgObj'].getControl(rn.shift().replace('__LIST__',''));
		}
		return true;		
	}
	,
	_isRouteBranchDirty: function(route) { 		var rn = [].concat(route);
		if( typeof  rn[rn.length-1] == 'number' ) rn.pop();
		var _d = this._getDataFromRoute(rn);
		for(var i = 0; i < _d.length; i++) { 
			if( _d[i]._isDirty || _d[i]._isNewRow || _d[i]._isDeletedRow) return true;
		}
		return false;
	}
	,
	_routeBranchHasServerSideError: function(route) { 		var rn = [].concat(route);
		if( typeof  rn[rn.length-1] == 'number' ) rn.pop();
		var _d = this._getDataFromRoute(rn);
		for(var i = 0; i < _d.length; i++) { 
			if(  _d[i]._hasServerSideError ||  _d[i]._flagServerSideErrorInChild  || _d[i]._hasWriteConflictErrors ||  _d[i]._flagWriteConflictErrorInChild      ) return true;
		}
		return false;
	}
	,
	_responseStart: function() {		delete this._rowGUIDS;
		this._rowGUIDS = [];
	}
,
	_responseEnd: function() {		
		var flagUsingSyncLog = false;
		flagUsingSyncLog = this._useServerSideSyncLog;
		if(typeof flagUsingSyncLog == 'undefined') flagUsingSyncLog = false;
		if(flagUsingSyncLog) {
			var _dlgObj = window[this._hostComponentId + '_DlgObj'];
			_dlgObj.synchronizeComplete(this._rowGUIDS);
		}
	}
,
	_getTopParentList: function() { 		
		var allParentLists = this.allParentLists;
		if(typeof allParentLists == 'undefined') return this.listVariableName;
		if(allParentLists.length == 0) return this.listVariableName;
		return allParentLists[allParentLists.length -1];
	}
,
	setRowClean: function() {		var rn = typeof arguments[0] != 'undefined' ? arguments[0] : -1;
		var mode = typeof arguments[1] != 'undefined' ? arguments[1] : -1;
		var flagRouteArray = false;
		if(rn.constructor == Array) { 
			flagRouteArray = true;
			var existingData = this._getDataFromRoute(rn);
			var _row = rn[rn.length -1];
			_row = this._logicalRow2PhysicalRow(_row);
		} else {
			var _row = '';
			var existingData = this.getData(this.selection[0]);
			if(rn > -1) {
				_row = rn;
				_row = this._logicalRow2PhysicalRow(_row);
			} else _row = existingData['*key'];
			var existingData = this.getData(_row);
		}
		if(mode == 1 ) {
			if(typeof existingData._oldData != 'undefined') return false;
		}
		existingData._isDirty = false;
		existingData._isNewRow = false;
		existingData._hasServerSideError = false;
		existingData._serverSideErrors = false;
		existingData._flagServerSideErrorInChild = false;
		existingData._hasWriteConflictErrors = false;
		existingData._hasGlobalErrors = false;
		existingData._flagWriteConflictErrorInChild = false;
		existingData._flagGlobalErrorInChild = false;
		existingData._dirtyImages = false;
		var topParentList = this._getTopParentList();
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		var lTop = _dlgObj.getControl(topParentList);
		if(typeof lTop._rowGUIDS == 'undefined') lTop._rowGUIDS = [];
		lTop._rowGUIDS.push(existingData['*rowGUID']);
		delete existingData['*rowGUID'];
		existingData._writeConflictErrors = false;
		delete existingData._oldData;
		delete existingData._globalErrors;
		delete existingData._globalErrorsRaw;
		if(flagRouteArray) {
			if(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);
		} else {
			this.updateRow(_row,existingData);
		}
		var parentList = this.parentList;
		if(typeof parentList != 'undefined') {
			if(flagRouteArray) var flagListIsDirty =  this._isRouteBranchDirty(rn);  
			else var flagListIsDirty = this.listIsDirty();
			if (flagListIsDirty == false) { 
				var lObj = window[this._hostComponentId + '_DlgObj'].getControl(parentList);
				if(flagRouteArray) {
					rn.pop();
					rn.pop();
					lObj.setRowClean(rn,1);
				} else {
					lObj.setRowClean(-1,1);
				}
			}
		}
	}
	,
	_showError: function(id,moreTxt,lessTxt) { 		var e = $(id);
		var e2 = $(id + '.LINK');
		if(e.style.display == '') { 
			e.style.display = 'none';
			e2.innerHTML = moreTxt;
		} else { 
			e.style.display = '';
			e2.innerHTML = lessTxt;
		}
	}
	,
	_setGlobalCRUDErrors: function(rowNum,txt,mode) { 		
		var ePH =  this._globalErrorPlaceHolder;
		if(typeof ePH == 'undefined') ePH = '';
		var flagPH = $(ePH);
		if(typeof mode == 'undefined') mode = '';
		var txtRaw = txt;
		if(mode != '' && ePH != '' && flagPH) {
			var customMessage = this.customization.dv.databaseError[mode];
			customMessage = customMessage.split('|');
			txt = '<div onclick="window[\''+this._hostComponentId + '_DlgObj\'].getControl(\''+this.listVariableName+'\')._showError(\''+this.listVariableName +'.GLOBALERROR\',\''+customMessage[1]+'\',\''+customMessage[2]+'\');">' + customMessage[0] + '&nbsp;<a id="DLG1.'+this.listVariableName + '.GLOBALERROR.LINK" class="iOS7Link" style="cursor: pointer;color:red; font-size: 8pt;" href=\'#\'>'+customMessage[1]+'</a>' + '<div id="'+this.listVariableName+'.GLOBALERROR" style="display: none; font-size: 8pt;">'+txt+'</div></div>';
		}
		if(rowNum.constructor == Array) { 
			this.setServerSideError(true,rowNum,txt,'ge',txtRaw);
			return true;
		}
		var _d = this._getRowData(rowNum);
		_d._globalErrors = txt;
		_d._globalErrorsRaw = txtRaw;
		_d._hasServerSideError = false;
		_d._serverSideErrors = false;
		this.updateRow(rowNum,_d);
	}
	,
	_setWriteConflictErrors: function(rowNum,eArr) {		if(rowNum.constructor == Array) { 
			this.setServerSideError(true,rowNum,eArr,'wc');
			return true;
		}
		rowNum = this._logicalRow2PhysicalRow(rowNum);
		var _d = this._getRowData(rowNum);
		_d._writeConflictErrors = eArr;
		_d._hasWriteConflictErrors = true;
		this.updateRow(rowNum,_d);
	}
	,
	_setGenericByChild: function(rn,mode) { 	
		var parentListName = this.parentList;
		if(typeof parentListName != 'undefined') { 
			if(parentListName != '') {
				var plObj = window[this._hostComponentId + '_DlgObj'].getControl(parentListName);
				var existingData = plObj._getDataFromRoute(rn);
				if(mode == 'sse') {
					existingData._flagServerSideErrorInChild = true;
				} else if (mode == 'wc') { 
					existingData._flagWriteConflictErrorInChild = true;
				} else if (mode == 'ge') {
					existingData._flagGlobalErrorInChild = true;
				}
				var _row = rn[rn.length -1];
				_row = plObj._logicalRow2PhysicalRow(_row);
				if(plObj._isRowInRouteVisible(rn)) plObj.updateRow(_row,existingData);
				rn.pop();
				rn.pop();
				plObj._setGenericByChild(rn,mode)
			}
		}
	}
	,
	setServerSideError: function(flag) { 		
		var rn = typeof arguments[1] != 'undefined' ? arguments[1] : -1;
		var flagRouteArray = false;
		if(rn.constructor == Array) { 
			flagRouteArray = true;
		}
		var errObj =  typeof arguments[2] != 'undefined' ? arguments[2] : {};
		if(flag == false) {
			errObj = false;
		}
		var mode = typeof arguments[3] != 'undefined' ? arguments[3] : 'sse' 
		var txtRaw = typeof arguments[4] != 'undefined' ? arguments[4] : '';
		var _row = '';
		if(flagRouteArray) { 
			var existingData = this._getDataFromRoute(rn);
			var _row = rn[rn.length -1];
			_row = this._logicalRow2PhysicalRow(_row);
		} else { 
			var existingData = this.getData(this.selection[0]);
			if(rn > -1) {
				_row = rn;
				_row = this._logicalRow2PhysicalRow(_row);
			} else _row = existingData['*key'];
			var existingData = this.getData(_row);
		}
		if(mode == 'sse') {
			existingData._hasServerSideError = flag;
			existingData._serverSideErrors = errObj;
			existingData._globalErrors = false;
			existingData._globalErrorsRaw = ''
			existingData._hasGlobalErrors = false;
		} else if (mode == 'wc') { 
			existingData._hasWriteConflictErrors = flag;
			existingData._writeConflictErrors = errObj;
		} else if (mode == 'ge') { 
			existingData._globalErrors = errObj;
			existingData._globalErrorsRaw = txtRaw;
			existingData._hasGlobalErrors = flag;
			existingData._hasServerSideError = false;
			existingData._serverSideErrors = false;
		}
		if(flagRouteArray) {
			if(this._isRowInRouteVisible(rn)) this.updateRow(_row,existingData);
			if(this._setGenericByChild) {
				rn.pop();
				rn.pop();
				this._setGenericByChild(rn,mode);
			}
		} else {
			this.updateRow(_row,existingData);
		}
	}
	,
	_showWCErrorMore: function(varName) { 		
		var row = this.selection[0];
		this._wceVarname = varName;
		var myValue = window[this._hostComponentId + '_DlgObj'].getValue(varName);
		var _d = this._getRowData(row)
		var wce = _d._writeConflictErrors;
		var wcCount = wce.length;
		var indx = '';
		indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(wce,'varName',varName);
		if(indx == -1) return false 
		wce = wce[indx];
		var mTheirs = this.customization.dv.writeConflict.useTheirsMessage;
		var mMine   = this.customization.dv.writeConflict.useMineMessage;
		var mTheirsAll = this.customization.dv.writeConflict.useTheirsAll;
		var mMineAll   = this.customization.dv.writeConflict.useMineAll;
		mTheirs = mTheirs.replace('{theirvalue}',this._stripHTML(wce.oldValueCurrent,30));
		mMine = mMine.replace('{myvalue}',this._stripHTML(myValue,30));
		var ctxt = this;				
		var mD = [];
		mD.push({html: mMine, value: 'mine'});
		mD.push({html: mTheirs, value: 'theirs'});
		if(wcCount > 1) {
			mD.push('-');
			mD.push({html: mMineAll , value: 'mineAll'});
			mD.push({html: mTheirsAll, value: 'theirsAll' });
		}
		var mS = {
			theme: 'iOS7',
			_hostComponentId : this._hostComponentId,
			listVariableName: this.listVariableName,
			iconColumn: {show: false},
			pointer: {show: true,location: 'auto'},
			animation: {show: {type: 'css-slide',duration: 'fast'}, hide: {type: 'none',duration: 'fast'}},
			onHide: function() {  $(this._eleWCM).style.visibility = '';},
			onClick: function(item) { 
				var lObj = window[this._hostComponentId + '_DlgObj'].getControl(this.listVariableName);
				if(item.value == 'mine') lObj._useMine(this._varName);
				if(item.value == 'mineAll') lObj._useMineAll(); 
				if(item.value == 'theirs') lObj._useTheirs(this._varName);
				if(item.value == 'theirsAll') lObj._useTheirsAll(); 
			}
		};
		var eleWCM = this._hostComponentId +'.WCM.'+this.listVariableName+ '.' +  varName.toUpperCase();
		$(eleWCM).style.visibility = 'hidden';
		if(typeof this._menu == 'undefined') {
			this._menu = new A5.Menu(mD,mS);
		} else {
			this._menu.populate(mD);
		}
		this._menu._varName = varName;
		this._menu._eleWCM = eleWCM;
		var ele = window[this._hostComponentId + '_DlgObj'].getPointer(varName);
		this._menu.show('dropdown',ele);  
	}
	,
	_useMine: function(varName) { 		this.resolveConflictUsingMine(varName);
	}
	,
	_useTheirs: function(varName) { 		this.resolveConflictUsingTheirs(varName);
	}
	,
	_useMineAll: function() { 		this.resolveConflictUsingMine();
	}
	,
	_useTheirsAll: function() { 		this.resolveConflictUsingTheirs();
	}
	,
	resolveConflictUsingMine: function() { 		
		var control = typeof arguments[0] != 'undefined' ? arguments[0] : '__all__';
		var row = this.selection[0];
		var _d = this._getRowData(row)
		var wce = _d._writeConflictErrors;
		if(typeof wce == 'undefined') return false;
		var arr = [];
		if(control == '__all__') arr = this._getControlsInDv();
		else arr.push(control);
		var myValue = '';
		var indx = '';
		var fn = '';
		var ix2 = '';
		for(var i = 0; i < arr.length; i++) {
			myValue = window[this._hostComponentId + '_DlgObj'].getValue(arr[i]);
			indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(wce,'varName',arr[i]);
			if(indx >0 -1) {
				ix2 = window[this._hostComponentId + '_DlgObj']._findArrayProp(wce,'varName',arr[i]);
				if(ix2 == -1) return false 
				fn = this._getListFieldFromControl(arr[i]);
				_d._oldData[fn] = wce[ix2].oldValueCurrent;
				wce.splice(indx,1);
			}
		}
		if(wce.length == 0) {
			_d._writeConflictErrors = false;
			_d._hasWriteConflictErrors = false;
			this.updateRow(row,_d);
		};
		if(_d._hasWriteConflictErrors == false) { 
			var parentList = this.parentList;
			if(typeof parentList != 'undefined') {
				var lObj = window[this._hostComponentId + '_DlgObj'].getControl(parentList);
				lObj._setChildHasWriteConflictFlag();
			}
		}
		this._clearServerSideErrors();
		this._showWriteConflictErrors();
	}
	,
	resolveConflictUsingTheirs: function() { 		
		var control = typeof arguments[0] != 'undefined' ? arguments[0] : '__all__';
		var row = this.selection[0];
		var _d = this._getRowData(row)
		var wce = _d._writeConflictErrors;
		if(typeof wce == 'undefined') return false;
		var arr = [];
		if(control == '__all__') arr = this._getControlsInDv();
		else arr.push(control);
		var myValue = '';
		var indx = '';
		var fn = '';
		var ix2 = '';
		for(var i = 0; i < arr.length; i++) {
			myValue = window[this._hostComponentId + '_DlgObj'].getValue(arr[i]);
			indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(wce,'varName',arr[i]);
			if(indx >0 -1) {
				ix2 = window[this._hostComponentId + '_DlgObj']._findArrayProp(wce,'varName',arr[i]);
				if(ix2 == -1) return false 
				fn = this._getListFieldFromControl(arr[i]);
				_d[fn] = wce[ix2].oldValueCurrent;
				_d._oldData[fn] = wce[ix2].oldValueCurrent;
				window[this._hostComponentId + '_DlgObj'].setValue(arr[i], wce[ix2].oldValueCurrent,false);
				wce.splice(indx,1);
			}
		}
		if(wce.length == 0) {
			_d._writeConflictErrors = false;
			_d._hasWriteConflictErrors = false;
		};
		var allArr = this._getControlsInDv();
		_d._isDirty = false;
		var tempData = '';
		for(var i = 0; i < allArr.length; i++) {
			fn = this._getListFieldFromControl(allArr[i]);
			tempData = _d._oldData[fn];
			if(tempData == null) tempData = '';
			if( _d[fn] != tempData ) {
				_d._isDirty = true;
				break;
			}
		}
		this.updateRow(row,_d);
		this._clearServerSideErrors();
		this._showWriteConflictErrors();	
		if(_d._hasWriteConflictErrors == false) { 
			var parentList = this.parentList;
			if(typeof parentList != 'undefined') {
				var lObj = window[this._hostComponentId + '_DlgObj'].getControl(parentList);
				lObj._setChildHasWriteConflictFlag(); 
			}
		}
		window[this._hostComponentId + '_DlgObj'].refreshClientSideComputations();
	}
	,
	_stripHTML: function(txt,length) { 		var ele = document.createElement('div');
		ele.innerHTML = txt;
		var txt2 = ele.textContent;
		var txt3 = txt2.substr(0,length);
		if(txt3.length < txt2.length) txt3 = txt3 + '...';
		delete ele;		
		return txt2;
	}
	,
	_showWriteConflictErrors: function(row) { 		var _d = this._getRowData(row);
		if(typeof _d == 'undefined') return false; 
		if(typeof _d._writeConflictErrors == 'undefined') return false;
		if(typeof _d._hasWriteConflictErrors == 'undefined') return false;
		if(_d._hasWriteConflictErrors == false) return false;
		_e = _d._writeConflictErrors
		var arr = [];
		for(var i = 0; i < _e.length; i++) {
			delete obj;
			var obj = {};
			obj.id = 'DLG1' + '.V.R1.' + _e[i].varName.toUpperCase();
			obj.message = _e[i].errorText;
			arr.push(obj);
		}
		window[this._hostComponentId + '_DlgObj'].setErrors(arr);;
	}
	,
	_showServerSideErrors: function(row) { 		var _d = this._getRowData();
		if(typeof _d == 'undefined') return false; 
		if(typeof _d._globalErrors != 'undefined') {
			if(_d._globalErrors != '') {
				this._showGlobalError(_d._globalErrors);
			}
		}
		if(typeof _d._serverSideErrors == 'undefined') return false;
		if(typeof _d._hasServerSideError == 'undefined') return false;
		if(_d._hasServerSideError == false) return false;
		_e = _d._serverSideErrors;
		var arr = [];
		for(var i = 0; i < _e.length; i++) {
			delete obj;
			var obj = {};
			obj.id = 'DLG1' + '.V.R1.' + _e[i].varName.toUpperCase();
			obj.message = _e[i].errorText;
			obj.errorType = 'serverside';
			arr.push(obj);
		}
		window[this._hostComponentId + '_DlgObj'].setErrors(arr);;
	}
	,
	_clearServerSideErrors: function() {		var ea = window[this._hostComponentId + '_DlgObj']._eh._e;
		if(typeof ea == 'undefined') return false;
		var arr = this._getControlsInDv();
		var fa = [];
		var id = '';
		for(var i = 0; i < arr.length; i++) {
			id = 'DLG1.V.R1.' + arr[i].toUpperCase()
			if(window[this._hostComponentId + '_DlgObj']._findArrayProp(ea,'id',id) >= 0) fa.push(id);
		}
		window[this._hostComponentId + '_DlgObj'].clearErrors(fa);
		this._clearGlobalError();
	}
	,
	_hasClientSideError: function() { 		var ea = window[this._hostComponentId + '_DlgObj']._eh._e;
		if(typeof ea == 'undefined') return false;
		var arr = this._getControlsInDv();
		var indx = '';
		for(var i = 0; i < arr.length; i++) {
			id = 'DLG1.V.R1.' + arr[i].toUpperCase()
			indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(ea,'id',id);
			if(indx >= 0) {
				if( ea[indx].clientSide == true) {
					return true;
				}
			}
		}
		return false;
	}
	,
	_getRowData: function() { 		var rn = typeof arguments[0] != 'undefined' ? arguments[0] : -1;
		if(rn > -1) return this.getData(rn);
		else return this.getData(this.selection[0]);
	}
	,
	setListClean: function() {		for(var i = 0; i < this._data.length; i++) { 
			this.setRowClean(i);
		}
	}
	,
	deleteRow: function() { 		
		var _rn = this.selection[0];
		if(typeof _rn == 'undefined') return false;
		if(this._executeEvent('detailView.canDeleteRow',{}) == false) return false;
		var ops = typeof arguments[0] != 'undefined' ? arguments[0] : {};
		var flagPrompt = typeof ops.prompt != 'undefined' ? ops.prompt : true;
		if(!flagPrompt) {
			this._deleteRowLow();
			return true;
		}
		var classInst = this;
		var msg = this.customization.dv.confirmDeleteWarning.message;
		var image = this.customization.dv.confirmDeleteWarning.icon;
		var flagCSSIcon = window[this._hostComponentId + '_DlgObj']._isCSSIcon(image);
		var imageHTML = window[this._hostComponentId + '_DlgObj']._getImageHTML(image,flagCSSIcon);
		msg = '<div style="padding: 10px;" >' + imageHTML + msg + '<br style="clear: both;" /></div>';
		var title = this.customization.dv.confirmDeleteWarning.title;
		A5.msgBox.show(title,msg,'yn',function(button) {
			if(button == 'yes'){
				classInst._deleteRowLow();    
		    } else if(button == 'no'){
   			}
   			delete classInst;
		} );
	}
	,
	resetRow: function() { 		if(this._executeEvent('detailView.canResetRow',{}) == false) return false;
		var ops = typeof arguments[0] != 'undefined' ? arguments[0] : {};
		var flagPrompt = typeof ops.prompt != 'undefined' ? ops.prompt : true;
		if(!flagPrompt) {
			this._resetRowLow();
			return true;
		}
		var classInst = this;
		var msg = this.customization.dv.confirmRowResetWarning.message;
		var image = this.customization.dv.confirmRowResetWarning.icon;
		var flagCSSIcon = window[this._hostComponentId + '_DlgObj']._isCSSIcon(image);
		var imageHTML = window[this._hostComponentId + '_DlgObj']._getImageHTML(image,flagCSSIcon);
		msg = '<div style="padding: 10px;" >' + imageHTML + msg + '<br style="clear: both;" /></div>';
		var title = this.customization.dv.confirmRowResetWarning.title;
		A5.msgBox.show(title,msg,'yn',function(button) {
			if(button == 'yes'){
				classInst._resetRowLow();    
		    } else if(button == 'no'){
   			}
   			delete classInst;
		} );
	}
	,
	_resetRowLow: function() { 		var existingData = this.getData(this.selection[0]);
		if(typeof existingData == 'undefined') return false;
		if(typeof existingData._oldData == 'undefined') return false;
		var data = {};
		$u.o.assign(data,existingData._oldData);
		data._isDirty = false;
		data._isDeleted = false;
		data._hasServerSideError = false;
		data._serverSideErrors = false;
		data._hasWriteConflictErrors = false;
		data._writeConflictErrors = false;
		data._oldData = false;
		delete data._globalErrors;
		delete data._globalErrorsRaw;
		this.updateRow(this.selection[0],data);
		var existingData = this.getData(this.selection[0]);
		delete existingData._globalErrors;
		delete existingData._globalErrorsRaw;
		this.updateRow(this.selection[0],existingData);
		window[this._hostComponentId + '_DlgObj'].refreshClientSideComputations();
		this.populateUXControls();
		this._refreshDebugInfo();
		this._executeEvent('detailView.afterResetRow',{});
	}
	,
	_deleteRowLow: function() { 		var data = this.getData(this.selection[0]);
		if(typeof data == 'undefined') return false;
		var flagNewRow = '';
		if(typeof data._isNewRow != 'undefined') flagNewRow = data._isNewRow;
		if(flagNewRow) { 
			var _rn = this.selection[0];
			var _newRow = _rn;
			if( (_newRow +1) > (this._dataMap.length-1) ) _newRow = _newRow -1;
			this.nullOutDetailViewRecord();
			this.removeRows([_rn]);
			data._isDeleted = true;
			var parentListName = this.parentList;
			if(typeof parentListName != 'undefined') {
				var flagIsNewRow = false;
				var plObj = window[this._hostComponentId + '_DlgObj'].getControl(this.parentList);
				var parentData = plObj.getData(plObj.selection[0]);
				var parentDataSublist = parentData['__LIST__' + this.listVariableName];
				var indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(parentDataSublist,'*key',data['*key']);
				parentDataSublist.splice(indx,1);
			}
			this.setValue(_newRow);
			var _dlgObj = window[this._hostComponentId + '_DlgObj'];
			_dlgObj.persistVariablesToLocalStorage();
			return false;
		}
		data._isDirty = true;
		data._hasServerSideError = false;
		data._serverSideErrors = false;
		data._hasWriteConflictErrors = false;
		data._writeConflictErrors = false;
		data._oldData = false;
		data._isDeleted = true;
		this.updateRow(this.selection[0],data);
		window[this._hostComponentId + '_DlgObj'].refreshClientSideComputations();
		this.populateUXControls();
		this._refreshDebugInfo();
		this._executeEvent('detailView.afterDeleteRow',{});
		var parentListName = this.parentList;
		if(typeof parentListName != 'undefined') {
			var flagIsNewRow = false;
			var plObj = window[this._hostComponentId + '_DlgObj'].getControl(this.parentList);
			if(plObj._setDirtyByChild) {
				plObj._setDirtyByChild(false);
			}
		}
		if(this.synchronizeImmediately) { 
			var _dlgObj = window[this._hostComponentId + '_DlgObj'];
			var flagOnLine = _dlgObj._getOnlineStatus();
			if (flagOnLine) _dlgObj.saveListEdits(this.listVariableName);
		}
	}
	,
	resetForm: function() { 		if(this._executeEvent('detailView.canUndoEdits',{}) == false) return false;
		var ops = typeof arguments[0] != 'undefined' ? arguments[0] : {};
		var flagPrompt = typeof ops.prompt != 'undefined' ? ops.prompt : true;
		if(!flagPrompt) {
			this._resetFormLow();
			return true;
		}
		var classInst = this;
		var msg = this.customization.dv.confirmFormResetWarning.message;
		var image = this.customization.dv.confirmFormResetWarning.icon;
		var title = this.customization.dv.confirmFormResetWarning.title;
		var flagCSSIcon = window[this._hostComponentId + '_DlgObj']._isCSSIcon(image);
		var imageHTML = window[this._hostComponentId + '_DlgObj']._getImageHTML(image,flagCSSIcon);
		msg = '<div style="padding: 10px;" >' + imageHTML + msg + '<br style="clear: both;" /></div>';
		A5.msgBox.show(title,msg,'yn',function(button) {
			if(button == 'yes'){
				classInst._resetFormLow();    
		    } else if(button == 'no'){
   			}
   			delete classInst;
		} );
	}
	,
	_resetFormLow: function() {		this.populateUXControls();
		var ctrls = this._getControlsInDv();
		var eleId = '';
		var arr = [];
		var indx = -1;
		for(var i = 0; i < ctrls.length; i++) {
			window[this._hostComponentId + '_DlgObj'].setControlDirty(ctrls[i],false);
			if( window[this._hostComponentId + '_DlgObj']._eh._e.length > 0) {
				eleId = 'DLG1.V.R1.' + ctrls[i].toUpperCase();
				indx = window[this._hostComponentId + '_DlgObj']._findArrayProp(window[this._hostComponentId + '_DlgObj']._eh._e,'id',eleId);
				if(indx >= 0 ) arr.push(eleId);
			}
		}
		if(arr.length > 0) window[this._hostComponentId + '_DlgObj'].clearErrors(arr);
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		_dlgObj.refreshClientSideComputations();
		this._executeEvent('detailView.afterUndoEdits',{});
		var _dlgObj = window[this._hostComponentId + '_DlgObj'];
		_dlgObj.persistVariablesToLocalStorage();
	}
	,
	detailViewIsDirty: function() {		var flagDrillDown = typeof arguments[0] != 'undefined' ? arguments[0] : false;
		var isDirty = false;
		this._nameOfListWithDirtyDetailView = '';
		for(var i = 0; i < this._listFields.length; i++) { 
			controlName = this._getUXDetailViewControlName(this._listFields[i].name);
			if(window[this._hostComponentId + '_DlgObj'].getControlDirty(controlName.toUpperCase())) {
				isDirty =  true;
				this._nameOfListWithDirtyDetailView = this.listVariableName;
				break;
			}
		}
		this._dvIsDirty = isDirty;
		if(isDirty == false && flagDrillDown) {
			var lObj = '';
			for(var i = 0; i < this.childLists.length; i++) {
				lObj = window[this._hostComponentId + '_DlgObj'].getControl(this.childLists[i]);
				if(lObj) {
					isDirty = lObj.detailViewIsDirty(flagDrillDown);
					if(isDirty) {
						this._nameOfListWithDirtyDetailView = lObj._nameOfListWithDirtyDetailView;
						$('msg1').innerHTML = this._nameOfListWithDirtyDetailView ;
					}
					if(isDirty) break;
				}
			}
		}
		return isDirty;
	}
	,
	listIsDirty: function() {		
		for(var i = 0; i < this._data.length; i++) { 
			if(typeof this._data[i]._isDirty != 'undefined') { 
				if(this._data[i]._isDirty) { 
					return true;
				 }
			}
		}
		return false;
	}
	,
	_parentListHasActiveRow: function() {		var pl = this.parentList;
		if(typeof pl == 'undefined') {
			return true;
		}
		var l = window[this._hostComponentId + '_DlgObj'].getControl(pl);
		var s = l.selection[0];
		if(typeof s == 'undefined') return false;
		return true;
	}
	,
	nullOutDetailViewRecord: function() {		var flagDisable = typeof arguments[0] != 'undefined' ? arguments[0] : false;
		var val = '';
		var flagParentListHasActiveRow = this._parentListHasActiveRow();
		if(flagDisable) {
			if(flagParentListHasActiveRow) flagDisable = false;
		}
		var debugMsg = 'CurrentList: ' + this.listVariableName + ' - flagDisable is set to: ' + flagDisable + ' my parentList has active row: ' +  this._parentListHasActiveRow();
		var controlName = '';
		for(var i = 0; i < this._listFields.length; i++) { 
			controlName = this._getUXDetailViewControlName(this._listFields[i].name);
			window[this._hostComponentId + '_DlgObj'].setValue(controlName,val,false);
		}
		this._deselectAll();
		this._clearServerSideErrors();
		if(flagDisable) this.disableDetailView(true);
		else this.disableDetailView(false)
	}
	,
	newDetailViewRecord: function() {		
		var flagParentIsDeleted = false;
		var pData = '';
		if(this.allParentLists.length > 0) { 
			for(var i = 0; i < this.allParentLists.length; i++) {
				pObj = window[this._hostComponentId + '_DlgObj'].getControl(this.allParentLists[i]);
				if(typeof pObj.selection[0] != 'undefined') {
					pData = pObj.getData(pObj.selection[0]);
					if(typeof pData._isDeleted != 'undefined') {
						if(pData._isDeleted) {
							flagParentIsDeleted = true;
							break;
						}
					}
				}
			}
		}
		if(this._executeEvent('detailView.canNewRecord',{}) == false) return false;
		var val = '';
		var controlName = '';
		var defaultJS = '';
		for(var i = 0; i < this._listFields.length; i++) { 
			controlName = this._getUXDetailViewControlName(this._listFields[i].name);
			defaultJS = this._listFields[i].defaultValue;
			if(defaultJS != '') {
				val = Function(this._listFields[i].defaultValue).call(this);
			} else { 
				val = '';
			}
			var _dlgObj = window[this._hostComponentId + '_DlgObj'];
			_dlgObj.setValue(controlName,val,false);
			var controlType = _dlgObj._getControlType(controlName).toLowerCase();
			if(controlType == 'signaturecapture') { 
				_dlgObj._functions._toggleCanvas(controlName.toUpperCase(),'canvas');
				_dlgObj._functions._clearCanvas(controlName.toUpperCase())
			}
		}
		this._deselectAll();
		this._clearServerSideErrors();
		this._executeEvent('detailView.afterNewRecord',{});
		this._emptyAllChildLists();
		if(flagParentIsDeleted) this.disableDetailView(true);
		else this.disableDetailView(false);
		this._dvmode = 'enter';
		DLG1_DlgObj._list_executeEvent(this.listVariableName,'detailView.modeChanged',{mode: 'enter'});
		DLG1_DlgObj.refreshClientSideComputations();
		this._selectedRow = -1;
		this._currentDetailViewKey = undefined;
	}
	,
	_emptyAllChildLists: function() { 		for(var i = 0; i < this.childLists.length; i++) {
			var lobj = window[this._hostComponentId + '_DlgObj'].getControl(this.childLists[i]);
			if(lobj) {
				lobj._emptyList();
				window[this._hostComponentId + '_DlgObj'].setValue(lobj.listVariableName,false);
			}
		}
	}
	,
	_emptyChildList: function(row) { 	
		var _d = this.getData(row);
		var lName = '';
		for(var name in _d) {
			if(_d[name] != null) {
				if(_d[name].constructor == Array) {
					lName = name.split('__LIST__')[1];
					if(typeof lName != 'undefined') {
						_d[name] = [];
					}
				}
			}
		}
	}
	,
	_getUXDetailViewControlName: function(field) {		if(!this._hasDetailView) {
			return '';
		}
		if(this._detailView.method == 'fieldMap') {
			for(var i = 0; i < this._detailView.fieldMap.length; i++) { 
				if(this._detailView.fieldMap[i].field == field) {
					return this._detailView.fieldMap[i].control;
				}
			}
			return '';
		} else { 
			return field;
		}
	}
	,
	_showGlobalError: function(txt) {		
		var gph = this._hostComponentId + '.V.R1.' + this._globalErrorPlaceHolder;
		var ele = $(gph);
		if(!ele) {
			alert(txt);
			return false;
		}
		var cssTxt = this._detailViewGlobalErrorStyle;
		cssTxt = cssTxt + '; display: ;'
		ele.style.cssText = cssTxt;
		ele.innerHTML = txt;
	}
	,
	_clearGlobalError: function() {		var gph = this._hostComponentId + '.V.R1.' + this._globalErrorPlaceHolder;
		ele = $(gph);
		if(ele) {
			ele.style.display = 'none';
			ele.innerHTML = '';
		}
	}
	,
	updateTableRow: function(primaryKeyOrRowNumber,dataObj,options) {		if(typeof options == 'undefined') options = {};
		if(typeof options.setFocusToTargetRow == 'undefind') options.setFocusToTargetRow = false;
		var obj = {};
		obj.programmatic = true;
		obj.data = dataObj;
		obj.primaryKeyOrRowNumber = primaryKeyOrRowNumber;
		obj.setFocusToTargetRow = options.setFocusToTargetRow;
		window[this._hostComponentId + '_DlgObj']._updateListDataFromUXControls(this.listVariableName,null,obj);
		var parentListName = this.parentList;
		if(typeof parentListName != 'undefined') {
			var thisData = this.getData(this.selection[0]);
			var flagIsNewRow = false;
			if(typeof thisData._isNewRow != 'undefined') flagIsNewRow = thisData._isNewRow;
			var plObj = window[this._hostComponentId + '_DlgObj'].getControl(this.parentList);
			if(plObj._setDirtyByChild) {
				if (flagIsNewRow == false)  	plObj._setDirtyByChild(false);
				else plObj._setDirtyByChild(true,thisData,this.listVariableName);
			}
		}		
	}
	,
	addTableRow: function(dataObj,options) {		if(typeof options == 'undefined') options = {};
		if(typeof options.setFocusToTargetRow == 'undefind') options.setFocusToTargetRow = false;
		var obj = {};
		obj.programmatic = true;
		obj.data = dataObj;
		obj.primaryKeyOrRowNumber = null;
		obj.setFocusToTargetRow = options.setFocusToTargetRow;
		window[this._hostComponentId + '_DlgObj']._updateListDataFromUXControls(this.listVariableName,null,obj);
		var parentListName = this.parentList;
		if(typeof parentListName != 'undefined') {
			var thisData = this.getData(this.selection[0]);
			var flagIsNewRow = false;
			if(typeof thisData._isNewRow != 'undefined') flagIsNewRow = thisData._isNewRow;
			var plObj = window[this._hostComponentId + '_DlgObj'].getControl(this.parentList);
			if(plObj._setDirtyByChild) {
				if (flagIsNewRow == false)  	plObj._setDirtyByChild(false);
				else plObj._setDirtyByChild(true,thisData,this.listVariableName);
			}
		}
	}
	,
	_setChildHasWriteConflictFlag: function() { 
	var _d = this.getData(this.selection[0]);
	var flag = this._hasChildWithWriteConflict(); 
	_d._flagWriteConflictErrorInChild = flag;
	if(typeof _d._oldData == 'undefined') { 
		var flag = this._hasChildWithDirtyData()
		_d._isDirty = flag; 
	}
	this.updateRow(this.selection[0],_d);
	var parentList = this.parentList;
	if(typeof parentList != 'undefined') { 
		var lObj = window[this._hostComponentId + '_DlgObj'].getControl(parentList);
		lObj._setChildHasWriteConflictFlag();
	}
	return false;
}
,
	_hasChildWithDirtyData: function() {
	var flag = false;
	var lObj = '';
	var data = '';
	for (var i = 0; i < this.childLists.length; i++) { 
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(this.childLists[i]);
		data = lObj.getData(lObj.selection[0]);
		if(typeof data._isDirty != 'undefined') {
			if(data._isDirty) flag = true;
		}
		if(flag == false) { 
			var flag2 = lObj._hasChildWithDirtyData();
			if(flag2) flag = true;
		}
	}
	return flag;
}
,
	_hasChildWithWriteConflict: function() {
	var flag = false;
	var lObj = '';
	var data = '';
	for (var i = 0; i < this.childLists.length; i++) { 
		lObj = window[this._hostComponentId + '_DlgObj'].getControl(this.childLists[i]);
		data = lObj.getData(lObj.selection[0]);
		if(typeof data._hasWriteConflictErrors != 'undefined') {
			if(data._hasWriteConflictErrors) flag = true;
		}
		if(typeof data._flagWriteConflictErrorInChild != 'undefined') {
			if(data._flagWriteConflictErrorInChild) flag = true;
		}
		if(flag == false) { 
			var flag2 = lObj._hasChildWithWriteConflict();
			if(flag2) flag = true;
		}
	}
	return flag;
}
,
	_populateMyChildren: function() {
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		this._populateChildList(lname);
	}
}
,
	_emptyList: function() { 
	this.populate([]);
	this._currentDetailViewKey = undefined;
	this._selectedRow = -1;
	var e = $('DLG1.' + this.listVariableNameTrueCase + '.RECORDCOUNT');
	if(e) e.innerHTML = '0';
	this.nullOutDetailViewRecord(true); 
	for(var i = 0; i < this.childLists.length; i++) { 
		var lname = this.childLists[i];
		var lobj = window[this._hostComponentId + '_DlgObj'].getControl(lname);
		lobj._emptyList();
	}
}
,
	_populateChildList: function(list) {
	var flagParentIsDeleted = false;
	lChildObj = window[this._hostComponentId + '_DlgObj'].getControl(list);
	if(typeof lChildObj._parentIsDeleted != 'undefined') flagParentIsDeleted = lChildObj._parentIsDeleted;
	var _d = this.selectionData[0];
	var flagClearChildLists = false;
	if(typeof _d == 'undefined') {
		flagClearChildLists = true;
	}
	if(typeof _d == 'undefined') {
		flagClearChildLists = true;
	}
	if(flagClearChildLists) { 
		this._emptyAllChildLists()
		return false;
	}
	var childDataObjectName = this._getChildDataObjectName(list);
	var _rd = _d[childDataObjectName];
	if(_rd == null) { 
		_rd = [];
	}
	if(typeof _rd == 'undefined' || _rd.length == 0) {
		_d[childDataObjectName] = [];
		_rd = _d[childDataObjectName]
	}
	var lobj = window[this._hostComponentId + '_DlgObj'].getControl(list);
	if(lobj) {
		lobj.populate(_rd);
		var e = $('DLG1.' + lobj.listVariableNameTrueCase + '.RECORDCOUNT');
		if(e) e.innerHTML = _rd.length;
		lobj.disableDetailView(false);
		if(lobj.allowNullSelection) {
			if(lobj.nullOutDetailViewRecord) lobj.nullOutDetailViewRecord(true); 
			for(var i = 0; i < lobj.childLists.length; i++) { 
				var lname = lobj.childLists[i];
				lobj._populateChildList(lname);
			}
		}
	}
	this._currentSelection = this.selection[0];
	if(flagParentIsDeleted) lobj.disableDetailView(true);
}
,
	_setSynchProgress: function(pct) {
	var x = '';
	if(Number(pct) == 0) x = 'none';
	var eleO = $('SYNCHPROGRESS.' + this.listVariableName);
	if(eleO) eleO.style.display = '';
	var eleI = $('SYNCHPROGRESS.' + this.listVariableName + '.SLIDER');
	if(eleI) {
		eleI.style.display = x;
		eleI.style.width = '' + pct + '%';
	}
}
,
	_hideSynchProgress: function(pct) {
	var eleO = $('SYNCHPROGRESS.' + this.listVariableName);
	if(eleO) eleO.style.display = 'none';
}
,
	_cancelBatchSynchronize: function() { 
	var flag = this._executeEvent('detailView.canCancelBatch',{});
	if(!flag) { 
		return false;
	}
	this._flagCancelBatchSynchronize = true;
}
}
)
//End section - Add methods to List prototype
DLG1_DlgObj._listControls = ['listaCategorias','listaItens','listaCarrinhoItem','listaReservas','menuPrincipal']
DLG1_DlgObj._localStorageSettings = {namespace: 'ALPHA_545f3d53aeae4c22a2875f85b80ae3c3',friendlyName: '',description: '',persistVariableValues: false,__version: 1,persistComponentState: false,workingPreviewTestingMode: 'Browser',workingPreviewTestingFolder: '',restore: {variables: false,data: false,state: false},minify: false}


$e.add('DLG1.V.R1.BUTTON_25',A5.d.evnts.click,function(e) {
DLG1_DlgObj.panelSetActive('PC_MENUPRINCIPAL',true);
},this,false,'DLG1.V.R1.BUTTON_25');




$e.add('DLG1.V.R1.BTN_CATEGORIAS',A5.d.evnts.click,function(e) {
DLG1_O_3582CDA5E14F4AEC9C6B345C04B42F04(this);
},this,false,'DLG1.V.R1.BTN_CATEGORIAS');

$e.add('DLG1.V.R1.BTN_VAI_AO_CARRINHO',A5.d.evnts.click,function(e) {
DLG1_DlgObj.panelSetActive('PC_CARRINHO_ITEM',true);
},this,false,'DLG1.V.R1.BTN_VAI_AO_CARRINHO');

$e.add('DLG1.V.R1.BTN_VOLTA_AO_CARDAPIO',A5.d.evnts.click,function(e) {
DLG1_DlgObj.panelSetActive('PC_CARDAPIO',true);
},this,false,'DLG1.V.R1.BTN_VOLTA_AO_CARDAPIO');

$e.add('DLG1.V.R1.BTN_VER_ITEMDATA',A5.d.evnts.click,function(e) {
DLG1_DlgObj.panelSetActive('PC_DV_CARRINHO_ITEM',true);
},this,false,'DLG1.V.R1.BTN_VER_ITEMDATA');

$e.add('DLG1.V.R1.BUTTON_22',A5.d.evnts.click,function(e) {
DLG1_DlgObj.panelSetActive('PC_ROUTE_DESC',true);
},this,false,'DLG1.V.R1.BUTTON_22');

$e.add('DLG1.V.R1.BTN_VAI_ROTA_MAPA',A5.d.evnts.click,function(e) {
DLG1_DlgObj.panelSetActive('PC_MAP_ROUTE',true);
},this,false,'DLG1.V.R1.BTN_VAI_ROTA_MAPA');






$e.add('DLG1.V.R1.BTN_CARDAPIO',A5.d.evnts.click,function(e) {
DLG1_DlgObj.panelSetActive('PC_CATEGORIAS',true);
},this,false,'DLG1.V.R1.BTN_CARDAPIO');

$e.add('DLG1.V.R1.BTN_ENDER',A5.d.evnts.click,function(e) {
DLG1_DlgObj.panelSetActive('PC_ENDERECO',true);
},this,false,'DLG1.V.R1.BTN_ENDER');



$e.add('DLG1.V.R1.BTN_RESERVA',A5.d.evnts.click,function(e) {
if( DLG1_DlgObj.getValue('loggedIn') == 'N' )
	{
	DLG1_DlgObj._ativarPainel = 'PC_RESERVAS';
	DLG1_DlgObj.runAction('fazerLogin');
	}
else 
	{
	DLG1_DlgObj.panelSetActive('PC_RESERVAS');
	showTitle();
	}
},this,false,'DLG1.V.R1.BTN_RESERVA');

$e.add('DLG1.V.R1.BTN_MESSAGE',A5.d.evnts.click,function(e) {
if( DLG1_DlgObj.getValue('loggedIn') == 'N' )
	{
	DLG1_DlgObj._ativarPainel = 'PC_MENSAGENS';
	DLG1_DlgObj.runAction('fazerLogin');
	}
else 
	{
	DLG1_DlgObj.panelSetActive('PC_MENSAGENS');
	showTitle();
	}
},this,false,'DLG1.V.R1.BTN_MESSAGE');



























$e.add('DLG1.V.R1.BUTTON_DVSAVE_LISTACARRINHOITEM',A5.d.evnts.click,function(e) {
var lObj = DLG1_DlgObj.getControl('LISTACARRINHOITEM');
lObj.updateListFromUXControls();
},this,false,'DLG1.V.R1.BUTTON_DVSAVE_LISTACARRINHOITEM');

$e.add('DLG1.V.R1.BUTTON_DVNEWRECORD_LISTACARRINHOITEM',A5.d.evnts.click,function(e) {
var lObj = DLG1_DlgObj.getControl('LISTACARRINHOITEM');
lObj.newDetailViewRecord();
},this,false,'DLG1.V.R1.BUTTON_DVNEWRECORD_LISTACARRINHOITEM');

$e.add('DLG1.V.R1.BUTTON_DVDELETERECORD_LISTACARRINHOITEM',A5.d.evnts.click,function(e) {
var lObj = DLG1_DlgObj.getControl('LISTACARRINHOITEM');
lObj.deleteRow();
},this,false,'DLG1.V.R1.BUTTON_DVDELETERECORD_LISTACARRINHOITEM');

$e.add('DLG1.V.R1.BUTTON_DVRESET_LISTACARRINHOITEM',A5.d.evnts.click,function(e) {
var lObj = DLG1_DlgObj.getControl('LISTACARRINHOITEM');
lObj.resetForm({prompt: true});
},this,false,'DLG1.V.R1.BUTTON_DVRESET_LISTACARRINHOITEM');

$e.add('DLG1.V.R1.BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM',A5.d.evnts.click,function(e) {
DLG1_DlgObj.saveListEdits('LISTACARRINHOITEM',{rows: 'allRows'});
},this,false,'DLG1.V.R1.BUTTON_DVSYNCHRONIZE_LISTACARRINHOITEM');


























$e.add('DLG1.V.R1.BTN_MAPA',A5.d.evnts.click,function(e) {
navigator.geolocation.getCurrentPosition(geoLocateSuccess,geoLocateFailed,{enableHighAccuracy : true, timeout:15000, maximumAge:30000});
},this,false,'DLG1.V.R1.BTN_MAPA');

$e.add('DLG1.V.R1.BTN_LIGAR',A5.d.evnts.click,function(e) {
var number = '021'+DLG1_DlgObj.getValue('empresaTelefone')+'';
window.location = 'tel:' + number;
},this,false,'DLG1.V.R1.BTN_LIGAR');


















$e.add('DLG1.V.R1.BUTTON_30',A5.d.evnts.click,function(e) {
alert("Botao Pressionado");

var input = PUBNUB.$('DLG1.V.R1.CHATINPUT');
PUBNUB.publish(
	{
	channel : 'chatCardappio', 
	message : 	{ from: DLG1_DlgObj.getValue('UsuarioID')
				, to: DLG1_DlgObj.getValue('EmpresaID')
				, dataHora: dataAtual(true)
				, text: input.value }, 
	x : (input.value='')
	})
},this,false,'DLG1.V.R1.BUTTON_30');













$e.add('DLG1.V.R1.STATICTEXT_4',A5.d.evnts.click,function(e) {
DLG1_DlgObj.getControl('LISTAITENS').clearSearchList({searchMode : 'auto'});
DLG1_DlgObj.panelSetActive('PC_CARRINHO_ITEM',true);
},this,false,'DLG1.V.R1.STATICTEXT_4');









$e.add('DLG1.V.R1.BUTTON_27',A5.d.evnts.click,function(e) {
DLG1_DlgObj.ajaxCallback('G','1:all','validaUsuario','','',{onComplete: function() { DLG1_DlgObj.hideContainerWindow('WDW_LOGIN');
DLG1_DlgObj.setValue('loggedIn','S');
DLG1_DlgObj.panelSetActive(DLG1_DlgObj._ativarPainel);
if( DLG1_DlgObj._ativarPainel == 'PC_MENSAGENS' )
	ativaChat();},deviceOfflineFunction: function() {   }});
},this,false,'DLG1.V.R1.BUTTON_27');












$e.add('DLG1.V.R1.BUTTON_2',A5.d.evnts.click,function(e) {
var qtd = $u.s.toNum(DLG1_DlgObj.getValue('Pessoas'));

if( qtd > 1 ) qtd--;

DLG1_DlgObj.setValue('Pessoas', qtd);
},this,false,'DLG1.V.R1.BUTTON_2');


$e.add('DLG1.V.R1.BUTTON_1',A5.d.evnts.click,function(e) {
var qtd = $u.s.toNum(DLG1_DlgObj.getValue('Pessoas'));
qtd++;
DLG1_DlgObj.setValue('Pessoas', qtd);
},this,false,'DLG1.V.R1.BUTTON_1');

$e.add('DLG1.V.R1.BUTTON_3',A5.d.evnts.click,function(e) {
var data = DLG1_DlgObj.getValue('DataReserva');
var hora = DLG1_DlgObj.getValue('Hora');
var min  = DLG1_DlgObj.getValue('Minutos');

var data = data.substr(0,10)+' '+hora+':'+min+':00';

DLG1_DlgObj.setValue('ReservaDataHora',data);

var listReservas = DLG1_DlgObj.getControl('listaReservas');
},this,false,'DLG1.V.R1.BUTTON_3');






DLG1_DlgObj.prepare();DLG1_DlgObj.populate(DLG1_DlgObj.originalValues[0]);
DLG1_DlgObj._fireWatches(1);

if(!A5.flags.isMobile) $e.add(window,'resize',DLG1_DlgObj._functions.calcOrientation);
else $e.add(window,'orientationchange',DLG1_DlgObj._functions.calcOrientation);
DLG1_DlgObj._functions.calcOrientation();































var listObj = DLG1_DlgObj.getControl('LISTACATEGORIAS');
if(listObj) listObj._state.recordCount = 0;
if(listObj) listObj._state.recordCountFormatted = '0';
if(listObj) listObj._state.lastBreakValue = '<None>';
if(listObj) listObj._state.pageCount = 0;
if(listObj) listObj._state.pageSize = 20;
if(listObj) var ele = $('DLG1.listaCategorias.RECORDCOUNT'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;
if(listObj) listObj._state.paginated = false;

if(listObj) listObj._state.filter = '';
if(listObj) listObj._state.order = '';
if(listObj) listObj._state.filterParameters = '';
if(listObj) listObj._state.whereClause = '';
if(listObj) listObj._state.whereParameters = '';
		
		var flagPersist = false;
		if(typeof listObj._flagPersistDataOK != 'undefined') { 
			if(listObj._flagPersistDataOK) { 
				var data = listObj._data;
				listObj.persistToStorage({mode:'populate', data: data});
			}
		}
		
		
;
DLG1_DlgObj._list_executeEvent('LISTACATEGORIAS','afterRenderComplete',{});

if(listObj._refreshStateMessages) listObj._refreshStateMessages();


var listObj = DLG1_DlgObj.getControl('LISTAITENS');
if(listObj) listObj._state.recordCount = 0;
if(listObj) listObj._state.recordCountFormatted = '0';
if(listObj) listObj._state.lastBreakValue = '<None>';
if(listObj) listObj._state.pageCount = 0;
if(listObj) listObj._state.pageSize = 20;
if(listObj) var ele = $('DLG1.listaItens.RECORDCOUNT'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;
if(listObj) listObj._state.paginated = false;

if(listObj) listObj._state.filter = '';
if(listObj) listObj._state.order = '';
if(listObj) listObj._state.filterParameters = '';
if(listObj) listObj._state.whereClause = '';
if(listObj) listObj._state.whereParameters = '';
		
		var flagPersist = false;
		if(typeof listObj._flagPersistDataOK != 'undefined') { 
			if(listObj._flagPersistDataOK) { 
				var data = listObj._data;
				listObj.persistToStorage({mode:'populate', data: data});
			}
		}
		
		
;
DLG1_DlgObj._list_executeEvent('LISTAITENS','afterRenderComplete',{});

if(listObj._refreshStateMessages) listObj._refreshStateMessages();







var listObj = DLG1_DlgObj.getControl('LISTACARRINHOITEM');
if(listObj) listObj._state.recordCount = 0;
if(listObj) listObj._state.recordCountFormatted = '0';
if(listObj) listObj._state.lastBreakValue = '<None>';
if(listObj) listObj._state.pageCount = -0;
if(listObj) listObj._state.pageSize = 20;
if(listObj) var ele = $('DLG1.listaCarrinhoItem.RECORDCOUNT'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;
if(listObj) listObj._state.paginated = false;
if(listObj) listObj._state._optimizedJSON = true;
if(listObj) listObj._state.filter = '';
if(listObj) listObj._state.order = '';
if(listObj) listObj._state.filterParameters = '';
if(listObj) listObj._state.whereClause = 'carrinhoID = :carrinhoAtual';
if(listObj) listObj._state.whereParameters = '0|||N|carrinhoatual\n(51)9155-2004|||C|usuarioatual\n0|||N|categoriaatual\n';
		
		var flagPersist = false;
		if(typeof listObj._flagPersistDataOK != 'undefined') { 
			if(listObj._flagPersistDataOK) { 
				var data = listObj._data;
				listObj.persistToStorage({mode:'populate', data: data});
			}
		}
		
		
;
listObj._state.pageCount = -0;
DLG1_DlgObj._list_executeEvent('LISTACARRINHOITEM','afterRenderComplete',{});

if(listObj._refreshStateMessages) listObj._refreshStateMessages();






























































var listObj = DLG1_DlgObj.getControl('LISTARESERVAS');
if(listObj) listObj._state.recordCount = 2;
if(listObj) listObj._state.recordCountFormatted = '2';
if(listObj) listObj._state.lastBreakValue = '<None>';
if(listObj) listObj._state.pageCount = -2;
if(listObj) listObj._state.pageSize = 20;
if(listObj) var ele = $('DLG1.listaReservas.RECORDCOUNT'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;
if(listObj) listObj._state.paginated = false;
if(listObj) listObj._state._optimizedJSON = true;
if(listObj) listObj._state.filter = '';
if(listObj) listObj._state.order = 'ReservaDataHora DESC';
if(listObj) listObj._state.filterParameters = '';
if(listObj) listObj._state.whereClause = 'ClienteID = :usuarioAtual';
if(listObj) listObj._state.whereParameters = '0|||N|carrinhoatual\n(51)9155-2004|||C|usuarioatual\n0|||N|categoriaatual\n';
		
		var flagPersist = false;
		if(typeof listObj._flagPersistDataOK != 'undefined') { 
			if(listObj._flagPersistDataOK) { 
				var data = listObj._data;
				listObj.persistToStorage({mode:'populate', data: data});
			}
		}
		
		
;
listObj._state.pageCount = -2;
DLG1_DlgObj._list_executeEvent('LISTARESERVAS','afterRenderComplete',{});

if(listObj._refreshStateMessages) listObj._refreshStateMessages();


var listObj = DLG1_DlgObj.getControl('MENUPRINCIPAL');
if(listObj) listObj._state.recordCount = 8;
if(listObj) listObj._state.recordCountFormatted = '8';
if(listObj) listObj._state.lastBreakValue = '<None>';
if(listObj) listObj._state.pageCount = -2;
if(listObj) listObj._state.pageSize = 20;
if(listObj) var ele = $('DLG1.menuPrincipal.RECORDCOUNT'); if(ele) ele.innerHTML = listObj._state.recordCountFormatted;
if(listObj) listObj._state.paginated = false;
if(listObj) listObj._state._optimizedJSON = true;
if(listObj) listObj._state.filter = '';
if(listObj) listObj._state.order = 'ReservaDataHora DESC';
if(listObj) listObj._state.filterParameters = '';
if(listObj) listObj._state.whereClause = 'ClienteID = :usuarioAtual';
if(listObj) listObj._state.whereParameters = '0|||N|carrinhoatual\n(51)9155-2004|||C|usuarioatual\n0|||N|categoriaatual\n';
		
		var flagPersist = false;
		if(typeof listObj._flagPersistDataOK != 'undefined') { 
			if(listObj._flagPersistDataOK) { 
				var data = listObj._data;
				listObj.persistToStorage({mode:'populate', data: data});
			}
		}
		
		
;
DLG1_DlgObj._list_executeEvent('MENUPRINCIPAL','afterRenderComplete',{});

if(listObj._refreshStateMessages) listObj._refreshStateMessages();


































var obj = DLG1_DlgObj.getControl('LISTACATEGORIAS');
obj._hasBeenRendered = false;
var obj = DLG1_DlgObj.getControl('LISTAITENS');
obj._hasBeenRendered = false;


var lObj = DLG1_DlgObj.getControl('LISTACATEGORIAS');
$e.add(lObj.contId,'abstracttap',function(e) { 
	var lObj = DLG1_DlgObj.getControl('LISTACATEGORIAS');
	var index = lObj.indexFromPoint(e.abstractData.startX,e.abstractData.startY);
	//only fire the onTap if user clicked on a real row;
	if(index > -1) lObj._onTap(index);
});









var lObj = DLG1_DlgObj.getControl('LISTARESERVAS');
$e.add(lObj.contId,'abstracttap',function(e) { 
	var lObj = DLG1_DlgObj.getControl('LISTARESERVAS');
	var index = lObj.indexFromPoint(e.abstractData.startX,e.abstractData.startY);
	//only fire the onTap if user clicked on a real row;
	if(index > -1) lObj._onTap(index);
});



var lObj = DLG1_DlgObj.getControl('MENUPRINCIPAL');
$e.add(lObj.contId,'abstracttap',function(e) { 
	var lObj = DLG1_DlgObj.getControl('MENUPRINCIPAL');
	var index = lObj.indexFromPoint(e.abstractData.startX,e.abstractData.startY);
	//only fire the onTap if user clicked on a real row;
	if(index > -1) lObj._onTap(index);
});



setTimeout(function() { },0);
DLG1_DlgObj._listsWithJSFuncDataSource = {};


DLG1_DlgObj._executeEvent('onInitializeComplete');
DLG1_DlgObj.initialized = true;


;


var eleS = $('DLG1.V.R1.ITENS_FOOTER');
var eleT = $('636edf47-8eb3-4de6-9400-b5b802d88756');
if(eleS && eleT) eleT.appendChild(eleS);
var eleS = $('DLG1.V.R1.CARRINHO_FOOTER');
var eleT = $('efc09a5d-307f-455f-9cb1-0efae4571120');
if(eleS && eleT) eleT.appendChild(eleS);

var dataObj = {
	empresaFantasia: 'Khumo Sushi',
	empresaEndEndereco: 'Rua João Maciel',
	empresaEndNumero: 84,
	empresaEndComplemento: 'Casa',
	empresaEndBairro: 'Pitangueiras',
	empresaEndCidade: 'Santo Antonio da Patrulha',
	empresaEndUF: 'RS',
	empresaEndCEP: '95500-000',
	empresaTelefone: '(51)9988-9090'
};

DLG1_DlgObj.populate(dataObj);
DLG1_DlgObj._fireWatches(1);

DLG1_DlgObj._onRenderComplete = function() { DLG1_DlgObj._runJSOnLoad(); DLG1_DlgObj._findActiveLayoutRule(); }; 
setTimeout(function() {DLG1_DlgObj._executeEvent('onRenderComplete'); DLG1_DlgObj.flagRenderComplete = true;  DLG1_DlgObj._restoreFromLocalStorage(); },1);

DLG1_DlgObj._getOnlineStatus();
try {
window.addEventListener("offline",function() { DLG1_DlgObj._fireOnConnectionChangeEvent() });
window.addEventListener("online",function() { DLG1_DlgObj._fireOnConnectionChangeEvent() });
} catch(err){}

setTimeout(function() {$e.execute('device.screen','a5resize')},1);
setTimeout(function() { },10);;
DLG1_DlgObj._activeLanguage = '<Default>';
</script>

</body>
</html>